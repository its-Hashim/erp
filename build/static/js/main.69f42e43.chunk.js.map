{"version":3,"sources":["Page Component/Components/Table.module.css","Page Component/Purchase/Bill/bill.module.css","Page Component/Products/index.module.css","Store/authSlice.js","Util/auth.js","Components/NavBar.jsx","Store/cartSlice.js","Page Component/Purchase/Cart.jsx","Page Component/Purchase/Component/Input.jsx","Page Component/Purchase/Component/PrependInput.jsx","Page Component/Purchase/CheckoutForSales.jsx","Page Component/Purchase/Bill/Bill.jsx","Page Component/Components/Table.jsx","Page Component/Sales/Sale/Sale.jsx","Page Component/Clients/Clients.jsx","Page Component/Clients/Component/ClientsForm.jsx","Page Component/Clients/ClientDetails.jsx","Page Component/Clients/CientsHistory.jsx","Page Component/Products/Products.jsx","Page Component/Clients/AddClients.jsx","Page Component/Products/AddProducts.jsx","Page Component/Products/EditProduct.jsx","Page Component/ProductCategory/Categories.jsx","Page Component/ProductCategory/AddCategory/SpecField.jsx","Page Component/ProductCategory/AddCategory/AddCategory.jsx","Page Component/ProductCategory/Category/Category.jsx","Page Component/Distributors/Distributors.jsx","Page Component/Distributors/DistributorsForm.jsx","Page Component/Distributors/AddDistributors.jsx","Page Component/Distributors/DistributorsHistory.jsx","Page Component/Auth/Login.jsx","Page Component/Auth/SignUp.jsx","Page Component/ErrorPages/ErrorSection/ErrorSection.jsx","Page Component/ErrorPages/ErrorPage.jsx","Page Component/Auth/Logout.jsx","App.js","Store/index.js","index.js"],"names":["module","exports","authSlice","createSlice","name","initialState","authenticated","user","reducers","login","state","action","payload","logout","actions","getTokenDuration","storedExpirationDate","localStorage","getItem","expirationDate","Date","now","getTime","getAuthToken","token","tokenLoader","redirect","fetch","process","headers","then","res","statusText","json","userData","catch","e","msg","NavBar","props","useSelector","cart","auth","dispatch","useDispatch","useNavigate","useLoaderData","submit","useSubmit","useEffect","tokenDuration","setTimeout","method","logoutHandler","ManageDropDown","position","className","href","id","role","to","src","height","alt","type","style","width","htmlFor","viewBox","fill","xmlns","fillRule","d","value","onClick","cartSlice","cartNo","summery","tax","shipping","discount","cart_no","updateAll","updateCart","updateCartNo","updateSummery","Cart","navigate","useState","product_list","setProductList","search","setSearch","quantityChanged","setQuantityChanged","discChanged","setDiscChanged","url","URLSearchParams","axios","get","data","totalSum","sum","forEach","element","mrp","quantity","per_peice_quantity","toFixed","quantityChangedHandler","event","index","target","split","cart2","prod","discountChangeHandler","addToCart","length","alert","found","findIndex","i","product_id","unshift","console","log","removeProductHandler","el","sl_no","Number","splice","quanBlurHand","post","discBlurHand","autoFocus","list","onKeyDown","keyCode","onChange","dir","map","product","product_name","stock","tabIndex","onSubmit","preventDefault","padding","unit","form","onBlur","step","fontSize","hidden","placeholder","cp","checked","summ","border","outline","borderBottom","formAction","formMethod","Input","label","disabled","ref","datalist","required","focus","color","error","PrependInput","prepend","CheckoutForSales","setCart","setSummery","clients","setClient","subtotal","setSubtotal","setTax","total","setTotal","mobile","setMobile","setName","add1","setAdd1","add2","setAdd2","city","setCity","setState","country","setCountry","zip","setZip","dues","setDues","paybleAmount","setPaybleAmount","paymentAmount","setPaymentAmount","inputDisabled","setInputDisabled","dateObj","month","getMonth","m","day","String","getDate","padStart","output","getFullYear","dueDate","setDueDate","date","setDate","mobileError","setMobileError","nameError","setNameError","add1Error","setAdd1Error","cityError","setCityError","stateError","setStateError","countryError","setCountryError","zipError","setZipError","paymentError","setPaymentError","hostName","tempSubtotal","tempTax","tempTotal","formSubmitHandler","stopPropagation","toString","undefined","body","JSON","stringify","response","saleId","marginBottom","noValidate","clientPresent","currentValue","mobile_no","client_id","ok","Error","previous_due","due","client","float","Bill","string","setString","pdf","setPdf","setSaleId","useParams","getPDF","soldProducts","saleDetails","previousDue","jsPDF","summery_discount","img","Image","startY","finalY","breakY","decor","addImage","setFont","setFontSize","setTextColor","text","address_line_1","address_line_2","city_or_district","postal_code","sale_id","paid","Math","round","due_date","setDrawColor","setLineWidth","line","desc","splitTextToSize","rate","disc","price","amount","addPage","totalPage","internal","getNumberOfPages","setPage","fetchData","classes","parent","title","autoPrint","save","moveItemsToCart","success","err","Table","goToValue","setGoToValue","cardHeader","headerItems","filterItems","marginTop","thData","scope","trData","rowURL","hide_url","clickEvent","Object","entries","pageNo","margin","noOfPages","marginLeft","maxWidth","min","Sale","useReducer","period","salesList","paddingBottom","Clients","formData","setFormData","clientsList","allClientsList","c","replace","txt","charAt","toUpperCase","substr","toLowerCase","ClientsForm","s","l1","l2","mode","buttonText","ClientDetails","ClientHistory","details","showDetails","detailsButton","clientDetails","display","loader","params","Products","productList","amt","stk","brandList","categoryList","cat","brand","active","totalStock","totalAmount","filterItem","defaultValue","brand_name","request","obj","catagory","ret","done","AddClients","AddProducts","brands","category","units","pageDetails","setPageDetails","b","u","EditProduct","specField","setSpecField","specs","setSpecs","specsValue","setSpecsValue","setCat","qPerPc","setQPerPc","setBrand","setBrandList","setActive","setMrp","setCp","setStock","minStock","setMinStock","maxStock","setMaxStock","setUnit","unitList","setUnitList","catSpecId","setCatSpecId","specsChar","setSpecsChar","specsValues","min_stock","default_stock","catagory_specs_id","temp","spec","Field","Type","tempo","v","j","quantity_per_peice","slice","Categories","class","this_catagory_belongs_to","SpecField","n","AddCategory","no_of_specs","setNo_of_specs","specFields","setSpecFields","push","Category","category_specs","del","Default","Distributors","distributorsList","allDistributorsList","dist","distributor_id","DistributorsForm","AddDistributors","DistributorsHistory","credentials","password","email","setItem","expiration","setHours","getHours","toISOString","Login","pwd","SignUp","ErrorSection","status","btnText","header","ErrorPage","useRouteError","removeItem","App","router","createBrowserRouter","path","errorElement","rootLoader","children","clientsHistoryLoader","addClientAction","editProductAction","productAction","categoriesLoader","addCategoryAction","categoryLoader","distributorsHistoryLoader","signUpAction","logInLoader","logInAction","logoutAction","store","configureStore","reducer","cartReducer","authReducer","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.69f42e43.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"cardHeader\":\"Table_cardHeader__sr_W9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"parent\":\"bill_parent__h3uTZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterItem\":\"Products_filterItem__2etRJ\"};","import {createSlice} from '@reduxjs/toolkit'\r\n\r\nconst authSlice = createSlice ({\r\n  name: 'auth',\r\n  initialState:{\r\n        authenticated: false,\r\n        user: {}\r\n      },\r\n  reducers:{\r\n    login(state, action){\r\n\r\n      // console.log('-------------from slice-------------')\r\n      // console.log(action.payload)\r\n      state.authenticated = action.payload.authenticated\r\n      state.user = action.payload.user\r\n    },\r\n    logout(state, action){\r\n      state.authenticated = false\r\n      state.user = {}\r\n    }\r\n  }\r\n});\r\n\r\nexport default authSlice.reducer\r\nexport const { login, logout } = authSlice.actions","\r\nimport {redirect} from 'react-router-dom'\r\n\r\nexport const rootLoader = async ({request, params})=>{\r\n  // console.log('------------------FROM THE ROOT LOADER-------------------------');\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/loginReact', {\r\n    credentials: \"include\",\r\n  });\r\n  const ret = await res.json();\r\n  if (ret.authenticated) {\r\n    return ret;\r\n  }else{\r\n    console.log('redirecting');\r\n    return redirect('/login')\r\n  }\r\n}\r\n\r\nexport function getTokenDuration() {\r\n  const storedExpirationDate = localStorage.getItem('expiration');\r\n  const expirationDate = new Date(storedExpirationDate);\r\n  const now = new Date();\r\n  const duration = expirationDate.getTime() - now.getTime();\r\n  return duration;\r\n}\r\n\r\nexport function getAuthToken() {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if (!token) {\r\n    return null;\r\n  }\r\n\r\n  const tokenDuration = getTokenDuration();\r\n\r\n  if (tokenDuration < 0) {\r\n    return null;\r\n  }\r\n\r\n  return token;\r\n}\r\n\r\nexport async function tokenLoader() {\r\n  const token = getAuthToken();\r\n  if (token === null) {\r\n    return redirect('/login');\r\n  } else {\r\n\r\n    let userData;\r\n    await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getUserData\", {\r\n      headers: {\r\n        'Authorization': 'Bearer ' + token\r\n      },\r\n    }).then(async res=>{\r\n      // console.warn(res.status)\r\n      // console.warn(res.statusText)\r\n      if (res.statusText != 'OK') {\r\n        throw res;\r\n      }\r\n      userData = await res.json()\r\n      // console.log(userData);\r\n      // return {token, userData};\r\n    }).catch(e=>{\r\n      throw {msg:\"No network connection\"};\r\n      // console.log(e);\r\n    });\r\n    return {token, userData};\r\n  }\r\n}\r\n\r\nexport function checkAuthLoader() {\r\n  const token = getAuthToken();\r\n\r\n  if (!token) {\r\n    return redirect('/login');\r\n  }\r\n}","import React, { useEffect } from \"react\";\r\nimport { Link, Outlet, useNavigate, useLoaderData, useSubmit } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {login, logout} from '../Store/authSlice'\r\nimport { getTokenDuration } from \"../Util/auth\";\r\n\r\n\r\nfunction NavBar(props) {\r\n\r\n  const {cart, auth}  = useSelector(state=>{return{cart:state.cart, auth: state.auth}});\r\n  // console.log(cart);\r\n  // console.log(auth);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  const {token, userData} = useLoaderData();\r\n  const submit = useSubmit();\r\n\r\n  // useEffect(()=>{\r\n    // },[])\r\n    \r\n    useEffect(async () =>{\r\n      \r\n      \r\n      // console.log(userData);\r\n      // console.log(token);\r\n      \r\n      dispatch(login(userData))\r\n    \r\n    \r\n\r\n\r\n    const tokenDuration = getTokenDuration();\r\n    // console.log(tokenDuration);\r\n\r\n    setTimeout(() => {\r\n      submit(null, { action: '/logout', method: 'post' });\r\n    }, tokenDuration);\r\n  }, [token, submit]);\r\n\r\n  const logoutHandler = async ()=>{\r\n    dispatch(logout())\r\n    submit(null, { action: '/logout', method: 'post' });\r\n    \r\n  }\r\n  // const logoutHandler = async ()=>{\r\n  //   // console.log(\"Handling logout\")\r\n  //   let res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/logoutReact2\",{\r\n  //     method:'post',\r\n  //     credentials: 'include'\r\n  //   });\r\n  \r\n  //   res = await res.json()\r\n  //   if (res.success) {\r\n  //     navigate('/login')\r\n  //     dispatch(logout())\r\n  //   }\r\n    \r\n  // }\r\n\r\n\r\n  let ManageDropDown = null;\r\n\r\n  if (auth.authenticated) {\r\n    ManageDropDown =  (auth.user.position == 'manager') &&<li className=\"nav-item d-inline-flex align-items-center dropdown\">\r\n                        <a\r\n                          className=\"nav-link dropdown-toggle text-light\"\r\n                          href=\"#\"\r\n                          id=\"managerDropdown\"\r\n                          role=\"button\"\r\n                          data-toggle=\"dropdown\"\r\n                          aria-haspopup=\"true\"\r\n                          aria-expanded=\"false\"\r\n                        >\r\n                          Manager\r\n                        </a>\r\n                        <div className=\"dropdown-menu\" aria-labelledby=\"managerDropdown\">\r\n                          <Link to=\"/clients\" className=\"dropdown-item\">Clients</Link>\r\n                          <Link to=\"/sales\" className=\"dropdown-item\">Sales Account</Link>\r\n                          <Link to=\"/products\" className=\"dropdown-item\">Products</Link>\r\n                          <Link to=\"/productsCatagory\" className=\"dropdown-item\">Catagories</Link>\r\n                          {/* <!-- <a href=\"/clients/add\" className=\"dropdown-item\">Add Client</a> --> */}\r\n                          {/* <!-- <a href=\"/send-sms\" className=\"dropdown-item\">Send SMS</a> --> */}\r\n                          <a href=\"/accounts\" className=\"dropdown-item\">\r\n                            Cash Account\r\n                          </a>\r\n                          <Link to=\"/distributors\" className=\"dropdown-item\">Distributors</Link>\r\n                          <Link to=\"/purchase-account\" className=\"dropdown-item\">\r\n                            Purchase Account\r\n                          </Link>\r\n                          <Link to=\"/signUp\" className=\"dropdown-item\">Add Member</Link>\r\n                          {/* <!-- <a href=\"/manager/dashboard\" className=\"dropdown-item\">Dashboard</a> --> */}\r\n                        </div>\r\n                      </li>\r\n  }\r\n\r\n\r\n\r\n  return (\r\n\r\n    <>\r\n    <nav className=\"navbar navbar-expand-md navbar-dark bg-dark\">\r\n      <Link to={\"/\"}>\r\n        <img src=\"/Images/logo.jpg\" height=\"40px\" alt=\"cannot load\" />\r\n      </Link>\r\n      <button\r\n        className=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-toggle=\"collapse\"\r\n        data-target=\"#navbarSupportedContent\"\r\n        aria-controls=\"navbarSupportedContent\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span className=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n        <ul className=\"navbar-nav mr-auto\">\r\n          <div style={{width:'20px'}}></div>\r\n          <li className=\"nav-item d-inline-flex align-items-center\">\r\n            <a className=\"nav-link text-light\" href=\"/products/plywood\">\r\n              Plywood\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item d-inline-flex align-items-center\">\r\n            <a className=\"nav-link text-light\" href=\"/products/block_board\">\r\n              Block Board\r\n            </a>\r\n          </li>\r\n          <li className=\" d-inline-flex align-items-center\">\r\n            <a className=\"nav-link text-light\" href=\"/products/flush_door\">\r\n              Flush Door\r\n            </a>\r\n          </li>\r\n          <li className=\"nav-item d-inline-flex align-items-center dropdown\">\r\n            <a\r\n              className=\"nav-link dropdown-toggle text-light\"\r\n              href=\"#\"\r\n              id=\"hardware_dropdown\"\r\n              role=\"button\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              Hardware\r\n            </a>\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"hardware_dropdown\">\r\n              <a className=\"dropdown-item\" href=\"/products/door_lock\">\r\n                Door Lock\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/l_hinges\">\r\n                L-Hinges\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/cupboard_lock\">\r\n                Cupboard Lock\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/kitchen_basket\">\r\n                Kitchen Basket\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/door_handle\">\r\n                Door Handle\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/cupboard_handle\">\r\n                Cupboard Handle\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/auto_hinges\">\r\n                Auto Hinges\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/telescopic_channel\">\r\n                Telescopic Channel\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/tower_bolt\">\r\n                Tower Bolt\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/door_stopper\">\r\n                Door Stopper\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/magnet\">\r\n                Magnet\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/curtain_socket\">\r\n                Curtain Socket\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/mortice_lock\">\r\n                Mortice Lock\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/aldrop\">\r\n                Aldrop\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/adhesive\">\r\n                Adhesive\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/hinges\">\r\n                Hinges\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/masking_tape\">\r\n                Masking Tape\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/screw\">\r\n                Screw\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/bed_fitting\">\r\n                Bed Fitting\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/hydrolic_pump\">\r\n                Pump\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/khuti\">\r\n                Khuti\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/shelve_bottom\">\r\n                L-Button\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/table_bracket\">\r\n                Table Bracket\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/wheel\">\r\n                Wheel\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/other_hardware_items\">\r\n                Other Hardware Item\r\n              </a>\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item d-inline-flex align-items-center dropdown\">\r\n            <a\r\n              className=\"nav-link dropdown-toggle text-light\"\r\n              href=\"#\"\r\n              id=\"OtherDropdown\"\r\n              role=\"button\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              Others\r\n            </a>\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"OtherDropdown\">\r\n              <a className=\"dropdown-item\" href=\"/products/laminates\">\r\n                Laminates\r\n              </a>\r\n              <a className=\"dropdown-item\" href=\"/products/bit\">\r\n                Bit\r\n              </a>\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item d-inline-flex align-items-center\"></li>\r\n          {ManageDropDown}\r\n          <li className=\"nav-item d-inline-flex align-items-center dropdown\">\r\n            <a\r\n              className=\"nav-link dropdown-toggle text-light\"\r\n              href=\"#\"\r\n              id=\"dueDropdown\"\r\n              role=\"button\"\r\n              data-toggle=\"dropdown\"\r\n              aria-haspopup=\"true\"\r\n              aria-expanded=\"false\"\r\n            >\r\n              Due Payment\r\n            </a>\r\n            <div className=\"dropdown-menu\" aria-labelledby=\"dueDropdown\">\r\n              {/* <!-- <a className=\"dropdown-item\" href=\"/salesDuePayment\">Client Payment</a> --> */}\r\n              {/* <!-- <a className=\"dropdown-item\" href=\"/purchaseDuePayment\">Distributor Payment</a> --> */}\r\n            </div>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <div className=\"input-group mb-3\">\r\n              <div className=\"input-group-prepend\">\r\n                <label className=\"input-group-text\" htmlFor=\"inputGroupSelect01\">\r\n                  <svg\r\n                    width=\"1.2em\"\r\n                    height=\"1.2em\"\r\n                    viewBox=\"0 0 16 16\"\r\n                    className=\"bi bi-cart-dash-fill\"\r\n                    fill=\"#dc3545\"\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                  >\r\n                    <path\r\n                      fillRule=\"evenodd\"\r\n                      d=\"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM4 14a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm7 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z\"\r\n                    />\r\n                  </svg>\r\n                </label>\r\n              </div>\r\n              <select\r\n                className=\"custom-select\"\r\n                // onChange=\"javascript:location.href = this.value;\"\r\n              >\r\n                <option value=\"\">Choose</option>\r\n                {/* <% for( let index=1; index < 6; index++ ) { %>\r\n                <option value=\"/cart/pos/<%= index %>\">\r\n                  <%= index %>\r\n                </option>\r\n                <% } %> */}\r\n              </select>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <ul className=\"navbar-nav\">\r\n          <li className=\"nav-item\">\r\n              <button\r\n                className=\"btn btn-dark btn-outline-light btn-sm \"\r\n                type=\"submit\"\r\n                onClick={logoutHandler}\r\n              >\r\n                Log Out\r\n              </button>\r\n          </li>\r\n          <li className=\"nav-item\">\r\n            <Link to=\"/settings\">\r\n              <button className=\"ml-2 btn btn-sm btn-light\">\r\n                <img width=\"20px\" src=\"/Images/settings_icon.png\" alt=\"\" />\r\n              </button>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n    <Outlet />\r\n    </>\r\n  );\r\n}\r\n\r\nNavBar.propTypes = {};\r\n\r\nexport default NavBar;\r\n","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nconst cartSlice = createSlice ({\r\n  name: 'cart',\r\n  initialState: {\r\n    cart:[],\r\n    cartNo:1,\r\n    summery: {tax:0,shipping:0,discount:0,cart_no:1},\r\n  },\r\n  reducers:{\r\n    updateAll(state, action){\r\n      state.cart = action.payload.cart;\r\n      state.cartNo = action.payload.cartNo;\r\n      state.summery = action.payload.summery;\r\n    },\r\n    updateCart(state, action){\r\n      state.cart = action.payload;\r\n    },\r\n    updateCartNo(state, action){\r\n      state.cartNo = action.payload;\r\n    },\r\n    updateSummery(state, action){\r\n      state.summery = action.payload;\r\n    }\r\n  }\r\n});\r\n\r\nexport default cartSlice.reducer;\r\nexport const { updateAll, updateCart, updateCartNo, updateSummery } = cartSlice.actions;","import React, { useEffect, useState } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\"\r\nimport axios from \"axios\";\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\nimport { updateCart, updateAll, updateSummery } from \"../../Store/cartSlice\";\r\n\r\nexport default function Cart() {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [product_list, setProductList] = useState([]);\r\n  const [search, setSearch] = useState(\"\");\r\n\r\n  const cart = useSelector((state)=> state.cart.cart);\r\n  const cart_no = useSelector((state)=> state.cart.cartNo);\r\n  const summery = useSelector((state)=> state.cart.summery);\r\n  const dispatch = useDispatch();\r\n\r\n  const [quantityChanged, setQuantityChanged] = useState(false);\r\n  const [discChanged, setDiscChanged] = useState(false);\r\n\r\n  // const searchRef = useRef();\r\n\r\n  let url =\r\n    http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getProductsReact?\" +\r\n    new URLSearchParams({\r\n      cart_no: 1,\r\n    });\r\n  useEffect(() => {\r\n    axios.get(url).then((res) => {\r\n      // console.log(res.data);\r\n      setProductList(res.data.product_list);\r\n      // if(!res.data.authenticated){\r\n      //   navigate('/clients')\r\n      // }\r\n      // dispatch(updateCartNo(res.data.cart_no));\r\n      // dispatch(updateSummery(res.data.summery));\r\n      // else {\r\n        dispatch(updateAll({\r\n          cart:res.data.cart,\r\n          cartNo:res.data.cart_no,\r\n          summery:res.data.summery\r\n        }))\r\n      // }\r\n    });\r\n  }, [dispatch, url]);\r\n\r\n  // console.log(\"Building Cart\");\r\n\r\n  let tax,sum = 0;\r\n\r\n  cart.forEach((element)=>{\r\n    sum += +((element.mrp - element.discount) *\r\n    element.quantity *\r\n    element.per_peice_quantity);\r\n  });\r\n  let totalSum ;\r\n  if(summery.tax){\r\n    tax = 0.18*+sum;\r\n    totalSum = (sum+tax + +summery.shipping - +summery.discount).toFixed(2);\r\n  } else{\r\n    totalSum = (sum + +summery.shipping - +summery.discount).toFixed(2);\r\n  }\r\n\r\n  const quantityChangedHandler = (event)=>{\r\n    let index = event.target.id.split(\":\")[1];\r\n    var cart2 = [...cart];\r\n    var prod = {...(cart[index])};\r\n    prod.quantity = event.target.value;\r\n    cart2[index] = prod;\r\n    dispatch(updateCart(cart2));\r\n    if(!quantityChanged) setQuantityChanged(true);\r\n  }\r\n  // console.log(cart);\r\n  const discountChangeHandler = (event)=>{\r\n    let index = event.target.id.split(\":\")[2];\r\n    let cart2 = [...cart];\r\n    var prod = {...(cart[index])};\r\n    prod.discount = +event.target.value;\r\n    cart2[index] = prod;\r\n    dispatch(updateCart(cart2));\r\n    if(!discChanged) setDiscChanged(true);\r\n  }\r\n\r\n  const taxCheckHandler = (event)=>{\r\n    let summ = {...summery};\r\n    summ.tax = !summery.tax\r\n    let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/upTax/';\r\n    axios.post(url,{cart_no: cart_no, tax: summ.tax})\r\n      .then((res) => {\r\n        if (!res.data) {\r\n          alert(\"Could Not Update tax.\")\r\n        }\r\n      })\r\n      .catch((res) => {alert(\"could not update tax\")});\r\n    dispatch(updateSummery(summ));\r\n  }\r\n  \r\n  const shippingHand= (event)=>{\r\n    let summ = {...summery};\r\n    summ.shipping = event.target.value;\r\n    dispatch(updateSummery(summ));\r\n  }\r\n\r\n  const shippingBlurHand = ()=>{\r\n    let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/upShip/';\r\n    axios.post(url,{cart_no: cart_no, shipping: summery.shipping})\r\n      .then((res) => {})\r\n      .catch((res) => {alert(\"could not update shipping\")});\r\n  }\r\n\r\n  const summDiscHand= (event)=>{\r\n    let summ = {...summery};\r\n    summ.discount = event.target.value;\r\n    dispatch(updateSummery(summ));\r\n  }\r\n  const summDiscBlurHand= (event)=>{\r\n    let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/upSummeryDisc/';\r\n    axios.post(url,{cart_no: cart_no, discount: summery.discount})\r\n      .then((res) => {})\r\n      .catch((res) => {alert(\"could not update discount\")});\r\n  }\r\n\r\n  const addToCart = () => {\r\n    let product_id = search.split(':')[0];\r\n    let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/addProductIntoCart/'+ product_id;\r\n    axios.get(url).then((res) => {\r\n      if (res.length === 0) {\r\n        alert(\"product not found\");\r\n        setSearch(\"\");\r\n      }else{\r\n        // console.log(\"product added in cart\");\r\n        const found = cart.findIndex((e, i) =>{\r\n          return (e.product_id === res.data[0][0].product_id);\r\n        });\r\n        let cart2 = [...cart];\r\n        if (found === -1) {\r\n          cart2.unshift(res.data[0][0]);\r\n        }else{\r\n          cart2[found] = res.data[0][0];\r\n        }\r\n        // console.log(res.data[0][0]);\r\n        setSearch(\"\");\r\n        dispatch(updateCart(cart2));\r\n      }\r\n    })\r\n    .catch((e)=>{\r\n      console.log(e);\r\n      alert(\"product not found\");\r\n      setSearch(\"\");\r\n    });\r\n  };\r\n\r\n  const removeProductHandler = (e)=>{\r\n    let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/removeProductFromCart/'+e.target.id;\r\n    axios.get(url).then((res) => {\r\n      if(!res.data){\r\n        alert(\"cannot delete item from cart\");\r\n      }else {\r\n        let cart2 = [...cart];\r\n        const i = cart.findIndex((el, i) =>{\r\n          return (el.sl_no === Number(e.target.id));\r\n        });\r\n        cart2.splice(i,1);\r\n        dispatch(updateCart(cart2));\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n\r\n  const searchKeyDownHandler = (event) =>{\r\n    if (event.keyCode === 13){\r\n      if(search === \"\"){\r\n        navigate(\"/sellCheckout\");\r\n      }\r\n      else addToCart();\r\n    }\r\n  }\r\n\r\n  const quanBlurHand = (event) =>{\r\n    if(quantityChanged){\r\n      let index = event.target.id.split(\":\")[1];\r\n      let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/upQuan/'\r\n      axios.post(url,{sl_no: cart[index].sl_no, quantity: cart[index].quantity})\r\n      .then((res) => {})\r\n      .catch((res) => {alert(\"could not update quantity\")});\r\n      setQuantityChanged(false);\r\n    }\r\n  }\r\n  \r\n  const discBlurHand = (event) =>{\r\n    if(discChanged){\r\n      let index = event.target.id.split(\":\")[2];\r\n      let url = http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/upDisc/'\r\n      axios.post(url,{sl_no: cart[index].sl_no, discount: cart[index].discount})\r\n      .then((res) => {})\r\n      .catch((res) => {alert(\"could not update discount\")});\r\n      setDiscChanged(false);\r\n    }\r\n  }\r\n\r\n  const formSubHand = (event)=>{\r\n    event.preventDefault();\r\n    console.log(\"form submitted\");\r\n    // searchRef.current.focus();\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      {/* <!-- <form action=\"/\"> --> */}\r\n\r\n      <div className=\"search-area\">\r\n        <div className=\"search-label\">\r\n          <label htmlFor=\"select_product\">Products Name: </label>\r\n        </div>\r\n        <div className=\"search-input\">\r\n          <input\r\n            autoFocus={true}\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            list=\"product_list\"\r\n            id=\"select_product\"\r\n            name=\"product_name\"\r\n            value={search}\r\n            onKeyDown={searchKeyDownHandler}\r\n            onChange={(e)=>{setSearch(e.target.value);}}\r\n            // ref={searchRef}\r\n          />\r\n          <datalist dir=\"rtl\" id=\"product_list\">\r\n            {product_list.map((product) => (\r\n              <option key={product.product_id}>\r\n                {`${product.product_id} : ${product.product_name} : Stock=  ${product.stock} ,MRP= ${product.mrp}`}\r\n              </option>\r\n            ))}\r\n          </datalist>\r\n        </div>\r\n        <div className=\"search-button\">\r\n          <button tabIndex=\"-1\" className=\"btn btn-dark\" onClick={addToCart} id=\"listButton\">\r\n            Add to cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n\r\n      <form action=\"\" onSubmit={formSubHand} method=\"\" id=\"cartForm\">\r\n\r\n      </form>\r\n\r\n\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-9\">\r\n          <h3 className=\"display-4\">Shopping Cart : {cart_no}</h3>\r\n          <hr />\r\n          <div className=\"\">\r\n            {cart.map((element, index) => (\r\n              <div key={element.product_id}>\r\n                <div className=\"row mb-1\">\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"\" style={{ padding: \"0px\" }}>\r\n                      <p className=\"mb-0\" id=\"\">\r\n                        <strong>{element.product_name}</strong>\r\n                        <button\r\n                          id={element.sl_no}\r\n                          onClick={removeProductHandler}\r\n                          className=\"btn btn-sm btn-outline-danger mt-auto float-right\"\r\n                          tabIndex=\"-1\"\r\n                        >\r\n                          X\r\n                        </button>\r\n                      </p>\r\n                      <p className=\"price-para mb-0\">\r\n                        <span className=\"price-label\">Rate </span>\r\n                        <span className=\"price\">\r\n                          \r\n                          <span id={`${element.product_id}_mrp`}>\r\n                            {element.mrp}\r\n                          </span>\r\n                          /\r\n                        </span>\r\n                        <span className=\"price-label\">{element.unit}</span>\r\n                      </p>\r\n                      <p className=\"mb-0\">\r\n                        <span className=\"stock-label\">\r\n                          In Stock {element.stock}\r\n                        </span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col\">\r\n                    <input\r\n                      className=\"quantity_input\"\r\n                      form=\"cartForm\"\r\n                      onChange={quantityChangedHandler}\r\n                      onBlur={quanBlurHand}\r\n                      type=\"number\"\r\n                      name={`quantity_${element.product_id}`}\r\n                      id={`${element.product_id}:${index}`}\r\n                      style={{ width: \"70px\" }}\r\n                      value={element.quantity}\r\n                      step='any'\r\n                    />\r\n\r\n                    <p\r\n                      className=\"font-weight-light mb-0\"\r\n                      style={{ fontSize: \"small\" }}\r\n                    >\r\n                      <span hidden id={`${element.product_id}_totalQuantity`}>\r\n                        {element.per_peice_quantity}\r\n                      </span>\r\n                      <span id={`totalQuantity_${element.product_id}`}>\r\n                        {(\r\n                          element.quantity * element.per_peice_quantity\r\n                        ).toFixed(3)}\r\n                      </span>\r\n                      {` ` + element.unit}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <input\r\n                      placeholder=\"Disc\"\r\n                      className=\"discount_input\"\r\n                      form=\"cartForm\"\r\n                      type=\"number\"\r\n                      style={{ width: \"70px\" }}\r\n                      name={`discount_${element.product_id}`}\r\n                      id={`discount:${element.product_id}:${index}`}\r\n                      onChange= {discountChangeHandler}\r\n                      onBlur={discBlurHand}\r\n                      value={element.discount}\r\n                      step=\"any\"\r\n                    />\r\n\r\n                    <span hidden id={`cp_${element.product_id}`}>\r\n                      {element.cp}\r\n                    </span>\r\n                    <p\r\n                      id=\"discount%\"\r\n                      className=\"font-weight-light d-none\"\r\n                      style={{ fontSize: \"small\" }}\r\n                    >\r\n                      E2.G\r\n                      <span id={`profit_${element.product_id}`}>\r\n                        {(\r\n                          ((element.mrp - element.discount - element.cp) /\r\n                            (element.cp + 0.01)) *\r\n                          100\r\n                        ).toFixed(1)}\r\n                      </span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <span className=\"text-danger font-weight-bold\"> </span>\r\n                    <span id={`${element.product_id}_netPrice`}>\r\n                      {element.mrp - element.discount}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <span className=\"text-danger font-weight-bold\"> </span>\r\n                    <span\r\n                      className=\"amount\"\r\n                      id={`${element.product_id}_amount`}\r\n                    >\r\n                      {(\r\n                        (element.mrp - element.discount) *\r\n                        element.quantity *\r\n                        element.per_peice_quantity\r\n                      ).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <hr className=\"\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <input\r\n            className=\"btn btn-danger btn-sm\"\r\n            id={cart_no}\r\n            // onclick=\"clear_event(this);\"\r\n            value=\"Clear Cart\"\r\n            type=\"button\"\r\n          />\r\n          <br />\r\n          <br />\r\n          <hr className=\"mt-0\" />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <h3 className=\"display-4\">Summery</h3>\r\n          <hr />\r\n          <div className=\"border border-dark \" style={{ padding: \"0.9rem\" }}>\r\n            <h6>\r\n              Subtotal (2){\" \"}\r\n              <span className=\"text-danger float-right\">\r\n                 <span id=\"subtotal\">{sum}</span>\r\n              </span>\r\n            </h6>\r\n            <p>\r\n              <input\r\n                checked={summery.tax}\r\n                form=\"cartForm\"\r\n                type=\"checkbox\"\r\n                name=\"taxCheck\"\r\n                onChange={taxCheckHandler}\r\n                id=\"taxCheck\"\r\n              />\r\n              Tax\r\n              <span className=\"float-right\">\r\n                <span id=\"tax\">{(tax)? tax.toFixed(2): 0}</span>\r\n              </span>\r\n            </p>\r\n            <p>\r\n              Shipping\r\n              <span className=\"float-right\">\r\n                \r\n                <input\r\n                  form=\"cartForm\"\r\n                  className=\"cart-input-width\"\r\n                  type=\"number\"\r\n                  style={{\r\n                    border: \"none\",\r\n                    outline: \"none\",\r\n                    borderBottom: \"1px solid black\",\r\n                  }}\r\n                  name=\"shippingCost\"\r\n                  id=\"shippingCost\"\r\n                  onChange={shippingHand}\r\n                  onBlur={shippingBlurHand}\r\n                  value={summery.shipping}\r\n                />\r\n              </span>\r\n            </p>\r\n            <p>\r\n              Discount\r\n              <span className=\"float-right\">\r\n                \r\n                <input\r\n                  form=\"cartForm\"\r\n                  style={{\r\n                    border: \"none\",\r\n                    outline: \"none\",\r\n                    borderBottom: \"1px solid black\",\r\n                  }}\r\n                  // onchange=\"estimateTotal();\"\r\n                  className=\"cart-input-width\"\r\n                  type=\"number\"\r\n                  name=\"summury_discount\"\r\n                  id=\"discount\"\r\n                  value={summery.discount}\r\n                  onChange={summDiscHand}\r\n                  onBlur={summDiscBlurHand}\r\n                />\r\n              </span>\r\n            </p>\r\n            <h4>\r\n              Total{\" \"}\r\n              <span className=\"text-danger float-right\">\r\n                 <span id=\"estimatedTotal\">{totalSum}</span>\r\n              </span>\r\n            </h4>\r\n          </div>\r\n\r\n          <br />\r\n          <input\r\n            type=\"hidden\"\r\n            name=\"cart_no\"\r\n            form=\"cartForm\"\r\n            value={cart_no}\r\n          />\r\n          <button\r\n            hidden\r\n            type=\"submit\"\r\n            form=\"cartForm\"\r\n            formAction=\"/cart/save\"\r\n            formMethod=\"POST\"\r\n            className=\"btn btn-dark btn-lg btn-block\"\r\n          ></button>\r\n          <Link to={\"/sellCheckout\"}>\r\n            <button\r\n              form=\"cartForm\"\r\n              formAction=\"/cart/sell\"\r\n              formMethod=\"POST\"\r\n              id=\"sell_button\"\r\n              className=\"btn btn-danger btn-lg btn-block\"\r\n            >\r\n                Proceed to Sell\r\n            </button>\r\n          </Link>\r\n          <button\r\n            form=\"cartForm\"\r\n            formAction=\"/cart/purchase\"\r\n            formMethod=\"POST\"\r\n            id=\"purchase_button\"\r\n            className=\"btn btn-dark btn-lg btn-block\"\r\n          >\r\n            Proceed to Purchase\r\n          </button>\r\n          <button\r\n            form=\"cartForm\"\r\n            formAction=\"/cart/save\"\r\n            formMethod=\"POST\"\r\n            className=\"btn btn-dark btn-lg btn-block\"\r\n          >\r\n            Save The Cart\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nfunction Input(props) {\r\n  // console.log(\"printing datalist in Input\");\r\n  // console.log(props.datalist);\r\n  return (\r\n    <>\r\n      {(props.label) && <label htmlFor={props.id}>{props.label}</label>}\r\n      <input\r\n        disabled={props.disabled}\r\n        ref={props.ref}\r\n        type={props.type}\r\n        className=\"form-control d-inp1\"\r\n        value={props.value}\r\n        onChange={props.onChange}\r\n        list={props.datalist ? props.name : \"\"}\r\n        id={props.id}\r\n        placeholder={props.placeholder}\r\n        name={props.name}\r\n        required={props.required}\r\n        autoFocus={props.focus}\r\n        onBlur={props.onBlur}\r\n        />\r\n      <datalist dir=\"rtl\" id={props.name}>\r\n        {props.datalist}\r\n      </datalist>\r\n      <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n        {props.msg}\r\n      </small>\r\n      <div style={{  color: \"red\",fontSize: \"14px\"}}>{props.error}</div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Input","import React from 'react'\r\n\r\nfunction PrependInput(props) {\r\n  return (\r\n    <>\r\n      <label htmlFor={props.id}>{props.label}</label>\r\n      <div className=\"input-group\">\r\n        <div className=\"input-group-prepend\">\r\n          <span className=\"input-group-text\" id=\"basic-addon1\">\r\n            {props.prepend}\r\n          </span>\r\n        </div>\r\n        <input\r\n          disabled={props.disabled}\r\n          ref={props.ref}\r\n          type={props.type}\r\n          className=\"form-control d-inp1\"\r\n          value={props.value}\r\n          onChange={props.onChange}\r\n          list={props.datalist ? props.name : \"\"}\r\n          id={props.id}\r\n          placeholder={props.placeholder}\r\n          name={props.name}\r\n          required={props.required}\r\n          autoFocus={props.focus}\r\n          onBlur={props.onBlur}\r\n          />\r\n      </div>\r\n\r\n      <datalist dir=\"rtl\" id={props.name}>\r\n        {props.datalist}\r\n      </datalist>\r\n      <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n        {props.msg}\r\n      </small>\r\n      <div style={{  color: \"red\",fontSize: \"14px\"}}>{props.error}</div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default PrependInput","import React, { useEffect, useState } from \"react\";\r\nimport {useSelector} from 'react-redux';\r\nimport axios from \"axios\";\r\nimport Input from \"./Component/Input\";\r\nimport PrependInput from \"./Component/PrependInput\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\n\r\nfunction CheckoutForSales() {\r\n\r\n  const navigate = useNavigate();\r\n\r\n  const [cart, setCart] = useState([]);\r\n  const [summery, setSummery] = useState({});\r\n  const [clients, setClient] = useState([]);\r\n  const [subtotal, setSubtotal] = useState(0);\r\n  const [tax, setTax] = useState(0);\r\n  const [total, setTotal] = useState(0);\r\n\r\n\r\n  const [mobile, setMobile] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [add1, setAdd1] = useState(\"\");\r\n  const [add2, setAdd2] = useState(\"\");\r\n  const [city, setCity] = useState(\"\");\r\n  const [state, setState] = useState(\"West Bengal\");\r\n  const [country, setCountry] = useState(\"India\");\r\n  const [zip, setZip] = useState(\"\");\r\n  const [dues, setDues] = useState(\"\");\r\n  const [paybleAmount, setPaybleAmount] = useState(\"\");\r\n  const [paymentAmount, setPaymentAmount] = useState(\"\");\r\n  \r\n  const [inputDisabled, setInputDisabled] = useState(false);\r\n  const cartNo = useSelector(state => (state.cart.cartNo));\r\n\r\n  const dateObj = new Date();\r\n  const month = dateObj.getMonth() + 1;\r\n  var m = '';\r\n  if (month < 10) {\r\n    m = '0' + month;\r\n  }\r\n  else {\r\n    m = month;\r\n  }\r\n  const day = String(dateObj.getDate()).padStart(2, '0');\r\n  const year = dateObj.getFullYear();\r\n  const output = year + '-' + m + '-' + day;\r\n  const [dueDate, setDueDate] = useState(output);\r\n  const [date, setDate] = useState(output);\r\n  \r\n  const [mobileError, setMobileError] = useState(\"\");\r\n  const [nameError, setNameError] = useState(\"\");\r\n  const [add1Error, setAdd1Error] = useState(\"\");\r\n  const [cityError, setCityError] = useState(\"\");\r\n  const [stateError, setStateError] = useState(\"\");\r\n  const [countryError, setCountryError] = useState(\"\");\r\n  const [zipError, setZipError] = useState(\"\");\r\n  const [paymentError, setPaymentError] = useState(\"\");\r\n  \r\n\r\n  const hostName= http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"\";\r\n  \r\n  \r\n  useEffect(() => {\r\n    let url =\r\n      hostName+\"/checkOutSell?\" +\r\n      new URLSearchParams({cartNo:cartNo});\r\n    axios.get(url).then((res) => {\r\n      // console.log(res.data);\r\n      setCart(res.data.cart);\r\n      setSummery(res.data.summery);\r\n      setClient(res.data.clients);\r\n      let tempSubtotal = +0;\r\n      res.data.cart.forEach(\r\n        (element) => {\r\n          (tempSubtotal += +(\r\n            (element.mrp - element.discount) *\r\n            element.quantity *\r\n            element.per_peice_quantity\r\n          ).toFixed(2))\r\n        });\r\n        let tempTax = 0;\r\n        if (res.data.summery.tax) {\r\n          tempTax = +((tempSubtotal * 0.18).toFixed(2));\r\n        }\r\n        let tempTotal = (tempTax + tempSubtotal + (res.data.summery.shipping) - (res.data.summery.discount));\r\n        setSubtotal(tempSubtotal);\r\n        setTax(tempTax);\r\n        setTotal(tempTotal);\r\n    }).catch((e)=>{alert(e);});\r\n  }, [cartNo]);\r\n\r\n  // useEffect(() => {\r\n  //   if (nameInputRef.current) {\r\n  //     nameInputRef.current.focus();\r\n  //   }\r\n  // },[]);\r\n\r\n  // const nameChangedHandler = e => setName(e.target.value);\r\n\r\n  const mobileBlurHandler = e =>{\r\n    let value= e.target.value;\r\n    if(Number(value) !== 0 && value.toString().length === 10){\r\n      setMobileError(\"\");\r\n      let url = hostName + \"/getClientDue?cartNo=\";\r\n\r\n      var clientPresent = false;\r\n      clients.forEach(function(currentValue, index){\r\n        // console.log(currentValue);\r\n        if (currentValue.mobile_no === value) {\r\n          clientPresent = true;\r\n          setName(currentValue.name);\r\n          // disableForm();\r\n          fetch(url+currentValue.client_id)\r\n            .then(response =>{\r\n              if (response.ok) {\r\n                return response.json();\r\n              }else{\r\n                // enableForm();\r\n                throw new Error('Something went wrong');\r\n              }\r\n            })\r\n            .then(json => {\r\n\r\n              // enableForm();\r\n              currentValue.previous_due = json.due;\r\n              // console.log(json);\r\n              setDues(json.due);\r\n              setPaybleAmount(Number(currentValue.previous_due)+Number(total));\r\n              // document.getElementById('client_id').value = currentValue.client_id;\r\n              setInputDisabled(true);\r\n              return;\r\n              // disableAddressInputs();\r\n            })\r\n            .catch((error) => {\r\n              // enableForm();\r\n              throw new Error(error);\r\n              });\r\n        }\r\n        if (clientPresent === false && index === (clients.length - 1)) {\r\n          // document.getElementById('client_id').value = 'null';\r\n          setDues(0);\r\n          setPaybleAmount(Number(total));\r\n          setInputDisabled(false);\r\n          // console.log('Client not Found');\r\n          // document.getElementById('dues').innerText = 0;\r\n          // document.getElementById('payble-amount').innerText = Number(document.getElementById('estimatedTotal').innerText);\r\n          // enableAddressInputs();\r\n          // document.getElementById('inputAddress').focus();\r\n        }\r\n      })\r\n    }else{\r\n      setMobileError(\"Mobile number is invalid\");\r\n      setInputDisabled(false);\r\n    }\r\n  }\r\n  \r\n  const formSubmitHandler = event=>{\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    if(!inputDisabled){\r\n      if(mobile.toString().length !== 10){\r\n        setMobileError(\"Mobile number is invalid\");\r\n        return;\r\n      }\r\n      if(name === null || name === \"\"){\r\n        setNameError(\"invalid name\");\r\n        return;\r\n      }\r\n      if(add1 === null || add1 === \"\"){\r\n        setAdd1Error(\"invalid adderes\");\r\n        return;\r\n      }\r\n      if(city === null || city === \"\"){\r\n        setCityError(\"invalid city\");\r\n        return;\r\n      }\r\n      if(state === null || state === \"\"){\r\n        setStateError(\"invalid state\");\r\n        return;\r\n      }\r\n      if(country === null || country === \"\"){\r\n        setCountryError(\"invalid country\");\r\n        return;\r\n      }\r\n      if(zip === null || zip === 0){\r\n        setZipError(\"invalid zip\");\r\n        return;\r\n      }\r\n    }\r\n    if(paymentAmount === null || paymentAmount === undefined || paymentAmount=== \"\"){\r\n      setPaymentError(\"invalid payment amount\");\r\n      return;\r\n    }\r\n    const makeSale = ()=>\r\n    {\r\n      fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/MAKE_SALE\", {\r\n      \r\n        // Adding method type\r\n        method: \"POST\",\r\n        \r\n        // Adding body or contents to send\r\n        body: JSON.stringify({\r\n            cartNo,\r\n            mobile,\r\n            name,\r\n            add1,\r\n            add2,\r\n            city,\r\n            state,\r\n            country,\r\n            zip,\r\n            paymentAmount,\r\n            dueDate,\r\n            date\r\n        }),\r\n        \r\n        // Adding headers to the request\r\n        headers: {\r\n            \"Content-type\": \"application/json; charset=UTF-8\"\r\n        }\r\n      })\r\n      // Converting to JSON\r\n      .then(response => response.json())\r\n      \r\n      // Displaying results to console\r\n      .then(json => {console.log(json);navigate('/sales/bill/'+json.saleId)});\r\n    }\r\n    alert('there you go');\r\n    makeSale();\r\n  }\r\n\r\n  return (\r\n    <div className=\"container-fluid\">\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-9\">\r\n          <h3 className=\"display-4\">Checkout Cart : {cartNo}</h3>\r\n          <hr />\r\n          <div>\r\n            {cart.map((element, index) => (\r\n              <div key={index}>\r\n                <div className=\"row mb-1\" key={element.product_id}>\r\n                  <div className=\"col-md-6\">\r\n                    <div className=\"\" style={{ padding: \"0px\" }}>\r\n                      <div>\r\n                        <p className=\"mb-0\" id=\"\">\r\n                          {element.product_id} :{element.product_name}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"col\">\r\n                    <span>\r\n                      {element.quantity}\r\n                      <span\r\n                        className=\"font-weight-light\"\r\n                        style={{ fontSize: \"small\", marginBottom: \"0\" }}\r\n                      >\r\n                        <span hidden id=\"{element.product_id}_totalQuantity\">\r\n                          {element.per_peice_quantity}\r\n                        </span>\r\n                        (\r\n                        <span id=\"totalQuantity_{ element.product_id }\">\r\n                          {element.quantity * element.per_peice_quantity}\r\n                        </span>\r\n                        {element.unit})\r\n                      </span>\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <p className=\"price-para mb-0\">\r\n                      <span className=\"price\">\r\n                        \r\n                        <span id=\"{element.product_id}_mrp\">{element.mrp}</span>{\" \"}\r\n                      </span>\r\n                      <span className=\"price-label\"> per {element.unit} </span>\r\n                    </p>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">{element.discount}</div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <span className=\"text-danger font-weight-bold\"> </span>\r\n                    <span id=\"{ element.product_id }_netPrice\">\r\n                      {element.mrp - element.discount}\r\n                    </span>\r\n                  </div>\r\n\r\n                  <div className=\"col text-right\">\r\n                    <span className=\"text-danger font-weight-bold\"> </span>\r\n                    <span className=\"amount\" id=\"{ element.product_id }_amount\">\r\n                      {(\r\n                        (element.mrp - element.discount) *\r\n                        element.quantity *\r\n                        element.per_peice_quantity\r\n                      ).toFixed(2)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <hr className=\"\" />\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <hr className=\"mt-0\" />\r\n        </div>\r\n        <div className=\"col-lg-3\">\r\n          <h3 className=\"display-4\">Summery</h3>\r\n          <hr />\r\n          <div className=\"border border-dark \" style={{ padding: \"0.9rem\" }}>\r\n            <h6>\r\n              Subtotal (2){\" \"}\r\n              <span className=\"text-danger float-right\">\r\n                 <span id=\"subtotal\">{subtotal}</span>\r\n              </span>\r\n            </h6>\r\n            <p>\r\n              {/* <input\r\n                disabled\r\n                hidden\r\n                checked={summery.tax}\r\n                form=\"cartForm\"\r\n                type=\"checkbox\"\r\n                name=\"taxCheck\"\r\n                // onChange=\"estimateTotal();\"\r\n                id=\"taxCheck\"\r\n              /> */}\r\n              Tax\r\n              <span className=\"float-right\">\r\n                 <span id=\"tax\">{tax}</span>\r\n              </span>\r\n            </p>\r\n            <p>\r\n              Shipping\r\n              <span className=\"float-right\">\r\n                 <span id=\"shippingCost\">{summery.shipping}</span>\r\n              </span>\r\n            </p>\r\n            <p>\r\n              Discount\r\n              <span className=\"float-right\">\r\n                 <span id=\"discount\">{summery.discount}</span>\r\n              </span>\r\n            </p>\r\n            <h4>\r\n              Total{\" \"}\r\n              <span className=\"text-danger float-right\">\r\n                 <span id=\"estimatedTotal\">{total}</span>\r\n              </span>\r\n            </h4>\r\n          </div>\r\n          <br />\r\n        </div>\r\n      </div>\r\n      <hr />\r\n\r\n      <div className=\"formWrap\">\r\n        <div className=\"spinner displayNone\">\r\n          <div className=\"spinner-border\" role=\"status\">\r\n            <span className=\"sr-only\">Loading...</span>\r\n          </div>\r\n        </div>\r\n        <div id=\"formDiv\">\r\n          <form\r\n            onSubmit={formSubmitHandler}\r\n            id=\"myForm\"\r\n            // action=\"/cart/sell/checkout\"\r\n            // method=\"post\"\r\n            className=\"needs-validation\"\r\n            noValidate\r\n          >\r\n            <div className=\"form-row\">\r\n            <div className=\"form-group col-md-6\">\r\n              <PrependInput \r\n                prepend=\"91\"\r\n                id={\"inputNumber\"}\r\n                label={\"Mobile\"}\r\n                type={\"number\"}\r\n                name={\"mobile\"}\r\n                value={mobile} \r\n                placeholder=\"9876543210\"\r\n                onChange={e=>setMobile(e.target.value)}\r\n                onBlur={mobileBlurHandler}\r\n                error={mobileError}\r\n                required={true}\r\n                focus={true}\r\n                datalist={clients.map((client) => (\r\n                  <option key={client.client_id} name={client.client_id}>\r\n                    {client.mobile_no}\r\n                  </option>\r\n                ))}\r\n              \r\n              />\r\n              </div>\r\n              <div className=\"form-group col-md-6\">\r\n              <Input\r\n                disabled={inputDisabled}\r\n                id={\"inputName\"}\r\n                label={\"Client Name\"}\r\n                type={\"text\"}\r\n                name={\"name\"}\r\n                value={name} \r\n                placeholder=\"Sk Imran\"\r\n                onChange={e=>{setName(e.target.value);setNameError(\"\")}}\r\n                error={nameError}\r\n                msg={\"Make sure to input full name.\"}\r\n                required={true} \r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"address\">\r\n              <div id=\"address-section\">\r\n                <div className=\"form-group\">\r\n                  <Input\r\n                    label=\"Address Line 1\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={add1}\r\n                    onChange={e => {setAdd1(e.target.value);setAdd1Error(\"\")}}\r\n                    id=\"inputAddress\"\r\n                    placeholder=\"Enter customer address\"\r\n                    name=\"address_line_1\"\r\n                    required={true}\r\n                    error={add1Error}\r\n                  />\r\n\r\n                  \r\n                  {/* <label htmlFor=\"inputAddress\">Address</label>\r\n                  <input\r\n                  value={add1}\r\n                  onChange={e => setAdd1(e.target.value)}\r\n                  type=\"text\"\r\n                  className=\"form-control d-inp\"\r\n                  id=\"inputAddress\"\r\n                  placeholder=\"1234 Main St\"\r\n                  name=\"address_line_1\"\r\n                  required\r\n                  />\r\n                <div className=\"invalid-feedback\">This Field is required</div> */}\r\n                </div>\r\n                <div className=\"form-group\">\r\n                  <Input\r\n                    label=\"Address Line 2\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={add2}\r\n                    onChange={e => setAdd2(e.target.value)}\r\n                    id=\"inputAddress2\"\r\n                    placeholder=\"Enter customer address line 2\"\r\n                    name=\"address_line_2\"\r\n                  />\r\n                  {/* <label htmlFor=\"inputAddress2\">Address 2</label>\r\n                  <input\r\n                    value={add2}\r\n                    onChange={e => setAdd2(e.target.value)}\r\n                    type=\"text\"\r\n                    className=\"form-control d-inp\"\r\n                    id=\"inputAddress2\"\r\n                    placeholder=\"Apartment, studio, or floor\"\r\n                    name=\"address_line_2\"\r\n                  /> */}\r\n                </div>\r\n                <div className=\"form-row\">\r\n                  <div className=\"form-group col-md-4\">\r\n                    <Input\r\n                      label=\"City\"\r\n                      disabled={inputDisabled}\r\n                      type=\"text\"\r\n                      value={city}\r\n                      onChange={e => {setCity(e.target.value);setCityError(\"\")}}\r\n                      id=\"inputCity\"\r\n                      placeholder=\"Enter customer city\"\r\n                      name=\"city_or_district\"\r\n                      required={true}\r\n                      error={cityError}\r\n                    />\r\n                    \r\n                    {/* <label htmlFor=\"inputCity\">City or District</label>\r\n                    <input\r\n                      value={city}\r\n                      onChange={e => setCity(e.target.value)}\r\n                      type=\"text\"\r\n                      className=\"form-control d-inp\"\r\n                      id=\"inputCity\"\r\n                      name=\"city_or_district\"\r\n                      required\r\n                    /> \r\n                    <div className=\"invalid-feedback\">This field is required</div>*/}\r\n                  </div>\r\n                  <div className=\"form-group col-md-4\">\r\n                    <Input\r\n                        label=\"State\"\r\n                        disabled={inputDisabled}\r\n                        type=\"text\"\r\n                        value={state}\r\n                        onChange={e => {setState(e.target.value);setStateError(\"\")}}\r\n                        id=\"inputState\"\r\n                        placeholder=\"Enter customer state\"\r\n                        name=\"state\"\r\n                        required={true}\r\n                        error={stateError}\r\n                      />\r\n                  \r\n                    \r\n                    {/* <label htmlFor=\"inputState\">State</label>\r\n                    <input\r\n                      value={state}\r\n                      onChange={e => setState(e.target.value)}\r\n                      type=\"text\"\r\n                      className=\"form-control d-inp\"\r\n                      id=\"inputState\"\r\n                      name=\"state\"\r\n                      required\r\n                    /> \r\n                    <div className=\"invalid-feedback\">State is required</div>*/}\r\n                  </div>\r\n                  <div className=\"form-group col-md-2\">\r\n\r\n                  <Input\r\n                        label=\"Country\"\r\n                        disabled={inputDisabled}\r\n                        type=\"text\"\r\n                        value={country}\r\n                        onChange={e => {setCountry(e.target.value);setCountryError(\"\")}}\r\n                        id=\"inputCountry\"\r\n                        placeholder=\"Enter customer country\"\r\n                        name=\"country\"\r\n                        required={true}\r\n                        error={countryError}\r\n                      />\r\n\r\n                    {/* <label htmlFor=\"inputCountry\">Country</label>\r\n                    <input\r\n                      value={country}\r\n                      onChange={e => setCountry(e.target.value)}\r\n                      type=\"text\"\r\n                      className=\"form-control d-inp\"\r\n                      id=\"inputCountry\"\r\n                      name=\"country\"\r\n                      required\r\n                    />\r\n                    <div className=\"invalid-feedback\">Country is required</div> */}\r\n                  </div>\r\n                  <div className=\"form-group col-md-2\">\r\n                    \r\n                  <Input\r\n                        label=\"Zip\"\r\n                        disabled={inputDisabled}\r\n                        type=\"number\"\r\n                        value={zip}\r\n                        onChange={e => {setZip(e.target.value);setZipError(\"\")}}\r\n                        id=\"inputZip\"\r\n                        placeholder=\"Enter customer zip\"\r\n                        name=\"postal_code\"\r\n                        required={true}\r\n                        error={zipError}\r\n                      />\r\n                    \r\n                    {/* <label htmlFor=\"inputZip\">Zip</label>\r\n                    <input\r\n                      value={zip}\r\n                      onChange={e => setZip(e.target.value)}\r\n                      type=\"number\"\r\n                      className=\"form-control d-inp\"\r\n                      id=\"inputZip\"\r\n                      name=\"postal_code\"\r\n                      required\r\n                    />\r\n                    <div className=\"invalid-feedback zip-feedback\">\r\n                      There has to be a number\r\n                    </div> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group row col-md-6\">\r\n                <label htmlFor=\"dues\" className=\"col-sm-3 col-form-label\">\r\n                  Dues:\r\n                </label>\r\n                <div className=\"col-sm-9\">\r\n                  <span className=\"text-danger\">\r\n                    <span id=\"dues\">{dues}</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row col-md-6\">\r\n                <label htmlFor=\"payble-amount\" className=\"col-sm-4 col-form-label\">\r\n                  Payble Amount:\r\n                </label>\r\n                <div className=\"col-sm-8\">\r\n                  <span className=\"text-danger\">\r\n                    <span id=\"payble-amount\">{paybleAmount}</span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group row col-md-4\">\r\n                <label htmlFor=\"paid\" className=\"col-sm-5 col-form-label\">\r\n                  Payment Amount:\r\n                </label>\r\n                <div className=\"col-sm-7\">\r\n                <Input\r\n                        type=\"number\"\r\n                        value={paymentAmount}\r\n                        onChange={e => {setPaymentAmount(e.target.value);setPaymentError(\"\")}}\r\n                        id=\"paid\"\r\n                        name=\"paid\"\r\n                        required={true}\r\n                        error={paymentError}\r\n                        step=\"any\"\r\n                      />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row col-md-4\">\r\n                <div className=\"col-sm-5 col-form-label\">\r\n                  <div style={{float:\"right\"}}>\r\n                    <label htmlFor=\"due-date\">\r\n                      Due Date:\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-7\">\r\n                  <input\r\n                    value={dueDate}\r\n                    onChange={e => setDueDate(e.target.value)}\r\n                    type=\"date\"\r\n                    id=\"due-date\"\r\n                    className=\"form-control\"\r\n                    name=\"Due Date\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"form-group row col-md-4\">\r\n                <div className=\"col-sm-5 col-form-label\">\r\n                  <div style={{float:\"right\"}}>\r\n                    <label htmlFor=\"date\">\r\n                      Date:\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-sm-7\">\r\n                  <input\r\n                    value={date}\r\n                    onChange={e => setDate(e.target.value)}\r\n                    type=\"date\"\r\n                    id=\"date\"\r\n                    className=\"form-control\"\r\n                    name=\"date\"\r\n                    required\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-success add-button submitButton\"\r\n              onClick={formSubmitHandler}\r\n            > \r\n              Sell\r\n            </button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default CheckoutForSales;","import React, {useState, useEffect} from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport {useNavigate, useParams} from 'react-router-dom'\r\nimport { jsPDF } from \"jspdf\";\r\nimport classes from './bill.module.css'\r\n\r\nfunction Bill(props) {\r\n\r\n  const cartNo = useSelector( state => state.cart.cartNo);\r\n  const navigate = useNavigate();\r\n  const [string, setString] = useState(null);\r\n  const [pdf, setPdf] = useState();\r\n  const [saleId, setSaleId] = useState();\r\n  const {id} = useParams();\r\n  // pdf.autoPrint();\r\n  useEffect(() => {\r\n    const fetchData = async ()=>{\r\n      const res =await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getBillDetails?\"+new URLSearchParams ({id:(id)}));\r\n      const data = await res.json();\r\n      const pdf = getPDF(data);\r\n      setSaleId(data.saleDetails.sale_id);\r\n      setPdf(pdf);\r\n      setString(pdf.output('datauristring'));\r\n    }\r\n    try {\r\n      fetchData();\r\n    } catch (error) {\r\n      alert(\"unable to load data\");\r\n    }\r\n  }, [id]);\r\n  \r\n  \r\n  \r\n  const save = () =>{\r\n    pdf.save(('Invoice_saleID.pdf'));\r\n  }\r\n  \r\n  const print = () =>{\r\n    pdf.autoPrint();\r\n    setString(pdf.output('datauristring'));\r\n  }\r\n\r\n  const moveToCart = ()=>{\r\n    const moveItemsToCart = async ()=>{\r\n      const res =await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/fillCartFromBill?\"+new URLSearchParams ({cartNo, saleId}));\r\n      const data = await res.json();\r\n      if (data.success) {\r\n        navigate('/');\r\n      } else {\r\n        alert(\"Unable to fill cart please contact support\"+data.err)\r\n      }\r\n    }\r\n    try {\r\n      moveItemsToCart();\r\n    } catch (error) {\r\n      alert(\"unable to move contact support\");\r\n    }\r\n  }\r\n\r\n  function getPDF({soldProducts, saleDetails, previousDue, subtotal}) {\r\n    const pdf = new jsPDF('p', 'mm', [210 , 148]);\r\n    var total = subtotal + previousDue + saleDetails.shipping - saleDetails.summery_discount;\r\n    if(saleDetails.tax === 1) total = Number(total)+ Number(Number(subtotal * 0.18).toFixed(1));\r\n    var img = new Image();\r\n    img.src = '/assets/logo.jpg';\r\n    let startY = 70;\r\n    let finalY = 165;\r\n    var breakY = 160;\r\n    if(saleDetails.tax === 1) {\r\n      finalY = 160;\r\n      breakY = 155\r\n    };\r\n    function decor() \r\n    {\r\n        pdf.addImage(img, 'jpeg', 7, 7, 37, 19);\r\n        pdf.setFont(\"helvetica\");\r\n        pdf.setFontSize(9);\r\n        pdf.setFont(undefined,\"bold\");\r\n        pdf.setTextColor(0, 0, 0);\r\n        pdf.text(saleDetails.name, 7, 40);\r\n        pdf.text('Royal Plywood', 51, 9);\r\n        pdf.setFont(undefined,\"normal\");\r\n        pdf.text('NH6, Panskura, Purba Mednapur', 51, 13);\r\n        pdf.text('West Bengal, 721139', 51, 17);\r\n        pdf.text('+91 8013787177', 51, 21);\r\n        pdf.text('+91 9432971771', 51, 25);\r\n        pdf.text('skhasemali49@gmail.com', 51, 29);\r\n        pdf.text('Bill To:', 7, 36);\r\n        pdf.text(String(saleDetails.address_line_1+\"\\n\"+saleDetails.address_line_2), 7, 44);\r\n        pdf.text((saleDetails.city_or_district+\", \"+saleDetails.state+\", \"+saleDetails.postal_code), 7, 48);\r\n        pdf.text(String(saleDetails.mobile_no), 7, 52);\r\n        pdf.text(('# '+String(saleDetails.sale_id)), 141, 17, 'right');\r\n        pdf.text((new Date(saleDetails.date).getDate() + '/' + (new Date(saleDetails.date).getMonth()+1) + '/' + new Date(saleDetails.date).getFullYear()), 141, 21, 'right');\r\n        pdf.setFontSize(12);\r\n        pdf.text('Amount:', 110, 36, 'right');\r\n        pdf.text(\"Rs. \" + total, 141, 36, 'right');\r\n        pdf.text('Paid:', 110, 41.5, 'right');\r\n        pdf.text((\"Rs. \"+saleDetails.paid), 141, 41.5, 'right');\r\n        pdf.text('Totol Due:', 110, 47, 'right');\r\n        pdf.text((\"Rs. \"+Math.round(total-saleDetails.paid)), 141, 47, 'right');\r\n        pdf.text('Due Date:', 110, 52.5, 'right');\r\n        pdf.text((new Date(saleDetails.due_date).getDate() + '/' + (new Date(saleDetails.due_date).getMonth()+1) + '/' + new Date(saleDetails.due_date).getFullYear()), 141, 52.5, 'right');\r\n        pdf.setTextColor(0, 0, 0);\r\n        pdf.setFontSize(20);\r\n        pdf.text('INVOCE', 141, 12, 'right');\r\n        pdf.setFontSize(10);\r\n        pdf.text('ID', 7, 61.5);\r\n        pdf.text('Description', 17, 61.5);\r\n        pdf.text('Quan.', 75, 61.5);\r\n        pdf.text('Rate', 88, 61.5);\r\n        pdf.text('Disc', 100, 61.5);\r\n        pdf.text('Price', 124, 61.5, 'right');\r\n        pdf.text('Amount', 141, 61.5, 'right');\r\n        pdf.setDrawColor(10, 10, 10);\r\n        pdf.setLineWidth(0.2);\r\n        pdf.line(7, 56.5, 141, 56.5);\r\n        pdf.line(7, 64, 141, 64);\r\n        pdf.line(7, finalY, 141, finalY);\r\n      }\r\n      decor();\r\n\r\n      soldProducts.forEach((product)=>{\r\n        \r\n          pdf.setFont(\"courier\");\r\n          pdf.setFontSize(9);\r\n          pdf.text(String(product.product_id), 7, startY);\r\n          pdf.setFontSize(10);\r\n          var desc = pdf.splitTextToSize(String(product.product_name), 50);\r\n          pdf.text(17, startY, desc);\r\n          pdf.text(String(product.quantity), 75, startY);\r\n          pdf.text(String(product.rate), 88, startY);\r\n          pdf.text(String(product.disc), 100, startY);\r\n          pdf.text(String(product.price), 124, startY, 'right');\r\n          pdf.text(String(product.amount), 141, startY, 'right');\r\n          pdf.setFont(\"helvetica\");\r\n          startY += (5 * desc.length);\r\n          if (startY > breakY) {\r\n              pdf.text('Continued...', 17, finalY + 25);\r\n              pdf.addPage();\r\n              decor();\r\n              startY = 70;\r\n          }\r\n      });\r\n      pdf.setFontSize(10);\r\n      console.log(saleDetails.tax);\r\n      if ((saleDetails.tax === 1)) {\r\n        pdf.text('Subtotal', 110, finalY + 7, 'right');\r\n        pdf.text('Rs. ' + String(subtotal), 113, finalY + 7);\r\n        pdf.text('Tax', 110, finalY + 12, 'right');\r\n        pdf.text('Rs. ' + String((subtotal*0.18).toFixed(1)), 113, finalY + 12);\r\n        finalY +=5;\r\n      }\r\n      else{\r\n        pdf.text('Subtotal', 110, finalY + 7, 'right');\r\n        pdf.text('Rs. ' + String(subtotal), 113, finalY + 7);\r\n      }\r\n      pdf.text('Shipping', 110, finalY + 12, 'right');\r\n      pdf.text('Rs. ' + String(saleDetails.shipping), 113, finalY + 12);\r\n      pdf.text('Discount', 110, finalY + 17, 'right');\r\n      pdf.text('Rs. ' + String(saleDetails.summery_discount), 113, finalY + 17);\r\n      pdf.text('Previous Due', 110, finalY + 22, 'right');\r\n      pdf.text('Rs. ' + String(previousDue), 113, finalY + 22);\r\n      pdf.line(87, finalY + 25, 141, finalY + 25);\r\n      pdf.line(7, finalY + 25, 61, finalY + 25);\r\n      pdf.text('Rs. ' + String(total), 113, finalY + 31);\r\n      pdf.text('Authorized Signature', 34, finalY + 31, 'center');\r\n      pdf.setFontSize(14);\r\n      pdf.text('Total', 110, finalY + 31, 'right');\r\n      let totalPage = pdf.internal.getNumberOfPages();\r\n      pdf.setFontSize(8);\r\n      for (let index = 1; index <= totalPage; index++) {\r\n          pdf.setPage(index);\r\n          pdf.text('Page '+index+ ' of '+ totalPage, 74, 196, 'center');\r\n      }\r\n      return pdf;\r\n  }\r\n\r\n  return (\r\n    <>\r\n    <div className={classes.parent}>\r\n        <iframe src={string} title=\"bill\" name='billpdf' id=\"billpdf\" />\r\n        <div>\r\n          <button type=\"button\" onClick={print} className=\"btn btn-danger btn-lg btn-block\">Print</button>\r\n          <button type=\"button\" onClick={save} className=\"btn btn-secondary btn-lg btn-block\">Save</button>\r\n          <button type=\"button\" onClick={moveToCart} className=\"btn btn-secondary btn-lg btn-block\">Move to Cart</button>\r\n        </div>\r\n    </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Bill","import React, {useState} from 'react';\r\nimport {useNavigate} from 'react-router-dom';\r\nimport  PropTypes  from \"prop-types\";\r\nimport classes from \"./Table.module.css\"\r\n\r\nfunction Table(props) {\r\n  const navigate = useNavigate();\r\n  const [goToValue, setGoToValue] = useState(0);\r\n  const clickButton = (e)=>{\r\n    // console.log(e);\r\n    if(e.keyCode === 13){\r\n      props.dispatch({type:'UPDATE_PAGENO', value:goToValue});\r\n    }\r\n  };\r\n\r\n  const clickEvent = (data,e)=>{\r\n    if(props.rowURL){\r\n      if (data.id != null && data.hide_url == null) {\r\n        navigate(props.rowURL+data.id);\r\n      }else if(data.hide_url != null){\r\n        // console.log(data.hide_url);\r\n        navigate(props.rowURL+data.hide_url);\r\n      }\r\n    }\r\n  }\r\n  return (\r\n    <div id=\"page-content-wrapper\">\r\n      <div className=\"container-fluid\">\r\n        <div className=\"card\">\r\n          <div className=\"card-header\">\r\n            <div className={classes.cardHeader}>\r\n              <div>\r\n              <div>\r\n                <p className=\"display-4 card-heading\">{props.title}</p>\r\n              </div>\r\n              </div>\r\n              <div>\r\n                {(props.headerItems) && props.headerItems}\r\n              </div>\r\n            </div>\r\n            {(props.filterItems) && <div style={{marginTop:\"15px\"}}>\r\n              {(props.filterItems) && props.filterItems}\r\n            </div>}\r\n          </div>\r\n\r\n          <table className=\"table table-striped table-hover\">\r\n            <thead className=\"thead-dark\">\r\n              <tr>\r\n                {props.thData.map((data,i)=><th key={i} scope=\"col\">{data}</th>)}\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {props.trData.map((data,i)=>{\r\n                return (\r\n                  // <tr onclick=\"window.location = '/clients/<%= client.client_id %>'\">\r\n                  <tr key={i} onClick={(e)=>{clickEvent(data,e)}}>\r\n                    {Object.entries(data).map(function(data, index) {\r\n                      if (data[0].split('_')[0] === 'hide') {\r\n\r\n                      } else if (index === 0) {\r\n                        return (\r\n                          <th key={`${data[0]}${i}${data[1]}`} scope=\"row\">{data[1]}</th>\r\n                        )\r\n                      }else{\r\n                        return(\r\n                          <td key={`${data[0]}${i}${data[1]}`}>{data[1]}</td>\r\n                        )\r\n                      }\r\n                      return (<></>) ;\r\n                    })}\r\n                  </tr>\r\n                );\r\n              })}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <button disabled={(props.pageNo === 0)? true :false} onClick={(e)=>{props.dispatch({type:'DECREMENT_PAGENO'})}}>Prev</button>\r\n          <span style={{margin:\"20px\"}}>Showing {Number(props.pageNo)+1} of {props.noOfPages}</span>\r\n          <button disabled={(props.pageNo < props.noOfPages-1)?false:true} onClick={()=>{props.dispatch({type:'INCREMENT_PAGENO'})}}>Next</button>  \r\n          <label style={{marginLeft:\"50px\"}} htmlFor=\"\">Goto:</label>\r\n          <input style={{margin:\"10px\", maxWidth:\"70px\"}} type=\"number\" min=\"1\" value={goToValue} onKeyDown={clickButton} onChange={(e)=>{setGoToValue(e.target.value)}} />\r\n          <button type='submit' onSubmit={(e)=>{props.dispatch({type:'UPDATE_PAGENO', value:goToValue})}}>Go</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nTable.propTypes = {\r\n  title:PropTypes.string.isRequired,\r\n  thData: PropTypes.array.isRequired,\r\n  trData: PropTypes.array.isRequired,\r\n  dispatch: PropTypes.func.isRequired,\r\n  pageNo: PropTypes.number.isRequired,\r\n  noOfPages: PropTypes.number.isRequired,\r\n};\r\n\r\nexport default Table","import React, { useEffect, useReducer } from 'react';\r\nimport Table from '../../Components/Table';\r\n\r\nfunction Sale() {\r\n\r\n  const initialState = {\r\n    // period : \"week\",\r\n    pageNo: 0,\r\n    salesList: [],\r\n    noOfPages:0,\r\n  }\r\n\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n      case 'UPDATE_PERIOD':\r\n        return{...state, period:action.value};\r\n\r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n        \r\n      case 'UPDATE_SALES_LIST':\r\n        return{...state, salesList:action.value.salesList, noOfPages: action.value.noOfPages};\r\n\r\n      default:\r\n        return state\r\n      \r\n    }\r\n\r\n  }\r\n\r\n\r\n  // const [{period, pageNo, salesList, noOfPages}, dispatch] = useReducer(reducer, initialState);\r\n  const [{pageNo, salesList, noOfPages}, dispatch] = useReducer(reducer, initialState);\r\n  // console.log(salesList); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async()=>{\r\n      const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getSaleList?\"+new URLSearchParams ({pageNo}));\r\n      const data = await res.json();\r\n      dispatch({type:'UPDATE_SALES_LIST', value: {salesList:data.salesList, noOfPages: data.noOfPages}});\r\n    }\r\n    try{\r\n      fetchData();\r\n    }catch(e) {\r\n      console.log(\"unable to connet to server\");\r\n    }\r\n  }, [pageNo,dispatch]);\r\n\r\n  // const periodChangeHandler = (e)=>{\r\n  //   dispatch({type: 'UPDATE_PERIOD', value:e.target.value});\r\n  // };\r\n\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          {/* <div className=\"col-lg\"><canvas id=\"myChart\"></canvas></div>\r\n          <div className=\"col-lg\"><canvas id=\"myChart2\" ></canvas></div> */}\r\n          {/* <div className=\"col-lg\"><canvas id=\"myChart\" style=\"height: 360px; width: 90%;\"></canvas></div>\r\n          <div className=\"col-lg\"><canvas id=\"myChart2\" style=\"height: 360px; width: 90%;\"></canvas></div> */}\r\n        </div>\r\n        <div className=\"d-flex\" id=\"wrapper\" style={{paddingBottom:\"50px\"}}>\r\n          <Table \r\n            title=\"Sales List\"\r\n            rowURL=\"/sales/bill/\"\r\n            thData={[\"ID\",\"Date\",\"Clients Name\",\"Total Amount\",\"Paid\"]}\r\n            trData={salesList}\r\n            dispatch={dispatch}\r\n            pageNo={pageNo}\r\n            noOfPages={noOfPages}\r\n          />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Sale;","import React, {useEffect, useState, useReducer} from 'react'\r\nimport Table from '../Components/Table';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Clients() {\r\n\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState(\"\");\r\n  const initialState = {\r\n    pageNo: 0,\r\n    clientsList: [],\r\n    noOfPages:0,\r\n    allClientsList:[]\r\n  }\r\n\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n     \r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n        \r\n      case 'UPDATE_CLIENTS_LIST':\r\n        return{\r\n          ...state,\r\n          clientsList:action.value.clientsList,\r\n          noOfPages: action.value.noOfPages,\r\n        };\r\n      \r\n        case 'UPDATE_ALL_CLIENTS_LIST':\r\n        return{\r\n          ...state,\r\n          allClientsList:action.allClientsList\r\n        };\r\n\r\n      default:\r\n        return state\r\n      \r\n    }\r\n\r\n  }\r\n\r\n\r\n  const [{pageNo, clientsList, noOfPages,allClientsList}, dispatch] = useReducer(reducer, initialState);\r\n  // console.log(clientsList); \r\n\r\n  useEffect(()=>{\r\n    const getAllClientsList = ()=>{\r\n      fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/getAllClientsList')\r\n      .then(res=>res.json())\r\n      .then((data =>{\r\n        // console.log(data);\r\n        dispatch({type:\"UPDATE_ALL_CLIENTS_LIST\",allClientsList:data.allClientsList})\r\n      }))\r\n    };\r\n\r\n    getAllClientsList();\r\n\r\n  },[])\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async()=>{\r\n      const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getClientsList?\"+new URLSearchParams ({pageNo}));\r\n      const data = await res.json();\r\n      // console.log(data.clientsList);\r\n      dispatch({type:'UPDATE_CLIENTS_LIST', value: {clientsList:data.clientsList, noOfPages: data.noOfPages}});\r\n    }\r\n    try{\r\n      fetchData();\r\n    }catch(e) {\r\n      alert(\"unable to connet to server\");\r\n    }\r\n  }, [pageNo,dispatch]);\r\n\r\n  const formSubmitHandler = (e)=>{\r\n    e.preventDefault();\r\n    var data = formData.split(' ')[0]\r\n    if(typeof(Number(data)) == 'number'){\r\n      navigate('/clients/transaction/'+data);\r\n    }else{\r\n      alert(\"Invalid Id\")\r\n    }\r\n  }\r\n\r\n  // const navigateToAddClient = (e)=>{\r\n  //   e.preventDefault();\r\n  //   navigate('/clients/add-client');\r\n  // }\r\n\r\n  \r\n  const addClientBtnHandler = ()=>{\r\n    navigate(\"/clients/add-client\");\r\n  }\r\n\r\n  const headerItems = (\r\n    <div className=\"d-flex justify-content-end\">\r\n      <form onSubmit={formSubmitHandler} className=\"form-inline\" id=\"cForm\">\r\n        <input type=\"text\" className=\"form-control mr-2\" list=\"client_list\" \r\n          id=\"select_client\" name=\"client\"\r\n          value={formData}\r\n          onChange={e=>{setFormData(e.target.value)}}\r\n          autoFocus={true} />\r\n        <button className=\"btn btn-outline-dark btn-sm\">Search</button>\r\n      </form>\r\n      <form className=\"form-inline\">\r\n        <button onClick={addClientBtnHandler} type='button' className=\"btn btn-dark btn-sm ml-2\">Add Client</button>\r\n      </form>\r\n      <datalist dir=\"rtl\" id=\"client_list\">\r\n        {allClientsList.map((client=>{\r\n          var c=client.name.replace(/_/g, \" \" );\r\n          return(\r\n            <option key={client.client_id}>{client.client_id} {\" : \"} {c.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() +\r\n              txt.substr(1).toLowerCase();})} {client.mobile_no}</option>\r\n              )\r\n            }))}\r\n      </datalist>\r\n    </div>\r\n  );\r\n\r\n\r\n  return (\r\n    <div className=\"d-flex\" id=\"wrapper\">\r\n      <Table \r\n            title=\"Client List\"\r\n            rowURL=\"/clients/transaction/\"\r\n            headerItems={headerItems}\r\n            thData={[\"ID\",\"Name\",\"Mobile\",\"Address\",\"City\",\"State\"]}\r\n            trData={clientsList}\r\n            dispatch={dispatch}\r\n            pageNo={pageNo}\r\n            noOfPages={noOfPages}\r\n          />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Clients","import React, {useReducer, useEffect, useState} from 'react';\r\nimport { Form } from 'react-router-dom';\r\nimport Input from '../../Purchase/Component/Input';\r\nimport PrependInput from '../../Purchase/Component/PrependInput';\r\n\r\nfunction ClientsForm(props) {\r\n\r\n  const initialState = {\r\n    l1:\"\", l2:\"\", city:\"\", zip:\"\", state:\"\", name:\"\", id:\"\", country:\"\", mobile_no:\"\",\r\n    inputDisabled:false, mode:'add'\r\n  }\r\n\r\n  const reducer = (s, action) =>{\r\n    switch (action.type) {\r\n      case 'l1':\r\n        return{...s, l1:action.value};\r\n      case 'l2':\r\n        return{...s, l2:action.value}\r\n      case 'city':\r\n        return{...s, city:action.value}\r\n      case 'zip':\r\n        return{...s, zip:action.value}\r\n      case 'state':\r\n        return{...s, state:action.value}\r\n      case 'name':\r\n        return{...s, name:action.value}\r\n      case 'id':\r\n        return{...s, id:action.value}\r\n      case 'country':\r\n        return{...s, country:action.value}\r\n      case 'mobile_no':\r\n        return{...s, mobile_no:action.value}\r\n      case 'inputDisabled':\r\n        return{...s, inputDisabled:action.value}\r\n      case 'mode':\r\n        return{...s, mode:action.value}\r\n      case 'edit':\r\n        return{...s, mode:\"edit\", inputDisabled:false}\r\n      case 'read':\r\n        return{...s, mode:\"read\", inputDisabled:true}\r\n      case 'all':\r\n        return {\r\n          ...s,\r\n          l1:action.value.l1,\r\n          l2:action.value.l2,\r\n          city:action.value.city,\r\n          zip:action.value.zip,\r\n          state:action.value.state,\r\n          name:action.value.name,\r\n          id:action.value.id, \r\n          country:action.value.country, \r\n          mobile_no:action.value.mobile_no,\r\n          mode:\"read\",\r\n          inputDisabled:true\r\n        }\r\n\r\n    \r\n      default:\r\n        return s;\r\n    }\r\n  }\r\n\r\n  const [{l1, l2, city, zip, state, name, id, country, mobile_no, mode, inputDisabled}, dispatch] = useReducer(reducer, initialState)\r\n  useEffect(() => {  \r\n    if (props.data) {\r\n      dispatch({type:\"all\", value:props.data})\r\n    }\r\n  }, [])\r\n  \r\n  let buttonText = \"Add Customer\";\r\n  if (mode==='read') {\r\n    buttonText=\"Edit\";\r\n  }\r\n  buttonText = mode==='read' ? \"Edit\" : \"Save\"\r\n\r\n  const formSubmitHandler = (e) =>{\r\n    if(mode=='read'){\r\n      e.preventDefault();\r\n      dispatch({type:'edit'});\r\n      return\r\n    }\r\n    if(mode=='edit'){\r\n      \r\n      return\r\n    }\r\n  }\r\n\r\n  const cancelHandler = (e)=>{\r\n    if (props.data) {\r\n      dispatch({type:\"all\", value:props.data})\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <p className='display-4 card-heading'>{props.title}</p>\r\n      </div>\r\n      <div className='m-3'>\r\n        <Form\r\n          action=\"/clients/add-client\"\r\n          method={props.method ? props.method : \"POST\"}\r\n        >\r\n          <div className=\"form-row\">\r\n            <div className=\"form-group col-md-6\">\r\n              <PrependInput\r\n                prepend=\"91\"\r\n                onChange={(e)=>{dispatch({type:\"mobile_no\", value:e.target.value})}}\r\n                id={\"inputNumber\"}\r\n                label={\"Mobile\"}\r\n                type={\"number\"}\r\n                name=\"mobile\"\r\n                value={mobile_no} \r\n                // value={632465}\r\n                placeholder=\"9876543210\"\r\n                required={true}\r\n                focus={true}\r\n                disabled={props.data ? true : false}\r\n              />\r\n            </div>\r\n            <div className=\"form-group col-md-6\">\r\n              <Input\r\n                onChange={(e)=>{dispatch({type:\"name\", value:e.target.value})}}\r\n                disabled={inputDisabled}\r\n                id={\"inputName\"}\r\n                label={\"Client Name\"}\r\n                type={\"text\"}\r\n                name={\"name\"}\r\n                value={name} \r\n                // value={\"asdfasdf\"}\r\n                placeholder=\"Sk Imran\"\r\n                msg={\"Make sure to input full name.\"}\r\n                required={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"address\">\r\n            <div id=\"address-section\">\r\n              <div className=\"form-group\">\r\n                <Input\r\n                  label=\"Address Line 1\"\r\n                  disabled={inputDisabled}\r\n                  type=\"text\"\r\n                  value={l1}\r\n                  onChange={(e)=>{dispatch({type:\"l1\", value:e.target.value})}}\r\n                  id=\"inputAddress\"\r\n                  // value=\"Enter customer address\"\r\n                  placeholder=\"Enter customer address\"\r\n                  name=\"address_line_1\"\r\n                  required={true}\r\n                // error={add1Error}\r\n                />\r\n\r\n\r\n                {/* <label htmlFor=\"inputAddress\">Address</label>\r\n            <input\r\n            value={add1}\r\n            onChange={e => setAdd1(e.target.value)}\r\n            type=\"text\"\r\n            className=\"form-control d-inp\"\r\n            id=\"inputAddress\"\r\n            placeholder=\"1234 Main St\"\r\n            name=\"address_line_1\"\r\n            required\r\n            />\r\n          <div className=\"invalid-feedback\">This Field is required</div> */}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <Input\r\n                  label=\"Address Line 2\"\r\n                  disabled={inputDisabled}\r\n                  type=\"text\"\r\n                  value={l2}\r\n                  onChange={(e)=>{dispatch({type:\"l2\", value:e.target.value})}}\r\n                  // onChange={e => setAdd2(e.target.value)}\r\n                  id=\"inputAddress2\"\r\n                  // value=\"Enter customer address line 2\"\r\n                  placeholder=\"Enter customer address line 2\"\r\n                  name=\"address_line_2\"\r\n                />\r\n                {/* <label htmlFor=\"inputAddress2\">Address 2</label>\r\n            <input\r\n              value={add2}\r\n              onChange={e => setAdd2(e.target.value)}\r\n              type=\"text\"\r\n              className=\"form-control d-inp\"\r\n              id=\"inputAddress2\"\r\n              placeholder=\"Apartment, studio, or floor\"\r\n              name=\"address_line_2\"\r\n            /> */}\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-4\">\r\n                  <Input\r\n                    label=\"City\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={city}\r\n                    onChange={(e)=>{dispatch({type:\"city\", value:e.target.value})}}\r\n                    // onChange={e => {setCity(e.target.value);setCityError(\"\")}}\r\n                    id=\"inputCity\"\r\n                    // value=\"city\"\r\n                    placeholder=\"Enter customer city\"\r\n                    name=\"city_or_district\"\r\n                    required={true}\r\n                  // error={cityError}\r\n                  />\r\n\r\n                  {/* <label htmlFor=\"inputCity\">City or District</label>\r\n              <input\r\n                value={city}\r\n                onChange={e => setCity(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputCity\"\r\n                name=\"city_or_district\"\r\n                required\r\n              /> \r\n              <div className=\"invalid-feedback\">This field is required</div>*/}\r\n                </div>\r\n                <div className=\"form-group col-md-4\">\r\n                  <Input\r\n                    label=\"State\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={state}\r\n                    onChange={(e)=>{dispatch({type:\"state\", value:e.target.value})}}\r\n                    // onChange={e => {setState(e.target.value);setStateError(\"\")}}\r\n                    id=\"inputState\"\r\n                    // value=\"state\"\r\n                    placeholder=\"Enter customer state\"\r\n                    name=\"state\"\r\n                    required={true}\r\n                  // error={stateError}\r\n                  />\r\n\r\n\r\n                  {/* <label htmlFor=\"inputState\">State</label>\r\n              <input\r\n                value={state}\r\n                onChange={e => setState(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputState\"\r\n                name=\"state\"\r\n                required\r\n              /> \r\n              <div className=\"invalid-feedback\">State is required</div>*/}\r\n                </div>\r\n                <div className=\"form-group col-md-2\">\r\n\r\n                  <Input\r\n                    label=\"Country\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={country}\r\n                    onChange={(e)=>{dispatch({type:\"country\", value:e.target.value})}}\r\n                    // onChange={e => {setCountry(e.target.value);setCountryError(\"\")}}\r\n                    id=\"inputCountry\"\r\n                    // value=\"country\"\r\n                    placeholder=\"Enter customer country\"\r\n                    name=\"country\"\r\n                    required={true}\r\n                  // error={countryError}\r\n                  />\r\n\r\n                  {/* <label htmlFor=\"inputCountry\">Country</label>\r\n              <input\r\n                value={country}\r\n                onChange={e => setCountry(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputCountry\"\r\n                name=\"country\"\r\n                required\r\n              />\r\n              <div className=\"invalid-feedback\">Country is required</div> */}\r\n                </div>\r\n                <div className=\"form-group col-md-2\">\r\n\r\n                  <Input\r\n                    label=\"Zip\"\r\n                    disabled={inputDisabled}\r\n                    type=\"number\"\r\n                    value={zip}\r\n                    onChange={(e)=>{dispatch({type:\"zip\", value:e.target.value})}}\r\n                    // onChange={e => {setZip(e.target.value);setZipError(\"\")}}\r\n                    id=\"inputZip\"\r\n                    // value=\"121321\"\r\n                    placeholder=\"Enter customer zip\"\r\n                    name=\"postal_code\"\r\n                    required={true}\r\n                  // error={zipError}\r\n                  />\r\n                  <input onChange={(e)=>{}} hidden={true} name=\"id\" value={id ===\"\" || id===null ? \"\" : id} />\r\n\r\n                  {/* <label htmlFor=\"inputZip\">Zip</label>\r\n              <input\r\n                value={zip}\r\n                onChange={e => setZip(e.target.value)}\r\n                type=\"number\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputZip\"\r\n                name=\"postal_code\"\r\n                required\r\n              />\r\n              <div className=\"invalid-feedback zip-feedback\">\r\n                There has to be a number\r\n              </div> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button onClick={cancelHandler} hidden={props.data && mode ==='edit'? false: true} className='add-button ml-5 btn btn-dark' type=\"reset\">Cancel</button>\r\n          <button\r\n            type='submit'\r\n            className={`btn btn-outline-danger add-button submitButton`}\r\n            onClick={formSubmitHandler}\r\n            >\r\n            {buttonText}\r\n          </button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ClientsForm","import React from 'react'\r\nimport ClientsForm from './Component/ClientsForm';\r\n\r\n\r\nexport default function ClientDetails(props) {\r\n\r\n  return (\r\n        <div className='container' style={{ marginTop: \"40px\" }}>\r\n          <ClientsForm method=\"PUT\" disabled=\"true\" title={props.title} data={props.data} />\r\n        </div>\r\n  )\r\n}\r\n","import React, {useReducer, useEffect} from \"react\";\r\nimport { useParams} from \"react-router-dom\";\r\nimport Table from \"../Components/Table\";\r\nimport ClientDetails from \"./ClientDetails\";\r\nimport {useLoaderData} from 'react-router-dom'\r\n\r\n\r\n\r\nconst ClientHistory = ()=>{\r\n  const {id} = useParams();\r\n  const initialState = {\r\n    pageNo: 0,\r\n    list: [],\r\n    noOfPages:0,\r\n    name:\"\",\r\n    showDetails:false,\r\n  };\r\n\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n      \r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n        \r\n      case 'UPDATE_LIST':\r\n        return{...state, list:action.value.list, noOfPages: action.value.noOfPages, name: action.value.name, details:action.value.details};\r\n      \r\n      case 'TOGGLE_SHOW_DETAILS':\r\n        return{...state, showDetails: !state.showDetails}\r\n\r\n      default:\r\n        return state\r\n      \r\n    }\r\n\r\n  };\r\n\r\n\r\n  const [{pageNo, list, noOfPages, name, showDetails}, dispatch] = useReducer(reducer, initialState);\r\n  // console.log(list); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async()=>{\r\n      const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getAllClientsHistory?\"+new URLSearchParams ({pageNo,id}));\r\n      const data = await res.json();\r\n      // console.log(data.details);\r\n      dispatch({type:'UPDATE_LIST', value: {list:data.list, noOfPages: data.noOfPages,name: data.name, details:data.details}});\r\n    }\r\n    try{\r\n      fetchData();\r\n    }catch(e) {\r\n      alert(\"unable to connet to server\");\r\n    }\r\n  }, [pageNo,dispatch,id]);\r\n\r\n  const details = useLoaderData().data;\r\n\r\n  const detailsButton = <button onClick={()=>{dispatch({type:'TOGGLE_SHOW_DETAILS'})}} className=\"btn btn-dark btn-ms\">{!showDetails ? \"Show Details\" : \"Hide Details\"}</button>;\r\n\r\n  const clientDetails =<ClientDetails title='Details' data={details}/> \r\n\r\n\r\n  return(\r\n    <div className=\"container\" style={{paddingBottom:\"50px\"}}>\r\n      <div style={{display:\"block\"}}>\r\n        <Table \r\n          title={`${ (name === \"\" || name === null)? \"Customer Not Found\": (name+ 's Transactions') }`}\r\n          headerItems={detailsButton}\r\n          filterItems={showDetails && clientDetails}\r\n          rowURL=\"/\"\r\n          thData={[\"Sales or Paymet\",\"Date\",\"Debit\",\"Credit\"]}\r\n          trData={list}\r\n          dispatch={dispatch}\r\n          pageNo={pageNo}\r\n          noOfPages={noOfPages}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ClientHistory;\r\n\r\nexport const loader = async({params})=>{\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getClientsDetails?\"+new URLSearchParams ({id:params.id}));\r\n  return res;\r\n}","import React, {useEffect, useReducer} from 'react'\r\nimport Table from '../Components/Table';\r\nimport classes from './index.module.css'\r\nimport {useNavigate, redirect} from 'react-router-dom'\r\n\r\nexport default function Products() {\r\n\r\n  const navigate = useNavigate();\r\n  const initialState = {\r\n    pageNo: 0,noOfPages:0,\r\n    productList: [],categoryList:[],brandList:[],\r\n    cat:\"/_default_/\", brand:\"/_default_/\", stock:\"/_default_/\", active:\"/_default_/\",\r\n    stk:0,amt:0\r\n  }\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n\r\n      case 'UPDATE_PRODUCT_LIST':\r\n        return{...state,\r\n          productList:action.productList,\r\n          noOfPages:action.noOfPages,\r\n          amt:action.amt,\r\n          stk:action.stk\r\n        };\r\n      case 'UPDATE_BRAND_AND_CATEGORY_LIST':\r\n        return{...state,brandList:action.brandList,\r\n                categoryList:action.categoryList,\r\n              };\r\n\r\n      case 'update_cat':\r\n        return{...state, cat:action.value};\r\n      case 'update_brand':\r\n        return{...state, brand:action.value};\r\n      case 'update_stock':\r\n        return{...state, stock:action.value};\r\n      case 'update_active':\r\n        return{...state, active:action.value};\r\n      case 'update_stock':\r\n        return{...state, stk:action.value};\r\n      case 'update_amt':\r\n        return{...state, amt:action.value};\r\n      default:\r\n        return state \r\n    }\r\n  }\r\n\r\n  const [{pageNo,noOfPages,productList, categoryList, brandList, cat, brand, stock, active, stk, amt}, dispatch] = useReducer(reducer, initialState);\r\n\r\n  useEffect(()=>{\r\n    fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getCategoryBrand\")\r\n    .then(res=>res.json())\r\n    .then((data)=>{\r\n        dispatch({type:\"UPDATE_BRAND_AND_CATEGORY_LIST\", brandList:data.brand, categoryList:data.cat})\r\n    })\r\n  },[]);\r\n\r\n  useEffect(()=>{\r\n    fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getProductList?\"+new URLSearchParams({pageNo,cat, brand, stock, active}))\r\n    .then(res=>res.json())\r\n    .then((data)=>{\r\n        // console.log(\"**************\");\r\n        // console.log(data);\r\n        // console.log(\"**************\");\r\n        dispatch({type:\"UPDATE_PRODUCT_LIST\", stk: data.totalStock, amt:data.totalAmount, productList:data.list, noOfPages: data.noOfPages})\r\n        //   dispatch({type:\"UPDATE_PAGENO\", value:1})\r\n      })\r\n    },[pageNo, cat, brand, stock, active])\r\n    \r\n  useEffect(()=>{\r\n      dispatch({type:\"UPDATE_PAGENO\", value:1})\r\n  },[cat, brand, stock, active]);\r\n\r\n\r\n  const filterFormSubmitHandler = (e)=>{\r\n    e.preventDefault();\r\n    // console.log(cat, brand, stock, active);\r\n    // fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getProductList?\"+new URLSearchParams({pageNo, cat, brand, stock, active}))\r\n    // .then(res=>res.json())\r\n    // .then((data)=>{\r\n      //   console.log(\"______________\");\r\n      //   console.log(data);\r\n      //   console.log(\"______________\");\r\n      //   dispatch({type:\"UPDATE_PRODUCT_LIST\", productList:data.list, noOfPages: data.noOfPages})\r\n      //   dispatch({type:\"UPDATE_PAGENO\", value:1})\r\n    // })\r\n  }\r\n\r\n\r\n  const headerItems= <button onClick={()=>{navigate('/products/addProducts')}} className='btn btn-dark'>Add Product</button>\r\n  \r\n  const filterItems= (\r\n    <div className={classes.filterItem}>\r\n      <form onSubmit={filterFormSubmitHandler} method=\"GET\">\r\n        <select onChange={(e)=>{dispatch({type:\"update_cat\",value:e.target.value})}}\r\n         name=\"catagory\" defaultValue={\"/_default_/\"} className=\"custom-select\" style={{maxWidth:\"200px\", marginLeft:\"-7px\"}}>\r\n          <option value={\"/_default_/\"}>All Category</option>\r\n          {categoryList.map((data)=>{\r\n            var c=data.name.replace(/_/g, \" \" );\r\n            c= c.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() +\r\n              txt.substr(1).toLowerCase();});\r\n            return(<option key={data.name} value={data.name}>{c}</option>);\r\n            }\r\n          )}\r\n        </select>\r\n        <select onChange={(e)=>{dispatch({type:\"update_brand\",value:e.target.value})}}\r\n          name=\"brand_name\" defaultValue={\"/_default_/\"} className=\"custom-select\" style={{maxWidth:\"200px\"}}>\r\n          <option value={\"/_default_/\"}>All Brand</option>\r\n          {brandList.map((data,i)=>{\r\n            var c=data.brand_name.replace(/_/g, \" \" );\r\n            c= c.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() +\r\n              txt.substr(1).toLowerCase();});\r\n            return(<option key={i} value={data.name}>{c}</option>);\r\n            }\r\n          )}\r\n        </select>\r\n        <select onChange={(e)=>{dispatch({type:\"update_stock\",value:e.target.value})}}\r\n          name=\"active\" defaultValue={\"/_default_/\"} className=\"custom-select\" style={{maxWidth:\"200px\"}}>\r\n          <option value={\"/_default_/\"}>Select Stock</option>\r\n          <option value=\"0\">Low Stock</option>\r\n          <option value=\"1\">On Stock</option>\r\n          <option value=\"2\">High Stock</option>\r\n        </select>\r\n        <select onChange={(e)=>{dispatch({type:\"update_active\",value:e.target.value})}}\r\n          name=\"active\" defaultValue={\"/_default_/\"} className=\"custom-select\" style={{maxWidth:\"200px\"}}>\r\n          <option value={\"/_default_/\"}>Select Active or Inactive</option>\r\n          <option value=\"1\">Active</option>\r\n          <option value=\"0\">Inactive</option>\r\n        </select>\r\n        <button className=\"btn btn-outline-dark btn-sm\" hidden={true}>Filter</button>\r\n        No of Stock:<strong className=\"text-danger\">\r\n          {stk}\r\n        </strong> Stock Value:<strong className=\"text-danger\"> {amt}</strong>\r\n      </form>\r\n    </div>\r\n  );\r\n  \r\n  return (\r\n    <div  className=\"d-flex\" id=\"wrapper\">\r\n      <Table\r\n        title='Products List'\r\n        headerItems={headerItems}\r\n        rowURL=\"/products/\"\r\n        filterItems={filterItems}\r\n        thData={[\"Name\", \"Category\",\"Brand\",\"Stock\", \"Mix Stock\",\"Max Stock\",\"MRP\",\"Unit\"]}\r\n        trData={productList}\r\n        dispatch={dispatch}\r\n        pageNo={pageNo}\r\n        noOfPages={noOfPages}\r\n       />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const action = async ({request, params})=>{\r\n  const data = await request.formData();\r\n  const obj = {\r\n    catagory: data.get('catagory'),\r\n    brand_name: data.get('brand_name'),\r\n    name: data.get('name'),\r\n    mrp: data.get('mrp'),\r\n    cp: data.get('cp'),\r\n    unit: data.get('unit'),\r\n  }\r\n  console.log(obj);\r\n  console.log(request.method);\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/createNewProduct', {\r\n    method: request.method,\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(obj)\r\n  })\r\n  const ret = await res.json();\r\n  console.log(ret);\r\n  if (ret.done==true || ret.done==='true') {\r\n      return redirect(\"/products/\"+ret.id)\r\n  } else {\r\n    throw \"Cannot create the product\";\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ClientsForm from './Component/ClientsForm'\r\nimport {redirect} from 'react-router-dom'\r\n\r\nfunction AddClients() {\r\n  return (\r\n    <div className='container' style={{ marginTop: \"40px\" }}>\r\n      <ClientsForm title=\"Add Customer\" />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AddClients\r\n\r\n\r\nexport const action = async ({ request, params }) => {\r\n  const data = await request.formData();\r\n  const obj = {\r\n    mobile_no: data.get('mobile'),\r\n    name: data.get('name'),\r\n    address_line_1: data.get('address_line_1'),\r\n    address_line_2: data.get('address_line_2'),\r\n    city_or_district: data.get('city_or_district'),\r\n    state: data.get('state'),\r\n    country: data.get('country'),\r\n    postal_code: data.get('postal_code'),\r\n    id:data.get(\"id\")\r\n  }\r\n  console.log(obj);\r\n  console.log(request.method);\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/clients/addClient', {\r\n    method: request.method,\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(obj)\r\n  })\r\n  const ret = await res.json();\r\n  console.log(ret);\r\n  if (ret.done==true || ret.done==='true') {\r\n    if (request.method == 'PUT') {\r\n      alert(\"Client Details Has been updated\")\r\n      return redirect(\"/clients/transaction/\"+obj.id)\r\n    }\r\n    return redirect(\"/clients\")\r\n  } else {\r\n    if (request.method == 'PUT') {\r\n      throw ret;\r\n    }else{\r\n      throw \"Cannot create the customer with the mobile number provided\";\r\n    }\r\n  }\r\n\r\n}\r\n\r\nexport function loader({ request, params }) {\r\n  console.log(\"inside loader\");\r\n  return null;\r\n}","import React, {useState,useEffect} from 'react';\r\nimport {Form} from 'react-router-dom';\r\n\r\nexport default function AddProducts() {\r\n\r\n  const [pageDetails, setPageDetails] = useState({brands:[],category:[],units:[]})\r\n\r\n  useEffect(() => {\r\n    fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/addProductPageDetails\")\r\n    .then(res=>res.json())\r\n    .then((data)=>{\r\n        // console.log(data);\r\n        setPageDetails(data);\r\n    })\r\n  },[]);\r\n  \r\n\r\n  return (\r\n    <div className='container' id=\"addProductsForm\">\r\n\r\n      <div className=\"add-heading bg-primary\">\r\n        <h3 >Add Product</h3>\r\n      </div>\r\n\r\n      <Form method=\"POST\" className=\"needs-validation\" noValidate={true}>\r\n\r\n        <div className=\"form-group\">\r\n          <div className=\"select-items\">\r\n            <label htmlFor=\"categorySelect\">Category</label>\r\n            <select className=\"custom-select\" name=\"catagory\" id=\"categorySelect\" required>\r\n             {pageDetails.category.map((c,i)=>{\r\n                let cat = c.name.replace(/_/g, \" \");\r\n                cat = cat.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();})\r\n                return(<option key={i} value={c.name}>{cat}</option>)\r\n              })}\r\n            </select>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"brandSelect\">Brand</label>\r\n          <input type=\"text\" className=\"form-control\" list=\"brands\" id=\"brandSelect\" name=\"brand_name\" required/>\r\n          <datalist id=\"brands\">\r\n          {pageDetails.brands.map((b,i)=>{\r\n            let brand = b.brand_name.replace(/_/g, \" \");\r\n            brand = brand.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();})\r\n            return(<option key={i} value={b.brand_name}>{brand}</option>)\r\n          })}\r\n          </datalist>\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Name\" name=\"name\" required/>\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"mrp\">MRP</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"mrp\" placeholder=\"00\" name=\"mrp\" step=\"any\"/>\r\n        </div>\r\n      \r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"cp\">Cost Price</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"cp\" placeholder=\"00\" name=\"cp\"  step=\"any\"/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"unitSelect\">Unit</label>\r\n          <input type=\"text\" className=\"form-control\" list=\"units\" id=\"unitSelect\" name=\"unit\" required />\r\n          <datalist id=\"units\">\r\n          {pageDetails.units.map((u,i)=>{\r\n            let unit = u.name.replace(/_/g, \" \");\r\n            return(<option key={i} value={u.name}>{unit}</option>)\r\n          })}\r\n          </datalist>\r\n        </div>\r\n\r\n        <button className=\"btn btn-info btn-sm\" type=\"submit\">Apply</button>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}","import React, {useEffect, useState} from 'react'\r\nimport {Form, useParams, redirect} from 'react-router-dom'\r\n\r\nexport default function EditProduct() {\r\n\r\n  const [specField, setSpecField] = useState([]);\r\n  const [specs, setSpecs] = useState({});\r\n  const [specsValue, setSpecsValue] = useState([]);\r\n\r\n  const {id} = useParams();\r\n  const [cat, setCat] = useState(\"\");\r\n  const [qPerPc, setQPerPc] = useState(1);\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [brandList, setBrandList] = useState([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [active, setActive] = useState(false)\r\n  const [mrp, setMrp] = useState(0);\r\n  const [cp, setCp] = useState(0);\r\n  const [stock, setStock] = useState(0);\r\n  const [minStock, setMinStock] = useState(0);\r\n  const [maxStock, setMaxStock] = useState(0);\r\n  const [unit, setUnit] = useState(\"\");\r\n  const [unitList, setUnitList] = useState([]);\r\n  const [catSpecId, setCatSpecId] = useState(0);\r\n  const [specsChar, setSpecsChar] = useState(\"\");\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getProductDetails?\"+new URLSearchParams({id}))\r\n    .then(res=>res.json())\r\n    .then((data)=>{\r\n      console.log(data);\r\n        setSpecsValue(data.specsValues);\r\n        setSpecField(data.specField);\r\n        setSpecs(data.specs);\r\n        setCat(data.product.catagory);\r\n        setQPerPc(data.product.per_peice_quantity)\r\n        setBrand(data.product.brand_name);\r\n        setBrandList(data.brands);\r\n        setName(data.product.product_name);\r\n        setActive(data.product.active===1 ? true: false );\r\n        setMrp(data.product.mrp);\r\n        setCp(data.product.cp);\r\n        setStock(data.product.stock);\r\n        setMinStock(data.product.min_stock);\r\n        setMaxStock(data.product.default_stock);\r\n        setUnit(data.product.unit);\r\n        setUnitList(data.units);\r\n        setCatSpecId(data.product.catagory_specs_id);\r\n\r\n    })\r\n  \r\n  }, [])\r\n  \r\n\r\n  useEffect(()=>{\r\n    let temp = \"\";\r\n    specField.forEach((spec, i)=>{\r\n      temp += spec.Field+\"::\";\r\n    });\r\n    setSpecsChar(temp);\r\n  },[specField]);\r\n\r\n  return (\r\n    <div className='container' id=\"addProductsForm\">\r\n\r\n      <div className=\"add-heading bg-primary\">\r\n        <h3 >Edit Product</h3>\r\n      </div>  \r\n\r\n      <h3>\r\n        {/* <% var cat = catagory.replace(/_/g, \" \"); %> */}\r\n        Enter the {cat}'s Specification\r\n      </h3>\r\n\r\n      {/* <div className=\"profile-pic\">\r\n        <img src=\"../../../../product_images/\" alt=\"IMG\" className=\"img-thumbnail\" />\r\n        <form id=\"dpform\" action=\"/manage/products/edit/<%= product.product_id %>/uploadProductDp\" enctype=\"multipart/form-data\" method=\"POST\">\r\n          <div className=\"edit\">\r\n            <label htmlFor=\"\">\r\n              <img src=\"../../../../assets/edit icon.png\"  alt=\"\" srcset=\"\">\r\n            </label>\r\n            <input id=\"file\" type=\"file\" onchange=\"checkFile()\" name=\"file\" accept=\".jpg, .jpeg\" required>\r\n          </div>\r\n        </form>\r\n      </div> */}\r\n\r\n\r\n      \r\n      <Form method=\"POST\">\r\n\r\n\r\n        {/* <% for( let index = 0; index < spec_fields.length; index++ ) { %>\r\n          <% if (spec_fields[index].Field == 'specs_id') { %>\r\n            <% continue; %> \r\n          <% } %> */}\r\n\r\n          {specField.map((spec, i)=>{\r\n            if (spec.Field != 'specs_id'){\r\n              return (\r\n                <div key={i} className=\"form-group\">\r\n                  <label htmlFor={spec.Field+'Select'}>{spec.Field}</label>\r\n                  <input type={spec.Type}\r\n                    className=\"form-control\"\r\n                    list={spec.Field}\r\n                    id={spec.Field+'Select'}\r\n                    value={specs[spec.Field]}\r\n                    onChange={(e)=>{\r\n                      let tempo = {...spec};\r\n                      tempo[spec.Field] = e.target.value;\r\n                      setSpecs(tempo);\r\n                    }}\r\n                    name={spec.Field} />\r\n\r\n                  <datalist id={spec.Field}>\r\n                    {specsValue[i].map((v, j)=><option key={j}>{v[spec.Field]}</option>)}\r\n                  </datalist>\r\n                </div>\r\n\r\n              );\r\n            }\r\n            else{\r\n              return (<input type=\"hidden\" id=\"specs\"  name=\"specs\" onChange={(e)=> setSpecsChar(e.target.value)} value={specsChar} />)\r\n            }\r\n          })}\r\n\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"quantity_per_peice\">Quantity Per Peice</label>\r\n          <input step=\"any\" type=\"number\" className=\"form-control\" id=\"quantity_per_peice\" \r\n            placeholder=\"1\" name=\"quantity_per_peice\" value={qPerPc} onChange={(e)=>{setQPerPc(e.target.value)}} />\r\n        </div>\r\n        \r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"brandSelect\">Brand</label>\r\n          <input type=\"text\" className=\"form-control\" list=\"brands\" id=\"brandSelect\" value={brand} name=\"brand_name\" \r\n            onChange={(e)=>{setBrand(e.target.value)}} />\r\n          <datalist id=\"brands\">\r\n            {brandList.map((b, i)=> <option key={i}>{b.brand_name}</option> )}\r\n              \r\n          </datalist>\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"name\">Name</label>\r\n          <input type=\"text\" className=\"form-control\" id=\"name\" placeholder=\"Name\" name=\"name\" value={name}\r\n            onChange={(e)=>{setName(e.target.value)}} />\r\n        </div>\r\n        <input checked={active} type=\"radio\" value={true} id=\"active\" name=\"active\" onChange={(e)=>{setActive(e.target.value === \"true\")}}/>\r\n        <label htmlFor=\"active\" className='mr-3'>Active</label>\r\n        <input checked={!active} type=\"radio\" value={false} id=\"inactive\"  name=\"active\" onChange={(e)=>{setActive(e.target.value === \"true\")}} />\r\n        <label htmlFor=\"inactive\">Inactive</label>\r\n        \r\n        {/* <div className=\"form-group \">\r\n          <label htmlFor=\"image_url\">G Drive Imgae Share Link</label>\r\n          <input type=\"text\" className=\"form-control\" id=\"image_url\" placeholder=\"image_url\" name=\"image_url\" value=\"<%= product.image_url %>\" />\r\n        </div> */}\r\n        \r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"mrp\">MRP</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"mrp\" placeholder=\"1000.00\" name=\"mrp\" value={mrp} \r\n            onChange={(e)=>{setMrp(e.target.value)}} step=\"any\"/>\r\n        </div>\r\n        \r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"cp\">Info</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"cp\" placeholder=\"950.00\" name=\"cp\" value={cp} \r\n            onChange={(e)=>{setCp(e.target.value)}} step=\"any\"/>\r\n        </div>\r\n        \r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"stock\">Stock</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"stock\" placeholder=\"1\" name=\"stock\" value={stock}\r\n          onChange={(e)=>{setStock(e.target.value)}} step=\"any\"/>\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"min_stock\">Enter The Min. Stock</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"min_stock\" placeholder=\"1\" name=\"min_stock\" value={minStock}\r\n            onChange={(e)=>{setMinStock(e.target.value)}} step=\"any\"/>\r\n        </div>\r\n\r\n        <div className=\"form-group \">\r\n          <label htmlFor=\"default_stock\">Enter The Default Stock</label>\r\n          <input type=\"number\" className=\"form-control\" id=\"default_stock\" placeholder=\"950.00\" name=\"default_stock\" value={maxStock}\r\n            onChange={(e)=>{setMaxStock(e.target.value)}} step=\"any\"/>\r\n        </div>\r\n\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"unitSelect\">Unit</label>\r\n          <input type=\"text\" className=\"form-control\" list=\"units\" id=\"unitSelect\" value={unit}\r\n            onChange={(e)=>{setUnit(e.target.value)}} name=\"unit\"  />\r\n          <datalist id=\"units\">\r\n            {unitList.map((u,i)=> <option key={i} value={u}> u </option>)}\r\n          </datalist>\r\n        </div>\r\n\r\n        <input type=\"hidden\" name=\"product_id\" onChange={(e)=> {}} value={id} />\r\n        <input type=\"hidden\" name=\"catagory_specs_id\" onChange={(e)=> {}} value={catSpecId} />\r\n        <input type=\"hidden\" name=\"catagory\" onChange={(e)=> {}} value={cat} />\r\n\r\n        {/* <a href=\"/manage/products/delete/<%= product_id %>/<%= catagory_specs_id %>/<%= catagory %>\" className=\"btn btn-danger btn-sm\">Please Delete</a> */}\r\n\r\n        <button className=\"btn btn-info btn-sm\" type=\"submit\">Apply</button>\r\n      </Form>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport const action = async ({request, params})=>{\r\n  const data = await request.formData();\r\n  const obj = {\r\n    catagory: data.get('catagory'),\r\n    brand_name: data.get('brand_name'),\r\n    name: data.get('name'),\r\n    mrp: data.get('mrp'),\r\n    cp: data.get('cp'),\r\n    unit: data.get('unit'),\r\n    specs: data.get('specs'),\r\n    product_id: data.get('product_id'),\r\n    quantity_per_peice: data.get('quantity_per_peice'),\r\n    active: data.get('active'),\r\n    stock: data.get('stock'),\r\n    min_stock: data.get('min_stock'),\r\n    default_stock: data.get('default_stock'),\r\n    catagory_specs_id: data.get('catagory_specs_id'),\r\n    catagory: data.get('catagory')\r\n  }\r\n  let specFields =  obj.specs.split(\"::\");\r\n  specFields = specFields.slice(1,-1);\r\n  specFields.forEach((d)=>{\r\n    obj[d]=data.get(d);\r\n  })\r\n  let res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/editProduct', {\r\n    method: request.method,\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(obj)\r\n  });\r\n\r\n  res = await res.json();\r\n\r\n  if (res.done == true) {\r\n    alert(\"The Product Has been updated\")\r\n    return redirect(\"/products/\"+obj.product_id)\r\n  } else {\r\n    throw \"Cannot Edit The Products Please Contact Admin. MSG: \"+res.err;\r\n  }\r\n\r\n}","import React, {useReducer} from 'react'\r\nimport { useLoaderData, useNavigate } from 'react-router-dom';\r\nimport classes from \"../../Page Component/Components/Table.module.css\"\r\n\r\nfunction Categories() {\r\n  const {data} = useLoaderData();\r\n  const navigate = useNavigate();\r\n\r\n  return (\r\n    <div class=\"d-flex container\">\r\n      <div id=\"page-content-wrapper\">\r\n        <div class=\"copntainer-fluid\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header\">\r\n            <div className={classes.cardHeader}>\r\n              <div>\r\n                <div>\r\n                  <p className=\"display-4 card-heading\">Catagory</p>\r\n                </div>\r\n                </div>\r\n                <div>\r\n                  <button onClick={()=>{navigate('/productsCatagory/add')}} className='btn btn-dark'>Add Category</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <table class=\"table table-striped table-hover\">\r\n              <thead class=\"thead-dark\">\r\n                <tr>\r\n                  <th scope=\"col\">Name</th>\r\n                  <th scope=\"col\">Belongs To</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {data.map((element)=>{\r\n                    let name=element.name.replace(/_/g, \" \" );\r\n                    name=name.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n                  return(\r\n                    <tr>\r\n                        <th scope=\"row\" onClick={()=>{navigate(`/productsCatagory/${element.name}`)}}>\r\n                          {name}\r\n                        </th>\r\n                        <td>\r\n                          {element.this_catagory_belongs_to}\r\n                        </td>\r\n                    </tr>\r\n                  )\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"card-footer\"></div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const loader = async ()=>{\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/getCategoryList');\r\n  return res;\r\n}\r\n\r\nexport default Categories;","import React from 'react'\r\n\r\nexport default function SpecField(props) {\r\n  return (\r\n    <div id=\"spec-container\">\r\n      <div className=\"row\">\r\n\r\n        <div className=\"form-group col-md-8\">\r\n          <label htmlFor={`spec_${props.n}`}>Spec {props.n}</label>\r\n          <input type=\"text\" className=\"form-control\" id={`spec_${props.n}`} name={`spec_${props.n}`} required />\r\n        </div>\r\n\r\n        <div className=\"form-group col-md-4\">\r\n          <label htmlFor={`spec_${props.n}_default`}>Default</label>\r\n          <input type=\"text\" className=\"form-control\" id={`spec_${props.n}_default`} name={`default_${props.n}`} required />\r\n        </div>\r\n\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n","import React, {useState} from 'react'\r\nimport { Form, useLoaderData, redirect, useNavigate} from 'react-router-dom'\r\nimport SpecField from './SpecField';\r\n\r\nexport default function AddCategory() {\r\n\r\n  const [no_of_specs, setNo_of_specs] = useState(1);\r\n  const [specFields, setSpecFields] = useState([<SpecField n=\"1\" key={1}  />]);\r\n  const {data} = useLoaderData();\r\n  const navigate = useNavigate();\r\n  // console.log(no_of_specs);\r\n  \r\n  const addSpec = ()=>{\r\n    let specs = [...specFields];\r\n    specs.push(<SpecField n={no_of_specs+1} key={no_of_specs+1} />)\r\n    // console.log(specs);\r\n    setSpecFields(specs);\r\n    setNo_of_specs(no_of_specs+1) \r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"add-heading bg-primary\">\r\n        <h3 >Add Category</h3>\r\n      </div>\r\n      {/* {no_of_specs} */}\r\n      <Form method=\"POST\" className=\"needs-validation\" noValidate>\r\n        <input hidden type=\"number\" name='no_of_specs' value={no_of_specs} onChange={(e)=>{}} />\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-8\">\r\n            <label htmlFor=\"catagory_name\">Category Name</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"catagory_name\" name=\"catagory_name\" required />\r\n            <div className=\"invalid-feedback\">\r\n              Category name is required\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group col-md-4\">\r\n            <div className=\"select-items\">\r\n              <label htmlFor=\"belongs_to\">This Category belongs to</label>\r\n              <select className=\"custom-select\" name=\"belongs_to\" id=\"belongs_to\" required>\r\n                <option value=\"null\">null</option>\r\n                {data.map((element,i)=>{\r\n                  let name=element.name.replace(/_/g, \" \" );\r\n                  name= name.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n                  return <option key={i} value={element.name}>{name}</option>\r\n                })}\r\n              </select>\r\n            </div>\r\n          </div>\r\n          \r\n        </div>\r\n\r\n        {specFields}\r\n\r\n        <button type=\"submit\" className=\"btn btn-primary btn-sm add-button\">Add</button>\r\n        <a className=\"btn btn-info btn-sm add-button mr-3 mb-3 text-white\" onClick={()=>{navigate(-1)}} role=\"button\">Cancel</a>\r\n        <a className=\"btn btn-info btn-sm add-button mr-3 mb-3 text-white\" role=\"button\" onClick={addSpec}>Add Specs</a>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const action = async ({request, params})=>{\r\n  const data = await request.formData();\r\n  let n = (data.get('no_of_specs'));\r\n  const obj = {};\r\n  for(let i=1; i<=n;i++){\r\n    obj[`spec_${i}`] = data.get(`spec_${i}`);\r\n    obj[`default_${i}`]= data.get(`default_${i}`);\r\n  }\r\n  obj[\"name\"]=data.get(\"catagory_name\");\r\n  obj[\"belongs_to\"]=data.get(\"belongs_to\");\r\n\r\n  console.log(obj);\r\n  console.log(request.method);\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/catagory/add', {\r\n    method: \"POST\",\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify(obj)\r\n  })\r\n  const ret = await res.json();\r\n  if (ret.done==true || ret.done==='true') {\r\n      return redirect(\"/productsCatagory\");\r\n  } else {\r\n    throw \"Cannot create the product\";\r\n  } \r\n  // return(null);\r\n}\r\n","import React from 'react'\r\nimport {Form, useNavigate, useLoaderData} from 'react-router-dom'\r\nimport SpecField from '../AddCategory/SpecField';\r\n\r\nexport default function Category() {\r\n  const navigate = useNavigate();\r\n  const {category, category_specs} = useLoaderData();\r\n  console.log(category);\r\n  console.log(category_specs);\r\n  let name=category.name.replace(/_/g, \" \" );\r\n  name=name.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});\r\n  const del = async()=>{\r\n    const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/deleteCatagory/'+category.name);\r\n    const ret = await res.json();\r\n    console.log(ret);\r\n    if (ret.done==true || ret.done==='true') {\r\n        navigate(-1);\r\n    } else {\r\n      alert (\"Cannot delete\", ret.msg);\r\n    }\r\n  };\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"add-heading bg-primary\">\r\n        <h3 >Edit {name} Category</h3>\r\n      </div>\r\n      {/* {no_of_specs} */}\r\n      <Form method=\"POST\" className=\"needs-validation\" noValidate>\r\n        <input hidden type=\"number\" name='no_of_specs' value={\"no_of_specs\"} onChange={(e)=>{}} />\r\n        <div className=\"form-row\">\r\n          <div className=\"form-group col-md-8\">\r\n            <label htmlFor=\"catagory_name\">Category Name</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"catagory_name\" value={name} disabled name=\"catagory_name\" required />\r\n            <div className=\"invalid-feedback\">\r\n              Category name is required\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-group col-md-4\">\r\n            <div className=\"select-items\">\r\n              <label htmlFor=\"belongs_to\">This Category belongs to</label>\r\n              <input type=\"text\" className=\"form-control\" id=\"belongs_to\" value={category.this_catagory_belongs_to} disabled name=\"belongs_to\" required />\r\n            </div>\r\n          </div>       \r\n        </div>\r\n\r\n\r\n        {category_specs.map((spec,i)=>{\r\n          i+=1;\r\n          if (spec.Field != \"specs_id\") {\r\n            \r\n            return(\r\n              <div id=\"spec-container\" key={i}>\r\n                <div className=\"row\">\r\n\r\n                  <div className=\"form-group col-md-8\">\r\n                    <label htmlFor={`spec_${i}`}>Spec {i}</label>\r\n                    <input type=\"text\" className=\"form-control\" id={`spec_${i}`} value={spec.Field} onChange={()=>{}} disabled name={`spec_${i}`} required />\r\n                  </div>\r\n\r\n                  <div className=\"form-group col-md-4\">\r\n                    <label htmlFor={`spec_${i}_default`}>Default</label>\r\n                    <input type=\"text\" className=\"form-control\" id={`spec_${i}_default`} value={spec.Default} onChange={()=>{}} disabled name={`default_${i}`} required />\r\n                  </div>\r\n\r\n                </div>\r\n                \r\n              </div>\r\n            )\r\n          }\r\n        })}\r\n\r\n\r\n        {/* <SpecField  /> */}\r\n\r\n        <a class=\"btn btn-danger btn-sm add-button mr-3 mb-3 text-white\" role=\"button\" onClick={del} >Delete</a>\r\n      </Form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const loader = async ({request, params})=>{\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/editCatagory/'+params.name);\r\n  return res;\r\n}\r\n","import React, {useEffect, useState, useReducer} from 'react'\r\nimport Table from '../Components/Table';\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction Distributors() {\r\n\r\n  const navigate = useNavigate();\r\n  const [formData, setFormData] = useState(\"\");\r\n  const initialState = {\r\n    pageNo: 0,\r\n    distributorsList: [],\r\n    noOfPages:0,\r\n    allDistributorsList:[]\r\n  }\r\n\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n     \r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n        \r\n      case 'UPDATE_DISTRIBUTORS_LIST':\r\n        return{\r\n          ...state,\r\n          distributorsList:action.value.distributorsList,\r\n          noOfPages: action.value.noOfPages,\r\n        };\r\n      \r\n        case 'UPDATE_ALL_DISTRIBUTORS_LIST':\r\n        return{\r\n          ...state,\r\n          allDistributorsList:action.allDistributorsList\r\n        };\r\n\r\n      default:\r\n        return state\r\n      \r\n    }\r\n\r\n  }\r\n\r\n\r\n  const [{pageNo, distributorsList, noOfPages,allDistributorsList}, dispatch] = useReducer(reducer, initialState);\r\n  // console.log(clientsList); \r\n  // console.log(distributorsList);\r\n  // console.log(allDistributorsList);\r\n\r\n  useEffect(()=>{\r\n    const getAllClientsList = ()=>{\r\n      fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/getAllDistributorsList')\r\n      .then(res=>res.json())\r\n      .then((data =>{\r\n        // console.log(data);\r\n        dispatch({type:\"UPDATE_ALL_DISTRIBUTORS_LIST\",allDistributorsList:data.allDistributorsList})\r\n      }))\r\n    };\r\n\r\n    getAllClientsList();\r\n\r\n  },[])\r\n  \r\n  useEffect(() => {\r\n    const fetchData = async()=>{\r\n      const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getDistributorsList?\"+new URLSearchParams ({pageNo}));\r\n      const data = await res.json();\r\n      // console.log(data);\r\n      dispatch({type:'UPDATE_DISTRIBUTORS_LIST', value: {distributorsList:data.distributorsList, noOfPages: data.noOfPages}});\r\n    }\r\n    try{\r\n      fetchData();\r\n    }catch(e) {\r\n      alert(\"unable to connet to server\");\r\n    }\r\n  }, [pageNo,dispatch]);\r\n\r\n  const formSubmitHandler = (e)=>{\r\n    e.preventDefault();\r\n    var data = formData.split(' ')[0]\r\n    if(typeof(Number(data)) == 'number'){\r\n      navigate('/distributors/transaction/'+data);\r\n    }else{\r\n      alert(\"Invalid Id\")\r\n    }\r\n  }\r\n\r\n  // const navigateToAddClient = (e)=>{\r\n  //   e.preventDefault();\r\n  //   navigate('/clients/add-client');\r\n  // }\r\n\r\n  \r\n  const addClientBtnHandler = ()=>{\r\n    navigate(\"/distributors/add\");\r\n  }\r\n\r\n  const headerItems = (\r\n    <div className=\"d-flex justify-content-end\">\r\n      <form onSubmit={formSubmitHandler} className=\"form-inline\" id=\"cForm\">\r\n        <input type=\"text\" className=\"form-control mr-2\" list=\"dist_list\" \r\n          id=\"select_dist\" name=\"dist\"\r\n          value={formData}\r\n          onChange={e=>{setFormData(e.target.value)}}\r\n          autoFocus={true} />\r\n        <button className=\"btn btn-outline-dark btn-sm\">Search</button>\r\n      </form>\r\n      <form className=\"form-inline\">\r\n        <button onClick={addClientBtnHandler} type='button' className=\"btn btn-dark btn-sm ml-2\">Add Distributors</button>\r\n      </form>\r\n      <datalist dir=\"rtl\" id=\"dist_list\">\r\n        {allDistributorsList.map((dist=>{\r\n          var c=dist.name.replace(/_/g, \" \" );\r\n          return(\r\n            <option key={dist.distributor_id}>{dist.distributor_id} {\" : \"} {c.replace(/\\w\\S*/g, function(txt){return txt.charAt(0).toUpperCase() +\r\n              txt.substr(1).toLowerCase();})}</option>\r\n              )\r\n            }))}\r\n      </datalist>\r\n    </div>\r\n  );\r\n\r\n\r\n  return (\r\n    <div className=\"d-flex\" id=\"wrapper\">\r\n      <Table \r\n            title=\"Distributors List\"\r\n            rowURL=\"/distributors/transaction/\"\r\n            headerItems={headerItems}\r\n            thData={[\"ID\",\"Name\",\"Address\",\"District\",\"State\", \"Postal Code\"]}\r\n            trData={distributorsList}\r\n            dispatch={dispatch}\r\n            pageNo={pageNo}\r\n            noOfPages={noOfPages}\r\n          />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Distributors;","import React, {useReducer, useEffect, useState} from 'react';\r\nimport { Form } from 'react-router-dom';\r\nimport Input from \"../Purchase/Component/Input\";\r\n\r\nfunction DistributorsForm(props) {\r\n\r\n  const initialState = {\r\n    l1:\"\", l2:\"\", city:\"\", zip:\"\", state:\"\", name:\"\", id:\"\", country:\"\",\r\n    inputDisabled:false, mode:'add'\r\n  }\r\n\r\n  const reducer = (s, action) =>{\r\n    switch (action.type) {\r\n      case 'l1':\r\n        return{...s, l1:action.value};\r\n      case 'l2':\r\n        return{...s, l2:action.value}\r\n      case 'city':\r\n        return{...s, city:action.value}\r\n      case 'zip':\r\n        return{...s, zip:action.value}\r\n      case 'state':\r\n        return{...s, state:action.value}\r\n      case 'name':\r\n        return{...s, name:action.value}\r\n      case 'id':\r\n        return{...s, id:action.value}\r\n      case 'country':\r\n        return{...s, country:action.value}\r\n      case 'inputDisabled':\r\n        return{...s, inputDisabled:action.value}\r\n      case 'mode':\r\n        return{...s, mode:action.value}\r\n      case 'edit':\r\n        return{...s, mode:\"edit\", inputDisabled:false}\r\n      case 'read':\r\n        return{...s, mode:\"read\", inputDisabled:true}\r\n      case 'all':\r\n        return {\r\n          ...s,\r\n          l1:action.value.l1,\r\n          l2:action.value.l2,\r\n          city:action.value.city,\r\n          zip:action.value.zip,\r\n          state:action.value.state,\r\n          name:action.value.name,\r\n          id:action.value.id, \r\n          country:action.value.country, \r\n          mode:\"read\",\r\n          inputDisabled:true\r\n        }\r\n\r\n    \r\n      default:\r\n        return s;\r\n    }\r\n  }\r\n  const [{l1, l2, city, zip, state, name, id, country, mode, inputDisabled}, dispatch] = useReducer(reducer, initialState)\r\n  useEffect(() => {  \r\n    if (props.data) {\r\n      dispatch({type:\"all\", value:props.data})\r\n    }\r\n  }, [])\r\n  \r\n  let buttonText = \"Add Distributors\";\r\n  if (mode==='read') {\r\n    buttonText=\"Edit\";\r\n  }\r\n  buttonText = mode==='read' ? \"Edit\" : \"Save\"\r\n\r\n  const formSubmitHandler = (e) =>{\r\n    if(mode=='read'){\r\n      e.preventDefault();\r\n      dispatch({type:'edit'});\r\n      return\r\n    }\r\n    if(mode=='edit'){\r\n      \r\n      return\r\n    }\r\n  }\r\n\r\n  const cancelHandler = (e)=>{\r\n    if (props.data) {\r\n      dispatch({type:\"all\", value:props.data})\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <div className='card'>\r\n      <div className='card-header'>\r\n        <p className='display-4 card-heading'>{props.title}</p>\r\n      </div>\r\n      <div className='m-3'>\r\n        <Form\r\n          action=\"/clients/add-client\"\r\n          method={props.method ? props.method : \"POST\"}\r\n        >\r\n          <div className=\"\">\r\n            <div className=\"form-group\">\r\n              <Input\r\n                onChange={(e)=>{dispatch({type:\"name\", value:e.target.value})}}\r\n                disabled={inputDisabled}\r\n                id={\"inputName\"}\r\n                label={\"Distributors Name\"}\r\n                type={\"text\"}\r\n                name={\"name\"}\r\n                value={name} \r\n                // value={\"asdfasdf\"}\r\n                placeholder=\"Sentury\"\r\n                msg={\"Make sure to input full name.\"}\r\n                required={true}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"address\">\r\n            <div id=\"address-section\">\r\n              <div className=\"form-group\">\r\n                <Input\r\n                  label=\"Address Line 1\"\r\n                  disabled={inputDisabled}\r\n                  type=\"text\"\r\n                  value={l1}\r\n                  onChange={(e)=>{dispatch({type:\"l1\", value:e.target.value})}}\r\n                  id=\"inputAddress\"\r\n                  // value=\"Enter customer address\"\r\n                  placeholder=\"Enter customer address\"\r\n                  name=\"address_line_1\"\r\n                  required={true}\r\n                // error={add1Error}\r\n                />\r\n\r\n\r\n                {/* <label htmlFor=\"inputAddress\">Address</label>\r\n            <input\r\n            value={add1}\r\n            onChange={e => setAdd1(e.target.value)}\r\n            type=\"text\"\r\n            className=\"form-control d-inp\"\r\n            id=\"inputAddress\"\r\n            placeholder=\"1234 Main St\"\r\n            name=\"address_line_1\"\r\n            required\r\n            />\r\n          <div className=\"invalid-feedback\">This Field is required</div> */}\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <Input\r\n                  label=\"Address Line 2\"\r\n                  disabled={inputDisabled}\r\n                  type=\"text\"\r\n                  value={l2}\r\n                  onChange={(e)=>{dispatch({type:\"l2\", value:e.target.value})}}\r\n                  // onChange={e => setAdd2(e.target.value)}\r\n                  id=\"inputAddress2\"\r\n                  // value=\"Enter customer address line 2\"\r\n                  placeholder=\"Enter customer address line 2\"\r\n                  name=\"address_line_2\"\r\n                />\r\n                {/* <label htmlFor=\"inputAddress2\">Address 2</label>\r\n            <input\r\n              value={add2}\r\n              onChange={e => setAdd2(e.target.value)}\r\n              type=\"text\"\r\n              className=\"form-control d-inp\"\r\n              id=\"inputAddress2\"\r\n              placeholder=\"Apartment, studio, or floor\"\r\n              name=\"address_line_2\"\r\n            /> */}\r\n              </div>\r\n              <div className=\"form-row\">\r\n                <div className=\"form-group col-md-4\">\r\n                  <Input\r\n                    label=\"City\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={city}\r\n                    onChange={(e)=>{dispatch({type:\"city\", value:e.target.value})}}\r\n                    // onChange={e => {setCity(e.target.value);setCityError(\"\")}}\r\n                    id=\"inputCity\"\r\n                    // value=\"city\"\r\n                    placeholder=\"Enter customer city\"\r\n                    name=\"city_or_district\"\r\n                    required={true}\r\n                  // error={cityError}\r\n                  />\r\n\r\n                  {/* <label htmlFor=\"inputCity\">City or District</label>\r\n              <input\r\n                value={city}\r\n                onChange={e => setCity(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputCity\"\r\n                name=\"city_or_district\"\r\n                required\r\n              /> \r\n              <div className=\"invalid-feedback\">This field is required</div>*/}\r\n                </div>\r\n                <div className=\"form-group col-md-4\">\r\n                  <Input\r\n                    label=\"State\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={state}\r\n                    onChange={(e)=>{dispatch({type:\"state\", value:e.target.value})}}\r\n                    // onChange={e => {setState(e.target.value);setStateError(\"\")}}\r\n                    id=\"inputState\"\r\n                    // value=\"state\"\r\n                    placeholder=\"Enter customer state\"\r\n                    name=\"state\"\r\n                    required={true}\r\n                  // error={stateError}\r\n                  />\r\n\r\n\r\n                  {/* <label htmlFor=\"inputState\">State</label>\r\n              <input\r\n                value={state}\r\n                onChange={e => setState(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputState\"\r\n                name=\"state\"\r\n                required\r\n              /> \r\n              <div className=\"invalid-feedback\">State is required</div>*/}\r\n                </div>\r\n                <div className=\"form-group col-md-2\">\r\n\r\n                  <Input\r\n                    label=\"Country\"\r\n                    disabled={inputDisabled}\r\n                    type=\"text\"\r\n                    value={country}\r\n                    onChange={(e)=>{dispatch({type:\"country\", value:e.target.value})}}\r\n                    // onChange={e => {setCountry(e.target.value);setCountryError(\"\")}}\r\n                    id=\"inputCountry\"\r\n                    // value=\"country\"\r\n                    placeholder=\"Enter customer country\"\r\n                    name=\"country\"\r\n                    required={true}\r\n                  // error={countryError}\r\n                  />\r\n\r\n                  {/* <label htmlFor=\"inputCountry\">Country</label>\r\n              <input\r\n                value={country}\r\n                onChange={e => setCountry(e.target.value)}\r\n                type=\"text\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputCountry\"\r\n                name=\"country\"\r\n                required\r\n              />\r\n              <div className=\"invalid-feedback\">Country is required</div> */}\r\n                </div>\r\n                <div className=\"form-group col-md-2\">\r\n\r\n                  <Input\r\n                    label=\"Zip\"\r\n                    disabled={inputDisabled}\r\n                    type=\"number\"\r\n                    value={zip}\r\n                    onChange={(e)=>{dispatch({type:\"zip\", value:e.target.value})}}\r\n                    // onChange={e => {setZip(e.target.value);setZipError(\"\")}}\r\n                    id=\"inputZip\"\r\n                    // value=\"121321\"\r\n                    placeholder=\"Enter customer zip\"\r\n                    name=\"postal_code\"\r\n                    required={true}\r\n                  // error={zipError}\r\n                  />\r\n                  <input onChange={(e)=>{}} hidden={true} name=\"id\" value={id ===\"\" || id===null ? \"\" : id} />\r\n\r\n                  {/* <label htmlFor=\"inputZip\">Zip</label>\r\n              <input\r\n                value={zip}\r\n                onChange={e => setZip(e.target.value)}\r\n                type=\"number\"\r\n                className=\"form-control d-inp\"\r\n                id=\"inputZip\"\r\n                name=\"postal_code\"\r\n                required\r\n              />\r\n              <div className=\"invalid-feedback zip-feedback\">\r\n                There has to be a number\r\n              </div> */}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <button onClick={cancelHandler} hidden={props.data && mode ==='edit'? false: true} className='add-button ml-5 btn btn-dark' type=\"reset\">Cancel</button>\r\n          <button\r\n            type='submit'\r\n            className={`btn btn-outline-danger add-button submitButton`}\r\n            onClick={formSubmitHandler}\r\n            >\r\n            {buttonText}\r\n          </button>\r\n        </Form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DistributorsForm","import React from 'react'\r\nimport DistributorsForm from './DistributorsForm'\r\n\r\nexport default function AddDistributors() {\r\n  return (\r\n    <div className='container' style={{ marginTop: \"40px\" }}>\r\n      <DistributorsForm title=\"Add Distributors\" />\r\n    </div>\r\n  )\r\n}\r\n","import React, {useReducer, useEffect} from \"react\";\r\nimport { useParams} from \"react-router-dom\";\r\nimport Table from \"../Components/Table\";\r\n// import ClientDetails from \"./ClientDetails\";\r\nimport {useLoaderData} from 'react-router-dom'\r\n\r\n\r\n\r\nconst DistributorsHistory = ()=>{\r\n  const {id} = useParams();\r\n  const initialState = {\r\n    pageNo: 0,\r\n    list: [],\r\n    noOfPages:0,\r\n    name:\"\",\r\n    showDetails:false,\r\n  };\r\n\r\n  const reducer = (state, action)=>{\r\n    switch(action.type){\r\n      \r\n      case 'UPDATE_PAGENO':\r\n        if(action.value <= state.noOfPages && action.value >= 1){\r\n          return{...state, pageNo: (Number(action.value) - 1)};\r\n        }else{\r\n          return{...state};\r\n        } \r\n      case 'INCREMENT_PAGENO':\r\n        return{...state, pageNo: ++state.pageNo};\r\n      case 'DECREMENT_PAGENO':\r\n        return{...state, pageNo:--state.pageNo};\r\n        \r\n      case 'UPDATE_LIST':\r\n        return{...state, list:action.value.list, noOfPages: action.value.noOfPages, name: action.value.name, details:action.value.details};\r\n      \r\n      case 'TOGGLE_SHOW_DETAILS':\r\n        return{...state, showDetails: !state.showDetails}\r\n\r\n      default:\r\n        return state\r\n      \r\n    }\r\n\r\n  };\r\n\r\n\r\n  const [{pageNo, list, noOfPages, name, showDetails}, dispatch] = useReducer(reducer, initialState);\r\n  // console.log(list); \r\n\r\n  useEffect(() => {\r\n    const fetchData = async()=>{\r\n      const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getAllDistributorsHistory?\"+new URLSearchParams ({pageNo,id}));\r\n      const data = await res.json();\r\n      // console.log(data.details);\r\n      dispatch({type:'UPDATE_LIST', value: {list:data.list, noOfPages: data.noOfPages,name: data.name, details:data.details}});\r\n    }\r\n    try{\r\n      fetchData();\r\n    }catch(e) {\r\n      alert(\"unable to connet to server\");\r\n    }\r\n  }, [pageNo,dispatch,id]);\r\n\r\n  const details = useLoaderData().data;\r\n\r\n  const detailsButton = <button onClick={()=>{dispatch({type:'TOGGLE_SHOW_DETAILS'})}} className=\"btn btn-dark btn-ms\">{!showDetails ? \"Show Details\" : \"Hide Details\"}</button>;\r\n\r\n  // const clientDetails =<ClientDetails title='Details' data={details}/> \r\n\r\n\r\n  return(\r\n    <div className=\"container\" style={{paddingBottom:\"50px\"}}>\r\n      <div style={{display:\"block\"}}>\r\n        <Table \r\n          title={`${ (name === \"\" || name === null)? \"Customer Not Found\": (name+ 's Transactions') }`}\r\n          headerItems={detailsButton}\r\n          // filterItems={showDetails && clientDetails}\r\n          rowURL=\"/\"\r\n          thData={[\"Sales or Paymet\",\"Date\",\"Debit\",\"Credit\"]}\r\n          trData={list}\r\n          dispatch={dispatch}\r\n          pageNo={pageNo}\r\n          noOfPages={noOfPages}\r\n        />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DistributorsHistory;\r\n\r\nexport const loader = async({params})=>{\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/getDistributorsDetails?\"+new URLSearchParams ({id:params.id}));\r\n  return res;\r\n}","import React from \"react\";\r\nimport { Form, redirect, Link, useNavigate, useLoaderData } from \"react-router-dom\";\r\n\r\nfunction Login() {\r\n  const navigate = useNavigate();\r\n  return (\r\n    <div className=\"d-flex\" id=\"wrapper\">\r\n      {/* <% if (messages.error) { %>\r\n      <%= messages.error %>\r\n        <% } %> */}\r\n      <div className=\"container\">\r\n        {/* <% if (null> 0) { %>\r\n              <div className=\"alert alert-warning alert-dismissible\r\n               fade in\" role=\"alert\">\r\n                <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n                <strong>Ohps!</strong>\r\n                <%= message %>.\r\n              </div>\r\n              <% } %> */}\r\n        <div className=\"login-form\">\r\n          <Form className=\"form-signin\" method=\"post\">\r\n            <h2 className=\"form-signin-heading\">Wellcome Back!</h2>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n              <input\r\n                type=\"email\"\r\n                name=\"email\"\r\n                className=\"form-control\"\r\n                id=\"exampleInputEmail1\"\r\n                aria-describedby=\"emailHelp\"\r\n                autoFocus\r\n              />\r\n              <small id=\"emailHelp\" className=\"form-text text-muted\">\r\n                We'll never share your email with anyone else.\r\n              </small>\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                className=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n              />\r\n            </div>\r\n            <button className=\"btn btn-lg btn-danger btn-block\" type=\"submit\">\r\n              Sign in\r\n            </button>\r\n            <br />\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport const loader = async ()=>{\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+'/loginReact', {\r\n    credentials: \"include\",\r\n  });\r\n  const ret = await res.json();\r\n  // console.log(ret);\r\n  if (ret.authenticated) {\r\n    return redirect('/')\r\n  }else{\r\n    return null;\r\n  }\r\n}\r\n\r\n\r\nexport const action = async ({ request, params }) => {\r\n  // console.log(\"Logging in...\");\r\n  const data = await request.formData();\r\n  const obj = {\r\n    password: data.get(\"password\"),\r\n    email: data.get(\"email\"),\r\n  };\r\n  // console.log(obj);\r\n  // console.log(request.method);\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/loginReact\", {\r\n    method: request.method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(obj),\r\n    credentials: \"include\",\r\n  });\r\n  const ret = await res.json();\r\n  // console.log(ret);\r\n  if(ret.success){\r\n    localStorage.setItem('token', ret.token);\r\n    const expiration = new Date();\r\n    expiration.setHours(expiration.getHours() + 24);\r\n    localStorage.setItem('expiration', expiration.toISOString());\r\n    return redirect('/')\r\n  }else{\r\n    alert(ret.msg)\r\n    return ret;\r\n  }\r\n  \r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport { Form, redirect, Link } from \"react-router-dom\";\r\n\r\nfunction SignUp() {\r\n  // var actionData = useActionData();\r\n//   console.log(actionData);\r\n  return (\r\n    <div className=\"d-flex\" id=\"wrapper\">\r\n      <div className=\"container\">\r\n        {/* <% if (null> 0) { %>\r\n                <div className=\"alert alert-warning alert-dismissible\r\n               fade in\" role=\"alert\">\r\n                    <button type=\"button\" className=\"close\" data-dismiss=\"alert\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                    </button>\r\n                    <strong>Ohps!</strong>\r\n                    <%= message %>.\r\n                </div>\r\n                <% } %> */}\r\n        {/* {(actionData.success===false) && <p>Email ID already present!</p>} */}\r\n        <div className=\"login-form\">\r\n          <Form className=\"form-signin\" method=\"post\">\r\n            <h2 className=\"form-signin-heading\">Wellcome To Royal Plywood</h2>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"name\">Name</label>\r\n              <input\r\n                type=\"text\"\r\n                className=\"form-control\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"exampleInputEmail1\">Email address</label>\r\n              <input\r\n                type=\"email\"\r\n                className=\"form-control\"\r\n                id=\"exampleInputEmail1\"\r\n                name=\"email\"\r\n                aria-describedby=\"emailHelp\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"exampleInputPassword1\">Password</label>\r\n              <input\r\n                type=\"password\"\r\n                name=\"pwd\"\r\n                className=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n              />\r\n            </div>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"position\">Select Position</label>\r\n              <select name=\"position\" className=\"form-control\" id=\"position\">\r\n                <option value='sales'>Sales</option>\r\n                <option value='manager'>Manager</option>\r\n              </select>\r\n            </div>\r\n            <button className=\"btn btn-lg btn-primary btn-block\" type=\"submit\">\r\n              Sign in\r\n            </button>\r\n            <br />\r\n            <p>\r\n              Already a member? <Link to=\"/login\">Login</Link>\r\n              , it's free.\r\n            </p>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport const action = async ({ request, params }) => {\r\n  console.log(\"singingUp\");\r\n  const data = await request.formData();\r\n  const obj = {\r\n    name: data.get(\"name\"),\r\n    pwd: data.get(\"pwd\"),\r\n    email: data.get(\"email\"),\r\n    position: data.get(\"position\")\r\n  };\r\n  console.log(obj);\r\n  console.log(request.method);\r\n  const res = await fetch(http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com+\"/signUpReact\", {\r\n    method: request.method,\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(obj),\r\n  });\r\n  const ret = await res.json();\r\n  console.log(ret);\r\n  if(ret.success){\r\n    return redirect('/login')\r\n  }else{\r\n    alert(\"Email already already present!\")\r\n    return ret;\r\n  }\r\n  \r\n};\r\n\r\nexport default SignUp;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction ErrorSection(props) {\r\n\r\n  const url = (props.status === 401)? \"/login\" : \"/\";\r\n  const btnText = (props.status === 401)? \"Login\" : \"Home\";\r\n\r\n  return (\r\n    <section className=\"page_404\">\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-12 \">\r\n            <div className=\"col-sm-10 col-sm-offset-1  text-center\">\r\n              <div className=\"four_zero_four_bg\">\r\n                <h1 className=\"text-center \">{props.status}</h1>\r\n              </div>\r\n\r\n              <div className=\"contant_box_404\">\r\n                <h3 className=\"h2\">{props.header}</h3>\r\n\r\n                <p>{props.msg}</p>\r\n\r\n                <Link to={url} className=\"link_404\">\r\n                  {btnText}\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default ErrorSection;\r\n","import React from 'react'\r\nimport {useRouteError} from 'react-router-dom';\r\nimport ErrorSection from './ErrorSection/ErrorSection';\r\n\r\nexport default function ErrorPage() {\r\n  const error = useRouteError();\r\n\r\n  // console.log('from error page');\r\n  // console.log(error);  \r\n  // console.log('from error page');\r\n  let header = 'An error occured!'\r\n  let msg = 'Something went wrong!'\r\n  let status = '404'\r\n\r\n  if(error.header){\r\n    header = error.header\r\n    msg = error.msg\r\n    status = error.msg\r\n\r\n  }else if(error.status){\r\n    status = error.status;\r\n    header = error.statusText;\r\n    msg = \"\";\r\n  }else{\r\n    status = '404'\r\n    header = 'Page Not Found!'\r\n    // msg = error.data\r\n  }\r\n\r\n  return (\r\n    <ErrorSection header={header} msg={msg} status={status} />\r\n  )\r\n}\r\n","import { redirect } from 'react-router-dom';\r\n\r\nexport function action() {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('expiration');\r\n  return redirect('/login');\r\n}","import React from 'react';\nimport NavBar from './Components/NavBar';\nimport Cart from './Page Component/Purchase/Cart';\nimport CheckoutForSales from './Page Component/Purchase/CheckoutForSales';\nimport { RouterProvider, createBrowserRouter } from 'react-router-dom'\nimport Bill from './Page Component/Purchase/Bill/Bill';\nimport Sale from './Page Component/Sales/Sale/Sale';\nimport Clients from './Page Component/Clients/Clients';\nimport ClientHistory, {loader as clientsHistoryLoader} from './Page Component/Clients/CientsHistory';\nimport Products, {action as productAction} from './Page Component/Products/Products';\nimport AddClients,{ action as addClientAction, loader as addClientLoader} from \"./Page Component/Clients/AddClients\"\nimport AddProducts from './Page Component/Products/AddProducts';\nimport EditProduct, { action as editProductAction } from './Page Component/Products/EditProduct';\nimport Categories, {loader as categoriesLoader} from './Page Component/ProductCategory/Categories';\nimport AddCategory,{action as addCategoryAction} from './Page Component/ProductCategory/AddCategory/AddCategory';\nimport Category,{loader as categoryLoader} from './Page Component/ProductCategory/Category/Category';\nimport Distributors from './Page Component/Distributors/Distributors';\nimport AddDistributors from './Page Component/Distributors/AddDistributors';\nimport DistributorsHistory, {loader as distributorsHistoryLoader } from './Page Component/Distributors/DistributorsHistory';\nimport Login, {action as logInAction, loader as logInLoader} from './Page Component/Auth/Login';\nimport SignUp, {action as signUpAction} from './Page Component/Auth/SignUp';\nimport ErrorPage from './Page Component/ErrorPages/ErrorPage';\nimport { tokenLoader as rootLoader } from './Util/auth';\nimport { action as logoutAction} from './Page Component/Auth/Logout'\n\nfunction App() {\n  const router = createBrowserRouter([\n    { \n      path:\"/\",\n      element:(<NavBar />),\n      errorElement:<ErrorPage />,\n      loader:rootLoader,\n      children:[\n        {index: true,element:<Cart />},\n        {path:\"/sellCheckout\", element:<CheckoutForSales />},\n        {path:'/sales', element:<Sale />},\n        {path:'/sales/bill/:id', element:<Bill />},\n        {path:'/clients', element:<Clients />},\n        // {path:'/clients/details/:id', element:<Clients />},\n        {path:'/clients/transaction/:id', loader: clientsHistoryLoader,element:<ClientHistory />},\n        {path:'/clients/add-client', action: addClientAction, element:<AddClients />},\n        {path:'/products', element:<Products />},\n        {path:'/products/:id', action: editProductAction, element:<EditProduct />},\n        {path:'/products/addProducts', action: productAction, element:<AddProducts />},\n        {path:'/productsCatagory', loader:categoriesLoader, element:<Categories />},\n        {path:'/productsCatagory/add', loader:categoriesLoader, action:addCategoryAction, element:<AddCategory />},\n        {path:'/productsCatagory/:name', loader:categoryLoader, element:<Category />},\n        {path:'/distributors', element:<Distributors />},\n        {path:'/distributors/add', element:<AddDistributors />},\n        {path:'/distributors/transaction/:id', loader:distributorsHistoryLoader, element:<DistributorsHistory />},\n        {path:'/signUp', action:signUpAction, element:<SignUp />},\n      ]\n    },\n    {path:'/login', loader:logInLoader, action:logInAction, element:<Login />},\n    {path: 'logout',action: logoutAction},\n  ])\n\n  \n\n  return (\n    <>\n      <RouterProvider router={router} />\n    </>\n  );\n}\n\nexport default App;\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport cartReducer from './cartSlice';\r\nimport authReducer from './authSlice'\r\n\r\nconst store = configureStore({\r\n  reducer:{\r\n    cart: cartReducer,\r\n    auth: authReducer\r\n  }\r\n});\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux'\n\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.min';\n\nimport './index.css';\nimport App from './App';\nimport store from './Store/index';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n, document.getElementById('root'));"],"sourceRoot":""}