(this["webpackJsonpreact-the-complete-guide"]=this["webpackJsonpreact-the-complete-guide"]||[]).push([[0],{38:function(e,t,a){e.exports={cardHeader:"Table_cardHeader__sr_W9"}},59:function(e,t,a){e.exports={parent:"bill_parent__h3uTZ"}},60:function(e,t,a){e.exports={filterItem:"Products_filterItem__2etRJ"}},73:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(31),s=a.n(n),r=a(14),i=(a(70),a(71),a(73),a(4)),l=a(7),o=a(6),d=a(8),u=a(22),j=Object(u.b)({name:"auth",initialState:{authenticated:!1,user:{}},reducers:{login:function(e,t){e.authenticated=t.payload.authenticated,e.user=t.payload.user},logout:function(e,t){e.authenticated=!1,e.user={}}}}),b=j.reducer,m=j.actions,p=m.login,h=m.logout,O=a(5);function x(){var e=localStorage.getItem("expiration"),t=new Date(e),a=new Date;return t.getTime()-a.getTime()}function f(){var e=localStorage.getItem("token");return e?x()<0?null:e:null}function g(){return v.apply(this,arguments)}function v(){return v=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==(t=f())){e.next=5;break}return e.abrupt("return",Object(O.p)("/login"));case 5:return e.next=7,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getUserData",{headers:{Authorization:"Bearer "+t}}).then(function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("OK"==t.statusText){e.next=2;break}throw t;case 2:return e.next=4,t.json();case 4:a=e.sent;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){throw{msg:"No network connection"}}));case 7:return e.abrupt("return",{token:t,userData:a});case 8:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var N=a(0);var y=function(e){var t=Object(r.c)((function(e){return{cart:e.cart,auth:e.auth}})),a=(t.cart,t.auth),n=Object(r.b)(),s=(Object(o.n)(),Object(o.k)()),u=s.token,j=s.userData,b=Object(d.d)();Object(c.useEffect)(Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(p(j)),t=x(),setTimeout((function(){b(null,{action:"/logout",method:"post"})}),t);case 3:case"end":return e.stop()}}),e)}))),[u,b]);var m=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(h()),b(null,{action:"/logout",method:"post"});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=null;return a.authenticated&&(O="manager"==a.user.position&&Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"managerDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Manager"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"managerDropdown",children:[Object(N.jsx)(d.b,{to:"/clients",className:"dropdown-item",children:"Clients"}),Object(N.jsx)(d.b,{to:"/sales",className:"dropdown-item",children:"Sales Account"}),Object(N.jsx)(d.b,{to:"/products",className:"dropdown-item",children:"Products"}),Object(N.jsx)(d.b,{to:"/productsCatagory",className:"dropdown-item",children:"Catagories"}),Object(N.jsx)("a",{href:"/accounts",className:"dropdown-item",children:"Cash Account"}),Object(N.jsx)(d.b,{to:"/distributors",className:"dropdown-item",children:"Distributors"}),Object(N.jsx)(d.b,{to:"/purchase-account",className:"dropdown-item",children:"Purchase Account"}),Object(N.jsx)(d.b,{to:"/signUp",className:"dropdown-item",children:"Add Member"})]})]})),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark",children:[Object(N.jsx)(d.b,{to:"/",children:Object(N.jsx)("img",{src:"/Images/logo.jpg",height:"40px",alt:"cannot load"})}),Object(N.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{className:"navbar-toggler-icon"})}),Object(N.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(N.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(N.jsx)("div",{style:{width:"20px"}}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center",children:Object(N.jsx)("a",{className:"nav-link text-light",href:"/products/plywood",children:"Plywood"})}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center",children:Object(N.jsx)("a",{className:"nav-link text-light",href:"/products/block_board",children:"Block Board"})}),Object(N.jsx)("li",{className:" d-inline-flex align-items-center",children:Object(N.jsx)("a",{className:"nav-link text-light",href:"/products/flush_door",children:"Flush Door"})}),Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"hardware_dropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Hardware"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"hardware_dropdown",children:[Object(N.jsx)("a",{className:"dropdown-item",href:"/products/door_lock",children:"Door Lock"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/l_hinges",children:"L-Hinges"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/cupboard_lock",children:"Cupboard Lock"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/kitchen_basket",children:"Kitchen Basket"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/door_handle",children:"Door Handle"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/cupboard_handle",children:"Cupboard Handle"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/auto_hinges",children:"Auto Hinges"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/telescopic_channel",children:"Telescopic Channel"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/tower_bolt",children:"Tower Bolt"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/door_stopper",children:"Door Stopper"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/magnet",children:"Magnet"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/curtain_socket",children:"Curtain Socket"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/mortice_lock",children:"Mortice Lock"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/aldrop",children:"Aldrop"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/adhesive",children:"Adhesive"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/hinges",children:"Hinges"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/masking_tape",children:"Masking Tape"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/screw",children:"Screw"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/bed_fitting",children:"Bed Fitting"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/hydrolic_pump",children:"Pump"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/khuti",children:"Khuti"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/shelve_bottom",children:"L-Button"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/table_bracket",children:"Table Bracket"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/wheel",children:"Wheel"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/other_hardware_items",children:"Other Hardware Item"})]})]}),Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"OtherDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Others"}),Object(N.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"OtherDropdown",children:[Object(N.jsx)("a",{className:"dropdown-item",href:"/products/laminates",children:"Laminates"}),Object(N.jsx)("a",{className:"dropdown-item",href:"/products/bit",children:"Bit"})]})]}),Object(N.jsx)("li",{className:"nav-item d-inline-flex align-items-center"}),O,Object(N.jsxs)("li",{className:"nav-item d-inline-flex align-items-center dropdown",children:[Object(N.jsx)("a",{className:"nav-link dropdown-toggle text-light",href:"#",id:"dueDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:"Due Payment"}),Object(N.jsx)("div",{className:"dropdown-menu","aria-labelledby":"dueDropdown"})]}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsxs)("div",{className:"input-group mb-3",children:[Object(N.jsx)("div",{className:"input-group-prepend",children:Object(N.jsx)("label",{className:"input-group-text",htmlFor:"inputGroupSelect01",children:Object(N.jsx)("svg",{width:"1.2em",height:"1.2em",viewBox:"0 0 16 16",className:"bi bi-cart-dash-fill",fill:"#dc3545",xmlns:"http://www.w3.org/2000/svg",children:Object(N.jsx)("path",{fillRule:"evenodd",d:"M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM4 14a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm7 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM6.5 7a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4z"})})})}),Object(N.jsx)("select",{className:"custom-select",children:Object(N.jsx)("option",{value:"",children:"Choose"})})]})})]}),Object(N.jsxs)("ul",{className:"navbar-nav",children:[Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)("button",{className:"btn btn-dark btn-outline-light btn-sm ",type:"submit",onClick:m,children:"Log Out"})}),Object(N.jsx)("li",{className:"nav-item",children:Object(N.jsx)(d.b,{to:"/settings",children:Object(N.jsx)("button",{className:"ml-2 btn btn-sm btn-light",children:Object(N.jsx)("img",{width:"20px",src:"/Images/settings_icon.png",alt:""})})})})]})]})]}),Object(N.jsx)(o.a,{})]})},_=a(2),w=a(11),S=a(3),C=a(16),k=a.n(C),P=Object(u.b)({name:"cart",initialState:{cart:[],cartNo:1,summery:{tax:0,shipping:0,discount:0,cart_no:1}},reducers:{updateAll:function(e,t){e.cart=t.payload.cart,e.cartNo=t.payload.cartNo,e.summery=t.payload.summery},updateCart:function(e,t){e.cart=t.payload},updateCartNo:function(e,t){e.cartNo=t.payload},updateSummery:function(e,t){e.summery=t.payload}}}),D=P.reducer,E=P.actions,T=E.updateAll,L=E.updateCart,A=(E.updateCartNo,E.updateSummery);function F(){var e=Object(o.n)(),t=Object(c.useState)([]),a=Object(S.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)(""),l=Object(S.a)(i,2),u=l[0],j=l[1],b=Object(r.c)((function(e){return e.cart.cart})),m=Object(r.c)((function(e){return e.cart.cartNo})),p=Object(r.c)((function(e){return e.cart.summery})),h=Object(r.b)(),O=Object(c.useState)(!1),x=Object(S.a)(O,2),f=x[0],g=x[1],v=Object(c.useState)(!1),y=Object(S.a)(v,2),C=y[0],P=y[1],D="http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getProductsReact?"+new URLSearchParams({cart_no:1});Object(c.useEffect)((function(){k.a.get(D).then((function(e){s(e.data.product_list),h(T({cart:e.data.cart,cartNo:e.data.cart_no,summery:e.data.summery}))}))}),[h,D]);var E,F,I=0;b.forEach((function(e){I+=+(e.mrp-e.discount)*e.quantity*e.per_peice_quantity})),F=p.tax?(I+(E=.18*+I)+ +p.shipping-+p.discount).toFixed(2):(I+ +p.shipping-+p.discount).toFixed(2);var R=function(e){var t=e.target.id.split(":")[1],a=Object(w.a)(b),c=Object(_.a)({},b[t]);c.quantity=e.target.value,a[t]=c,h(L(a)),f||g(!0)},U=function(e){var t=e.target.id.split(":")[2],a=Object(w.a)(b),c=Object(_.a)({},b[t]);c.discount=+e.target.value,a[t]=c,h(L(a)),C||P(!0)},q=function(){var e="http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/addProductIntoCart/"+u.split(":")[0];k.a.get(e).then((function(e){if(0===e.length)alert("product not found"),j("");else{var t=b.findIndex((function(t,a){return t.product_id===e.data[0][0].product_id})),a=Object(w.a)(b);-1===t?a.unshift(e.data[0][0]):a[t]=e.data[0][0],j(""),h(L(a))}})).catch((function(e){console.log(e),alert("product not found"),j("")}))},M=function(e){var t="http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/removeProductFromCart/"+e.target.id;k.a.get(t).then((function(t){if(t.data){var a=Object(w.a)(b),c=b.findIndex((function(t,a){return t.sl_no===Number(e.target.id)}));a.splice(c,1),h(L(a))}else alert("cannot delete item from cart")}))},B=function(e){if(f){var t=e.target.id.split(":")[1];k.a.post("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/upQuan/",{sl_no:b[t].sl_no,quantity:b[t].quantity}).then((function(e){})).catch((function(e){alert("could not update quantity")})),g(!1)}},z=function(e){if(C){var t=e.target.id.split(":")[2];k.a.post("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/upDisc/",{sl_no:b[t].sl_no,discount:b[t].discount}).then((function(e){})).catch((function(e){alert("could not update discount")})),P(!1)}};return Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"search-area",children:[Object(N.jsx)("div",{className:"search-label",children:Object(N.jsx)("label",{htmlFor:"select_product",children:"Products Name: "})}),Object(N.jsxs)("div",{className:"search-input",children:[Object(N.jsx)("input",{autoFocus:!0,type:"text",className:"form-control",list:"product_list",id:"select_product",name:"product_name",value:u,onKeyDown:function(t){13===t.keyCode&&(""===u?e("/sellCheckout"):q())},onChange:function(e){j(e.target.value)}}),Object(N.jsx)("datalist",{dir:"rtl",id:"product_list",children:n.map((function(e){return Object(N.jsx)("option",{children:"".concat(e.product_id," : ").concat(e.product_name," : Stock=  ").concat(e.stock," ,MRP=\u20b9 ").concat(e.mrp)},e.product_id)}))})]}),Object(N.jsx)("div",{className:"search-button",children:Object(N.jsx)("button",{tabIndex:"-1",className:"btn btn-dark",onClick:q,id:"listButton",children:"Add to cart"})})]}),Object(N.jsx)("form",{action:"",onSubmit:function(e){e.preventDefault(),console.log("form submitted")},method:"",id:"cartForm"}),Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-lg-9",children:[Object(N.jsxs)("h3",{className:"display-4",children:["Shopping Cart : ",m]}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{className:"",children:b.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"row mb-1",children:[Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsxs)("div",{className:"",style:{padding:"0px"},children:[Object(N.jsxs)("p",{className:"mb-0",id:"",children:[Object(N.jsx)("strong",{children:e.product_name}),Object(N.jsx)("button",{id:e.sl_no,onClick:M,className:"btn btn-sm btn-outline-danger mt-auto float-right",tabIndex:"-1",children:"X"})]}),Object(N.jsxs)("p",{className:"price-para mb-0",children:[Object(N.jsx)("span",{className:"price-label",children:"Rate "}),Object(N.jsxs)("span",{className:"price",children:["\u20b9",Object(N.jsx)("span",{id:"".concat(e.product_id,"_mrp"),children:e.mrp}),"/"]}),Object(N.jsx)("span",{className:"price-label",children:e.unit})]}),Object(N.jsx)("p",{className:"mb-0",children:Object(N.jsxs)("span",{className:"stock-label",children:["In Stock ",e.stock]})})]})}),Object(N.jsxs)("div",{className:"col",children:[Object(N.jsx)("input",{className:"quantity_input",form:"cartForm",onChange:R,onBlur:B,type:"number",name:"quantity_".concat(e.product_id),id:"".concat(e.product_id,":").concat(t),style:{width:"70px"},value:e.quantity,step:"any"}),Object(N.jsxs)("p",{className:"font-weight-light mb-0",style:{fontSize:"small"},children:[Object(N.jsx)("span",{hidden:!0,id:"".concat(e.product_id,"_totalQuantity"),children:e.per_peice_quantity}),Object(N.jsx)("span",{id:"totalQuantity_".concat(e.product_id),children:(e.quantity*e.per_peice_quantity).toFixed(3)})," "+e.unit]})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("input",{placeholder:"Disc",className:"discount_input",form:"cartForm",type:"number",style:{width:"70px"},name:"discount_".concat(e.product_id),id:"discount:".concat(e.product_id,":").concat(t),onChange:U,onBlur:z,value:e.discount,step:"any"}),Object(N.jsx)("span",{hidden:!0,id:"cp_".concat(e.product_id),children:e.cp}),Object(N.jsxs)("p",{id:"discount%",className:"font-weight-light d-none",style:{fontSize:"small"},children:["E2.G",Object(N.jsx)("span",{id:"profit_".concat(e.product_id),children:((e.mrp-e.discount-e.cp)/(e.cp+.01)*100).toFixed(1)})]})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{id:"".concat(e.product_id,"_netPrice"),children:e.mrp-e.discount})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{className:"amount",id:"".concat(e.product_id,"_amount"),children:((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)})]})]}),Object(N.jsx)("hr",{className:""})]},e.product_id)}))}),Object(N.jsx)("input",{className:"btn btn-danger btn-sm",id:m,value:"Clear Cart",type:"button"}),Object(N.jsx)("br",{}),Object(N.jsx)("br",{}),Object(N.jsx)("hr",{className:"mt-0"})]}),Object(N.jsxs)("div",{className:"col-lg-3",children:[Object(N.jsx)("h3",{className:"display-4",children:"Summery"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"border border-dark ",style:{padding:"0.9rem"},children:[Object(N.jsxs)("h6",{children:["Subtotal (2)"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"subtotal",children:I})]})]}),Object(N.jsxs)("p",{children:[Object(N.jsx)("input",{checked:p.tax,form:"cartForm",type:"checkbox",name:"taxCheck",onChange:function(e){var t=Object(_.a)({},p);t.tax=!p.tax;k.a.post("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/upTax/",{cart_no:m,tax:t.tax}).then((function(e){e.data||alert("Could Not Update tax.")})).catch((function(e){alert("could not update tax")})),h(A(t))},id:"taxCheck"}),"Tax",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("span",{id:"tax",children:E?E.toFixed(2):0})]})]}),Object(N.jsxs)("p",{children:["Shipping",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("input",{form:"cartForm",className:"cart-input-width",type:"number",style:{border:"none",outline:"none",borderBottom:"1px solid black"},name:"shippingCost",id:"shippingCost",onChange:function(e){var t=Object(_.a)({},p);t.shipping=e.target.value,h(A(t))},onBlur:function(){k.a.post("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/upShip/",{cart_no:m,shipping:p.shipping}).then((function(e){})).catch((function(e){alert("could not update shipping")}))},value:p.shipping})]})]}),Object(N.jsxs)("p",{children:["Discount",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9",Object(N.jsx)("input",{form:"cartForm",style:{border:"none",outline:"none",borderBottom:"1px solid black"},className:"cart-input-width",type:"number",name:"summury_discount",id:"discount",value:p.discount,onChange:function(e){var t=Object(_.a)({},p);t.discount=e.target.value,h(A(t))},onBlur:function(e){k.a.post("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/upSummeryDisc/",{cart_no:m,discount:p.discount}).then((function(e){})).catch((function(e){alert("could not update discount")}))}})]})]}),Object(N.jsxs)("h4",{children:["Total"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"estimatedTotal",children:F})]})]})]}),Object(N.jsx)("br",{}),Object(N.jsx)("input",{type:"hidden",name:"cart_no",form:"cartForm",value:m}),Object(N.jsx)("button",{hidden:!0,type:"submit",form:"cartForm",formAction:"/cart/save",formMethod:"POST",className:"btn btn-dark btn-lg btn-block"}),Object(N.jsx)(d.b,{to:"/sellCheckout",children:Object(N.jsx)("button",{form:"cartForm",formAction:"/cart/sell",formMethod:"POST",id:"sell_button",className:"btn btn-danger btn-lg btn-block",children:"Proceed to Sell"})}),Object(N.jsx)("button",{form:"cartForm",formAction:"/cart/purchase",formMethod:"POST",id:"purchase_button",className:"btn btn-dark btn-lg btn-block",children:"Proceed to Purchase"}),Object(N.jsx)("button",{form:"cartForm",formAction:"/cart/save",formMethod:"POST",className:"btn btn-dark btn-lg btn-block",children:"Save The Cart"})]})]})]})}var I=function(e){return Object(N.jsxs)(N.Fragment,{children:[e.label&&Object(N.jsx)("label",{htmlFor:e.id,children:e.label}),Object(N.jsx)("input",{disabled:e.disabled,ref:e.ref,type:e.type,className:"form-control d-inp1",value:e.value,onChange:e.onChange,list:e.datalist?e.name:"",id:e.id,placeholder:e.placeholder,name:e.name,required:e.required,autoFocus:e.focus,onBlur:e.onBlur}),Object(N.jsx)("datalist",{dir:"rtl",id:e.name,children:e.datalist}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:e.msg}),Object(N.jsx)("div",{style:{color:"red",fontSize:"14px"},children:e.error})]})};var R=function(e){return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("label",{htmlFor:e.id,children:e.label}),Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("div",{className:"input-group-prepend",children:Object(N.jsx)("span",{className:"input-group-text",id:"basic-addon1",children:e.prepend})}),Object(N.jsx)("input",{disabled:e.disabled,ref:e.ref,type:e.type,className:"form-control d-inp1",value:e.value,onChange:e.onChange,list:e.datalist?e.name:"",id:e.id,placeholder:e.placeholder,name:e.name,required:e.required,autoFocus:e.focus,onBlur:e.onBlur})]}),Object(N.jsx)("datalist",{dir:"rtl",id:e.name,children:e.datalist}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:e.msg}),Object(N.jsx)("div",{style:{color:"red",fontSize:"14px"},children:e.error})]})};var U=function(){var e=Object(o.n)(),t=Object(c.useState)([]),a=Object(S.a)(t,2),n=a[0],s=a[1],i=Object(c.useState)({}),l=Object(S.a)(i,2),d=l[0],u=l[1],j=Object(c.useState)([]),b=Object(S.a)(j,2),m=b[0],p=b[1],h=Object(c.useState)(0),O=Object(S.a)(h,2),x=O[0],f=O[1],g=Object(c.useState)(0),v=Object(S.a)(g,2),y=v[0],_=v[1],w=Object(c.useState)(0),C=Object(S.a)(w,2),P=C[0],D=C[1],E=Object(c.useState)(""),T=Object(S.a)(E,2),L=T[0],A=T[1],F=Object(c.useState)(""),U=Object(S.a)(F,2),q=U[0],M=U[1],B=Object(c.useState)(""),z=Object(S.a)(B,2),G=z[0],H=z[1],W=Object(c.useState)(""),V=Object(S.a)(W,2),J=V[0],Q=V[1],Z=Object(c.useState)(""),K=Object(S.a)(Z,2),Y=K[0],X=K[1],$=Object(c.useState)("West Bengal"),ee=Object(S.a)($,2),te=ee[0],ae=ee[1],ce=Object(c.useState)("India"),ne=Object(S.a)(ce,2),se=ne[0],re=ne[1],ie=Object(c.useState)(""),le=Object(S.a)(ie,2),oe=le[0],de=le[1],ue=Object(c.useState)(""),je=Object(S.a)(ue,2),be=je[0],me=je[1],pe=Object(c.useState)(""),he=Object(S.a)(pe,2),Oe=he[0],xe=he[1],fe=Object(c.useState)(""),ge=Object(S.a)(fe,2),ve=ge[0],Ne=ge[1],ye=Object(c.useState)(!1),_e=Object(S.a)(ye,2),we=_e[0],Se=_e[1],Ce=Object(r.c)((function(e){return e.cart.cartNo})),ke=new Date,Pe=ke.getMonth()+1,De="";De=Pe<10?"0"+Pe:Pe;var Ee=String(ke.getDate()).padStart(2,"0"),Te=ke.getFullYear()+"-"+De+"-"+Ee,Le=Object(c.useState)(Te),Ae=Object(S.a)(Le,2),Fe=Ae[0],Ie=Ae[1],Re=Object(c.useState)(Te),Ue=Object(S.a)(Re,2),qe=Ue[0],Me=Ue[1],Be=Object(c.useState)(""),ze=Object(S.a)(Be,2),Ge=ze[0],He=ze[1],We=Object(c.useState)(""),Ve=Object(S.a)(We,2),Je=Ve[0],Qe=Ve[1],Ze=Object(c.useState)(""),Ke=Object(S.a)(Ze,2),Ye=Ke[0],Xe=Ke[1],$e=Object(c.useState)(""),et=Object(S.a)($e,2),tt=et[0],at=et[1],ct=Object(c.useState)(""),nt=Object(S.a)(ct,2),st=nt[0],rt=nt[1],it=Object(c.useState)(""),lt=Object(S.a)(it,2),ot=lt[0],dt=lt[1],ut=Object(c.useState)(""),jt=Object(S.a)(ut,2),bt=jt[0],mt=jt[1],pt=Object(c.useState)(""),ht=Object(S.a)(pt,2),Ot=ht[0],xt=ht[1],ft="http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com";Object(c.useEffect)((function(){var e=ft+"/checkOutSell?"+new URLSearchParams({cartNo:Ce});k.a.get(e).then((function(e){s(e.data.cart),u(e.data.summery),p(e.data.clients);var t=0;e.data.cart.forEach((function(e){t+=+((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)}));var a=0;e.data.summery.tax&&(a=+(.18*t).toFixed(2));var c=a+t+e.data.summery.shipping-e.data.summery.discount;f(t),_(a),D(c)})).catch((function(e){alert(e)}))}),[Ce]);var gt=function(t){if(t.preventDefault(),t.stopPropagation(),!we){if(10!==L.toString().length)return void He("Mobile number is invalid");if(null===q||""===q)return void Qe("invalid name");if(null===G||""===G)return void Xe("invalid adderes");if(null===Y||""===Y)return void at("invalid city");if(null===te||""===te)return void rt("invalid state");if(null===se||""===se)return void dt("invalid country");if(null===oe||0===oe)return void mt("invalid zip")}if(null!==ve&&void 0!==ve&&""!==ve){alert("there you go"),fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/MAKE_SALE",{method:"POST",body:JSON.stringify({cartNo:Ce,mobile:L,name:q,add1:G,add2:J,city:Y,state:te,country:se,zip:oe,paymentAmount:ve,dueDate:Fe,date:qe}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e("/sales/bill/"+t.saleId)}))}else xt("invalid payment amount")};return Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"col-lg-9",children:[Object(N.jsxs)("h3",{className:"display-4",children:["Checkout Cart : ",Ce]}),Object(N.jsx)("hr",{}),Object(N.jsx)("div",{children:n.map((function(e,t){return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:"row mb-1",children:[Object(N.jsx)("div",{className:"col-md-6",children:Object(N.jsx)("div",{className:"",style:{padding:"0px"},children:Object(N.jsx)("div",{children:Object(N.jsxs)("p",{className:"mb-0",id:"",children:[e.product_id," :",e.product_name]})})})}),Object(N.jsx)("div",{className:"col",children:Object(N.jsxs)("span",{children:[e.quantity,Object(N.jsxs)("span",{className:"font-weight-light",style:{fontSize:"small",marginBottom:"0"},children:[Object(N.jsx)("span",{hidden:!0,id:"{element.product_id}_totalQuantity",children:e.per_peice_quantity}),"(",Object(N.jsx)("span",{id:"totalQuantity_{ element.product_id }",children:e.quantity*e.per_peice_quantity}),e.unit,")"]})]})}),Object(N.jsx)("div",{className:"col text-right",children:Object(N.jsxs)("p",{className:"price-para mb-0",children:[Object(N.jsxs)("span",{className:"price",children:["\u20b9",Object(N.jsx)("span",{id:"{element.product_id}_mrp",children:e.mrp})," "]}),Object(N.jsxs)("span",{className:"price-label",children:[" per ",e.unit," "]})]})}),Object(N.jsx)("div",{className:"col text-right",children:e.discount}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{id:"{ element.product_id }_netPrice",children:e.mrp-e.discount})]}),Object(N.jsxs)("div",{className:"col text-right",children:[Object(N.jsx)("span",{className:"text-danger font-weight-bold",children:"\u20b9 "}),Object(N.jsx)("span",{className:"amount",id:"{ element.product_id }_amount",children:((e.mrp-e.discount)*e.quantity*e.per_peice_quantity).toFixed(2)})]})]},e.product_id),Object(N.jsx)("hr",{className:""})]},t)}))}),Object(N.jsx)("hr",{className:"mt-0"})]}),Object(N.jsxs)("div",{className:"col-lg-3",children:[Object(N.jsx)("h3",{className:"display-4",children:"Summery"}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"border border-dark ",style:{padding:"0.9rem"},children:[Object(N.jsxs)("h6",{children:["Subtotal (2)"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"subtotal",children:x})]})]}),Object(N.jsxs)("p",{children:["Tax",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"tax",children:y})]})]}),Object(N.jsxs)("p",{children:["Shipping",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"shippingCost",children:d.shipping})]})]}),Object(N.jsxs)("p",{children:["Discount",Object(N.jsxs)("span",{className:"float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"discount",children:d.discount})]})]}),Object(N.jsxs)("h4",{children:["Total"," ",Object(N.jsxs)("span",{className:"text-danger float-right",children:["\u20b9 ",Object(N.jsx)("span",{id:"estimatedTotal",children:P})]})]})]}),Object(N.jsx)("br",{})]})]}),Object(N.jsx)("hr",{}),Object(N.jsxs)("div",{className:"formWrap",children:[Object(N.jsx)("div",{className:"spinner displayNone",children:Object(N.jsx)("div",{className:"spinner-border",role:"status",children:Object(N.jsx)("span",{className:"sr-only",children:"Loading..."})})}),Object(N.jsx)("div",{id:"formDiv",children:Object(N.jsxs)("form",{onSubmit:gt,id:"myForm",className:"needs-validation",noValidate:!0,children:[Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(R,{prepend:"91",id:"inputNumber",label:"Mobile",type:"number",name:"mobile",value:L,placeholder:"9876543210",onChange:function(e){return A(e.target.value)},onBlur:function(e){var t=e.target.value;if(0!==Number(t)&&10===t.toString().length){He("");var a=!1;m.forEach((function(e,c){e.mobile_no===t&&(a=!0,M(e.name),fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getClientDue?cartNo="+e.client_id).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(t){e.previous_due=t.due,me(t.due),xe(Number(e.previous_due)+Number(P)),Se(!0)})).catch((function(e){throw new Error(e)}))),!1===a&&c===m.length-1&&(me(0),xe(Number(P)),Se(!1))}))}else He("Mobile number is invalid"),Se(!1)},error:Ge,required:!0,focus:!0,datalist:m.map((function(e){return Object(N.jsx)("option",{name:e.client_id,children:e.mobile_no},e.client_id)}))})}),Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(I,{disabled:we,id:"inputName",label:"Client Name",type:"text",name:"name",value:q,placeholder:"Sk Imran",onChange:function(e){M(e.target.value),Qe("")},error:Je,msg:"Make sure to input full name.",required:!0})})]}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:we,type:"text",value:G,onChange:function(e){H(e.target.value),Xe("")},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0,error:Ye})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:we,type:"text",value:J,onChange:function(e){return Q(e.target.value)},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:we,type:"text",value:Y,onChange:function(e){X(e.target.value),at("")},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0,error:tt})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:we,type:"text",value:te,onChange:function(e){ae(e.target.value),rt("")},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0,error:st})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:we,type:"text",value:se,onChange:function(e){re(e.target.value),dt("")},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0,error:ot})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Zip",disabled:we,type:"number",value:oe,onChange:function(e){de(e.target.value),mt("")},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0,error:bt})})]})]})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group row col-md-6",children:[Object(N.jsx)("label",{htmlFor:"dues",className:"col-sm-3 col-form-label",children:"Dues:"}),Object(N.jsx)("div",{className:"col-sm-9",children:Object(N.jsxs)("span",{className:"text-danger",children:["\u20b9",Object(N.jsx)("span",{id:"dues",children:be})]})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-6",children:[Object(N.jsx)("label",{htmlFor:"payble-amount",className:"col-sm-4 col-form-label",children:"Payble Amount:"}),Object(N.jsx)("div",{className:"col-sm-8",children:Object(N.jsxs)("span",{className:"text-danger",children:["\u20b9",Object(N.jsx)("span",{id:"payble-amount",children:Oe})]})})]})]}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("label",{htmlFor:"paid",className:"col-sm-5 col-form-label",children:"Payment Amount:"}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)(I,{type:"number",value:ve,onChange:function(e){Ne(e.target.value),xt("")},id:"paid",name:"paid",required:!0,error:Ot,step:"any"})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("div",{className:"col-sm-5 col-form-label",children:Object(N.jsx)("div",{style:{float:"right"},children:Object(N.jsx)("label",{htmlFor:"due-date",children:"Due Date:"})})}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)("input",{value:Fe,onChange:function(e){return Ie(e.target.value)},type:"date",id:"due-date",className:"form-control",name:"Due Date",required:!0})})]}),Object(N.jsxs)("div",{className:"form-group row col-md-4",children:[Object(N.jsx)("div",{className:"col-sm-5 col-form-label",children:Object(N.jsx)("div",{style:{float:"right"},children:Object(N.jsx)("label",{htmlFor:"date",children:"Date:"})})}),Object(N.jsx)("div",{className:"col-sm-7",children:Object(N.jsx)("input",{value:qe,onChange:function(e){return Me(e.target.value)},type:"date",id:"date",className:"form-control",name:"date",required:!0})})]})]}),Object(N.jsx)("button",{type:"submit",className:"btn btn-success add-button submitButton",onClick:gt,children:"Sell"})]})})]})]})},q=a(58),M=a(59),B=a.n(M);var z=function(e){var t=Object(r.c)((function(e){return e.cart.cartNo})),a=Object(o.n)(),n=Object(c.useState)(null),s=Object(S.a)(n,2),d=s[0],u=s[1],j=Object(c.useState)(),b=Object(S.a)(j,2),m=b[0],p=b[1],h=Object(c.useState)(),O=Object(S.a)(h,2),x=O[0],f=O[1],g=Object(o.p)().id;function v(e){var t=e.soldProducts,a=e.saleDetails,c=e.previousDue,n=e.subtotal,s=new q.a("p","mm",[210,148]),r=n+c+a.shipping-a.summery_discount;1===a.tax&&(r=Number(r)+Number(Number(.18*n).toFixed(1)));var i=new Image;i.src="/assets/logo.jpg";var l=70,o=165,d=160;function u(){s.addImage(i,"jpeg",7,7,37,19),s.setFont("helvetica"),s.setFontSize(9),s.setFont(void 0,"bold"),s.setTextColor(0,0,0),s.text(a.name,7,40),s.text("Royal Plywood",51,9),s.setFont(void 0,"normal"),s.text("NH6, Panskura, Purba Mednapur",51,13),s.text("West Bengal, 721139",51,17),s.text("+91 8013787177",51,21),s.text("+91 9432971771",51,25),s.text("skhasemali49@gmail.com",51,29),s.text("Bill To:",7,36),s.text(String(a.address_line_1+"\n"+a.address_line_2),7,44),s.text(a.city_or_district+", "+a.state+", "+a.postal_code,7,48),s.text(String(a.mobile_no),7,52),s.text("# "+String(a.sale_id),141,17,"right"),s.text(new Date(a.date).getDate()+"/"+(new Date(a.date).getMonth()+1)+"/"+new Date(a.date).getFullYear(),141,21,"right"),s.setFontSize(12),s.text("Amount:",110,36,"right"),s.text("Rs. "+r,141,36,"right"),s.text("Paid:",110,41.5,"right"),s.text("Rs. "+a.paid,141,41.5,"right"),s.text("Totol Due:",110,47,"right"),s.text("Rs. "+Math.round(r-a.paid),141,47,"right"),s.text("Due Date:",110,52.5,"right"),s.text(new Date(a.due_date).getDate()+"/"+(new Date(a.due_date).getMonth()+1)+"/"+new Date(a.due_date).getFullYear(),141,52.5,"right"),s.setTextColor(0,0,0),s.setFontSize(20),s.text("INVOCE",141,12,"right"),s.setFontSize(10),s.text("ID",7,61.5),s.text("Description",17,61.5),s.text("Quan.",75,61.5),s.text("Rate",88,61.5),s.text("Disc",100,61.5),s.text("Price",124,61.5,"right"),s.text("Amount",141,61.5,"right"),s.setDrawColor(10,10,10),s.setLineWidth(.2),s.line(7,56.5,141,56.5),s.line(7,64,141,64),s.line(7,o,141,o)}1===a.tax&&(o=160,d=155),u(),t.forEach((function(e){s.setFont("courier"),s.setFontSize(9),s.text(String(e.product_id),7,l),s.setFontSize(10);var t=s.splitTextToSize(String(e.product_name),50);s.text(17,l,t),s.text(String(e.quantity),75,l),s.text(String(e.rate),88,l),s.text(String(e.disc),100,l),s.text(String(e.price),124,l,"right"),s.text(String(e.amount),141,l,"right"),s.setFont("helvetica"),(l+=5*t.length)>d&&(s.text("Continued...",17,o+25),s.addPage(),u(),l=70)})),s.setFontSize(10),console.log(a.tax),1===a.tax?(s.text("Subtotal",110,o+7,"right"),s.text("Rs. "+String(n),113,o+7),s.text("Tax",110,o+12,"right"),s.text("Rs. "+String((.18*n).toFixed(1)),113,o+12),o+=5):(s.text("Subtotal",110,o+7,"right"),s.text("Rs. "+String(n),113,o+7)),s.text("Shipping",110,o+12,"right"),s.text("Rs. "+String(a.shipping),113,o+12),s.text("Discount",110,o+17,"right"),s.text("Rs. "+String(a.summery_discount),113,o+17),s.text("Previous Due",110,o+22,"right"),s.text("Rs. "+String(c),113,o+22),s.line(87,o+25,141,o+25),s.line(7,o+25,61,o+25),s.text("Rs. "+String(r),113,o+31),s.text("Authorized Signature",34,o+31,"center"),s.setFontSize(14),s.text("Total",110,o+31,"right");var j=s.internal.getNumberOfPages();s.setFontSize(8);for(var b=1;b<=j;b++)s.setPage(b),s.text("Page "+b+" of "+j,74,196,"center");return s}return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getBillDetails?"+new URLSearchParams({id:g}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,c=v(a),f(a.saleDetails.sale_id),p(c),u(c.output("datauristring"));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to load data")}}),[g]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:B.a.parent,children:[Object(N.jsx)("iframe",{src:d,title:"bill",name:"billpdf",id:"billpdf"}),Object(N.jsxs)("div",{children:[Object(N.jsx)("button",{type:"button",onClick:function(){m.autoPrint(),u(m.output("datauristring"))},className:"btn btn-danger btn-lg btn-block",children:"Print"}),Object(N.jsx)("button",{type:"button",onClick:function(){m.save("Invoice_saleID.pdf")},className:"btn btn-secondary btn-lg btn-block",children:"Save"}),Object(N.jsx)("button",{type:"button",onClick:function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var c,n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/fillCartFromBill?"+new URLSearchParams({cartNo:t,saleId:x}));case 2:return c=e.sent,e.next=5,c.json();case 5:(n=e.sent).success?a("/"):alert("Unable to fill cart please contact support"+n.err);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(c){alert("unable to move contact support")}},className:"btn btn-secondary btn-lg btn-block",children:"Move to Cart"})]})]})})},G=a(38),H=a.n(G);var W=function(e){var t=Object(o.n)(),a=Object(c.useState)(0),n=Object(S.a)(a,2),s=n[0],r=n[1];return Object(N.jsx)("div",{id:"page-content-wrapper",children:Object(N.jsxs)("div",{className:"container-fluid",children:[Object(N.jsxs)("div",{className:"card",children:[Object(N.jsxs)("div",{className:"card-header",children:[Object(N.jsxs)("div",{className:H.a.cardHeader,children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})})}),Object(N.jsx)("div",{children:e.headerItems&&e.headerItems})]}),e.filterItems&&Object(N.jsx)("div",{style:{marginTop:"15px"},children:e.filterItems&&e.filterItems})]}),Object(N.jsxs)("table",{className:"table table-striped table-hover",children:[Object(N.jsx)("thead",{className:"thead-dark",children:Object(N.jsx)("tr",{children:e.thData.map((function(e,t){return Object(N.jsx)("th",{scope:"col",children:e},t)}))})}),Object(N.jsx)("tbody",{children:e.trData.map((function(a,c){return Object(N.jsx)("tr",{onClick:function(c){!function(a,c){e.rowURL&&(null!=a.id&&null==a.hide_url?t(e.rowURL+a.id):null!=a.hide_url&&t(e.rowURL+a.hide_url))}(a)},children:Object.entries(a).map((function(e,t){return"hide"!==e[0].split("_")[0]?0===t?Object(N.jsx)("th",{scope:"row",children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)("td",{children:e[1]},"".concat(e[0]).concat(c).concat(e[1])):Object(N.jsx)(N.Fragment,{})}))},c)}))})]})]}),Object(N.jsxs)("div",{className:"card-footer",children:[Object(N.jsx)("button",{disabled:0===e.pageNo,onClick:function(t){e.dispatch({type:"DECREMENT_PAGENO"})},children:"Prev"}),Object(N.jsxs)("span",{style:{margin:"20px"},children:["Showing ",Number(e.pageNo)+1," of ",e.noOfPages]}),Object(N.jsx)("button",{disabled:!(e.pageNo<e.noOfPages-1),onClick:function(){e.dispatch({type:"INCREMENT_PAGENO"})},children:"Next"}),Object(N.jsx)("label",{style:{marginLeft:"50px"},htmlFor:"",children:"Goto:"}),Object(N.jsx)("input",{style:{margin:"10px",maxWidth:"70px"},type:"number",min:"1",value:s,onKeyDown:function(t){13===t.keyCode&&e.dispatch({type:"UPDATE_PAGENO",value:s})},onChange:function(e){r(e.target.value)}}),Object(N.jsx)("button",{type:"submit",onSubmit:function(t){e.dispatch({type:"UPDATE_PAGENO",value:s})},children:"Go"})]})]})})};var V=function(){var e=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PERIOD":return Object(_.a)(Object(_.a)({},e),{},{period:t.value});case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_SALES_LIST":return Object(_.a)(Object(_.a)({},e),{},{salesList:t.value.salesList,noOfPages:t.value.noOfPages});default:return e}}),{pageNo:0,salesList:[],noOfPages:0}),t=Object(S.a)(e,2),a=t[0],n=a.pageNo,s=a.salesList,r=a.noOfPages,o=t[1];return Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getSaleList?"+new URLSearchParams({pageNo:n}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,o({type:"UPDATE_SALES_LIST",value:{salesList:a.salesList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){console.log("unable to connet to server")}}),[n,o]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"row"}),Object(N.jsx)("div",{className:"d-flex",id:"wrapper",style:{paddingBottom:"50px"},children:Object(N.jsx)(W,{title:"Sales List",rowURL:"/sales/bill/",thData:["ID","Date","Clients Name","Total Amount","Paid"],trData:s,dispatch:o,pageNo:n,noOfPages:r})})]})})};var J=function(){var e=Object(o.n)(),t=Object(c.useState)(""),a=Object(S.a)(t,2),n=a[0],s=a[1],r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_CLIENTS_LIST":return Object(_.a)(Object(_.a)({},e),{},{clientsList:t.value.clientsList,noOfPages:t.value.noOfPages});case"UPDATE_ALL_CLIENTS_LIST":return Object(_.a)(Object(_.a)({},e),{},{allClientsList:t.allClientsList});default:return e}}),{pageNo:0,clientsList:[],noOfPages:0,allClientsList:[]}),d=Object(S.a)(r,2),u=d[0],j=u.pageNo,b=u.clientsList,m=u.noOfPages,p=u.allClientsList,h=d[1];Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getAllClientsList").then((function(e){return e.json()})).then((function(e){h({type:"UPDATE_ALL_CLIENTS_LIST",allClientsList:e.allClientsList})}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getClientsList?"+new URLSearchParams({pageNo:j}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h({type:"UPDATE_CLIENTS_LIST",value:{clientsList:a.clientsList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to connet to server")}}),[j,h]);var O=Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=n.split(" ")[0];"number"==typeof Number(a)?e("/clients/transaction/"+a):alert("Invalid Id")},className:"form-inline",id:"cForm",children:[Object(N.jsx)("input",{type:"text",className:"form-control mr-2",list:"client_list",id:"select_client",name:"client",value:n,onChange:function(e){s(e.target.value)},autoFocus:!0}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",children:"Search"})]}),Object(N.jsx)("form",{className:"form-inline",children:Object(N.jsx)("button",{onClick:function(){e("/clients/add-client")},type:"button",className:"btn btn-dark btn-sm ml-2",children:"Add Client"})}),Object(N.jsx)("datalist",{dir:"rtl",id:"client_list",children:p.map((function(e){var t=e.name.replace(/_/g," ");return Object(N.jsxs)("option",{children:[e.client_id," "," : "," ",t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))," ",e.mobile_no]},e.client_id)}))})]});return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)(W,{title:"Client List",rowURL:"/clients/transaction/",headerItems:O,thData:["ID","Name","Mobile","Address","City","State"],trData:b,dispatch:h,pageNo:j,noOfPages:m})})};var Q=function(e){var t=Object(c.useReducer)((function(e,t){switch(t.type){case"l1":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value});case"l2":return Object(_.a)(Object(_.a)({},e),{},{l2:t.value});case"city":return Object(_.a)(Object(_.a)({},e),{},{city:t.value});case"zip":return Object(_.a)(Object(_.a)({},e),{},{zip:t.value});case"state":return Object(_.a)(Object(_.a)({},e),{},{state:t.value});case"name":return Object(_.a)(Object(_.a)({},e),{},{name:t.value});case"id":return Object(_.a)(Object(_.a)({},e),{},{id:t.value});case"country":return Object(_.a)(Object(_.a)({},e),{},{country:t.value});case"mobile_no":return Object(_.a)(Object(_.a)({},e),{},{mobile_no:t.value});case"inputDisabled":return Object(_.a)(Object(_.a)({},e),{},{inputDisabled:t.value});case"mode":return Object(_.a)(Object(_.a)({},e),{},{mode:t.value});case"edit":return Object(_.a)(Object(_.a)({},e),{},{mode:"edit",inputDisabled:!1});case"read":return Object(_.a)(Object(_.a)({},e),{},{mode:"read",inputDisabled:!0});case"all":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value.l1,l2:t.value.l2,city:t.value.city,zip:t.value.zip,state:t.value.state,name:t.value.name,id:t.value.id,country:t.value.country,mobile_no:t.value.mobile_no,mode:"read",inputDisabled:!0});default:return e}}),{l1:"",l2:"",city:"",zip:"",state:"",name:"",id:"",country:"",mobile_no:"",inputDisabled:!1,mode:"add"}),a=Object(S.a)(t,2),n=a[0],s=n.l1,r=n.l2,i=n.city,l=n.zip,o=n.state,u=n.name,j=n.id,b=n.country,m=n.mobile_no,p=n.mode,h=n.inputDisabled,O=a[1];Object(c.useEffect)((function(){e.data&&O({type:"all",value:e.data})}),[]);var x="Add Customer";return"read"===p&&(x="Edit"),x="read"===p?"Edit":"Save",Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})}),Object(N.jsx)("div",{className:"m-3",children:Object(N.jsxs)(d.a,{action:"/clients/add-client",method:e.method?e.method:"POST",children:[Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(R,{prepend:"91",onChange:function(e){O({type:"mobile_no",value:e.target.value})},id:"inputNumber",label:"Mobile",type:"number",name:"mobile",value:m,placeholder:"9876543210",required:!0,focus:!0,disabled:!!e.data})}),Object(N.jsx)("div",{className:"form-group col-md-6",children:Object(N.jsx)(I,{onChange:function(e){O({type:"name",value:e.target.value})},disabled:h,id:"inputName",label:"Client Name",type:"text",name:"name",value:u,placeholder:"Sk Imran",msg:"Make sure to input full name.",required:!0})})]}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:h,type:"text",value:s,onChange:function(e){O({type:"l1",value:e.target.value})},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:h,type:"text",value:r,onChange:function(e){O({type:"l2",value:e.target.value})},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:h,type:"text",value:i,onChange:function(e){O({type:"city",value:e.target.value})},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:h,type:"text",value:o,onChange:function(e){O({type:"state",value:e.target.value})},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:h,type:"text",value:b,onChange:function(e){O({type:"country",value:e.target.value})},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0})}),Object(N.jsxs)("div",{className:"form-group col-md-2",children:[Object(N.jsx)(I,{label:"Zip",disabled:h,type:"number",value:l,onChange:function(e){O({type:"zip",value:e.target.value})},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0}),Object(N.jsx)("input",{onChange:function(e){},hidden:!0,name:"id",value:""===j||null===j?"":j})]})]})]})}),Object(N.jsx)("button",{onClick:function(t){e.data&&O({type:"all",value:e.data})},hidden:!e.data||"edit"!==p,className:"add-button ml-5 btn btn-dark",type:"reset",children:"Cancel"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-outline-danger add-button submitButton",onClick:function(e){if("read"==p)return e.preventDefault(),void O({type:"edit"})},children:x})]})})]})};function Z(e){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(Q,{method:"PUT",disabled:"true",title:e.title,data:e.data})})}var K=function(){var e=Object(o.p)().id,t=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_LIST":return Object(_.a)(Object(_.a)({},e),{},{list:t.value.list,noOfPages:t.value.noOfPages,name:t.value.name,details:t.value.details});case"TOGGLE_SHOW_DETAILS":return Object(_.a)(Object(_.a)({},e),{},{showDetails:!e.showDetails});default:return e}}),{pageNo:0,list:[],noOfPages:0,name:"",showDetails:!1}),a=Object(S.a)(t,2),n=a[0],s=n.pageNo,r=n.list,d=n.noOfPages,u=n.name,j=n.showDetails,b=a[1];Object(c.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getAllClientsHistory?"+new URLSearchParams({pageNo:s,id:e}));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,b({type:"UPDATE_LIST",value:{list:c.list,noOfPages:c.noOfPages,name:c.name,details:c.details}});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{t()}catch(a){alert("unable to connet to server")}}),[s,b,e]);var m=Object(o.k)().data,p=Object(N.jsx)("button",{onClick:function(){b({type:"TOGGLE_SHOW_DETAILS"})},className:"btn btn-dark btn-ms",children:j?"Hide Details":"Show Details"}),h=Object(N.jsx)(Z,{title:"Details",data:m});return Object(N.jsx)("div",{className:"container",style:{paddingBottom:"50px"},children:Object(N.jsx)("div",{style:{display:"block"},children:Object(N.jsx)(W,{title:"".concat(""===u||null===u?"Customer Not Found":u+"s Transactions"),headerItems:p,filterItems:j&&h,rowURL:"/",thData:["Sales or Paymet","Date","Debit","Credit"],trData:r,dispatch:b,pageNo:s,noOfPages:d})})})},Y=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,e.next=3,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getClientsDetails?"+new URLSearchParams({id:a.id}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=a(60),$=a.n(X);function ee(){var e=Object(o.n)(),t=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_PRODUCT_LIST":return Object(_.a)(Object(_.a)({},e),{},{productList:t.productList,noOfPages:t.noOfPages,amt:t.amt,stk:t.stk});case"UPDATE_BRAND_AND_CATEGORY_LIST":return Object(_.a)(Object(_.a)({},e),{},{brandList:t.brandList,categoryList:t.categoryList});case"update_cat":return Object(_.a)(Object(_.a)({},e),{},{cat:t.value});case"update_brand":return Object(_.a)(Object(_.a)({},e),{},{brand:t.value});case"update_stock":return Object(_.a)(Object(_.a)({},e),{},{stock:t.value});case"update_active":return Object(_.a)(Object(_.a)({},e),{},{active:t.value});case"update_stock":return Object(_.a)(Object(_.a)({},e),{},{stk:t.value});case"update_amt":return Object(_.a)(Object(_.a)({},e),{},{amt:t.value});default:return e}}),{pageNo:0,noOfPages:0,productList:[],categoryList:[],brandList:[],cat:"/_default_/",brand:"/_default_/",stock:"/_default_/",active:"/_default_/",stk:0,amt:0}),a=Object(S.a)(t,2),n=a[0],s=n.pageNo,r=n.noOfPages,i=n.productList,l=n.categoryList,d=n.brandList,u=n.cat,j=n.brand,b=n.stock,m=n.active,p=n.stk,h=n.amt,O=a[1];Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getCategoryBrand").then((function(e){return e.json()})).then((function(e){O({type:"UPDATE_BRAND_AND_CATEGORY_LIST",brandList:e.brand,categoryList:e.cat})}))}),[]),Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getProductList?"+new URLSearchParams({pageNo:s,cat:u,brand:j,stock:b,active:m})).then((function(e){return e.json()})).then((function(e){O({type:"UPDATE_PRODUCT_LIST",stk:e.totalStock,amt:e.totalAmount,productList:e.list,noOfPages:e.noOfPages})}))}),[s,u,j,b,m]),Object(c.useEffect)((function(){O({type:"UPDATE_PAGENO",value:1})}),[u,j,b,m]);var x=Object(N.jsx)("button",{onClick:function(){e("/products/addProducts")},className:"btn btn-dark",children:"Add Product"}),f=Object(N.jsx)("div",{className:$.a.filterItem,children:Object(N.jsxs)("form",{onSubmit:function(e){e.preventDefault()},method:"GET",children:[Object(N.jsxs)("select",{onChange:function(e){O({type:"update_cat",value:e.target.value})},name:"catagory",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px",marginLeft:"-7px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"All Category"}),l.map((function(e){var t=e.name.replace(/_/g," ");return t=t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:t},e.name)}))]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_brand",value:e.target.value})},name:"brand_name",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"All Brand"}),d.map((function(e,t){var a=e.brand_name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_stock",value:e.target.value})},name:"active",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"Select Stock"}),Object(N.jsx)("option",{value:"0",children:"Low Stock"}),Object(N.jsx)("option",{value:"1",children:"On Stock"}),Object(N.jsx)("option",{value:"2",children:"High Stock"})]}),Object(N.jsxs)("select",{onChange:function(e){O({type:"update_active",value:e.target.value})},name:"active",defaultValue:"/_default_/",className:"custom-select",style:{maxWidth:"200px"},children:[Object(N.jsx)("option",{value:"/_default_/",children:"Select Active or Inactive"}),Object(N.jsx)("option",{value:"1",children:"Active"}),Object(N.jsx)("option",{value:"0",children:"Inactive"})]}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",hidden:!0,children:"Filter"}),"No of Stock:",Object(N.jsx)("strong",{className:"text-danger",children:p})," Stock Value:",Object(N.jsxs)("strong",{className:"text-danger",children:["\u20b9 ",h]})]})});return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)(W,{title:"Products List",headerItems:x,rowURL:"/products/",filterItems:f,thData:["Name","Category","Brand","Stock","Mix Stock","Max Stock","MRP","Unit"],trData:i,dispatch:O,pageNo:s,noOfPages:r})})}var te=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={catagory:c.get("catagory"),brand_name:c.get("brand_name"),name:c.get("name"),mrp:c.get("mrp"),cp:c.get("cp"),unit:c.get("unit")},console.log(n),console.log(a.method),e.next=9,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/createNewProduct",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(r=e.sent,console.log(r),1!=r.done&&"true"!==r.done){e.next=18;break}return e.abrupt("return",Object(O.p)("/products/"+r.id));case 18:throw"Cannot create the product";case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ae=function(){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(Q,{title:"Add Customer"})})},ce=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={mobile_no:c.get("mobile"),name:c.get("name"),address_line_1:c.get("address_line_1"),address_line_2:c.get("address_line_2"),city_or_district:c.get("city_or_district"),state:c.get("state"),country:c.get("country"),postal_code:c.get("postal_code"),id:c.get("id")},console.log(n),console.log(a.method),e.next=9,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/clients/addClient",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 9:return s=e.sent,e.next=12,s.json();case 12:if(r=e.sent,console.log(r),1!=r.done&&"true"!==r.done){e.next=21;break}if("PUT"!=a.method){e.next=18;break}return alert("Client Details Has been updated"),e.abrupt("return",Object(O.p)("/clients/transaction/"+n.id));case 18:return e.abrupt("return",Object(O.p)("/clients"));case 21:if("PUT"!=a.method){e.next=25;break}throw r;case 25:throw"Cannot create the customer with the mobile number provided";case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function ne(){var e=Object(c.useState)({brands:[],category:[],units:[]}),t=Object(S.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/addProductPageDetails").then((function(e){return e.json()})).then((function(e){n(e)}))}),[]),Object(N.jsxs)("div",{className:"container",id:"addProductsForm",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsx)("h3",{children:"Add Product"})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"categorySelect",children:"Category"}),Object(N.jsx)("select",{className:"custom-select",name:"catagory",id:"categorySelect",required:!0,children:a.category.map((function(e,t){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))})]})}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"brandSelect",children:"Brand"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"brands",id:"brandSelect",name:"brand_name",required:!0}),Object(N.jsx)("datalist",{id:"brands",children:a.brands.map((function(e,t){var a=e.brand_name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.brand_name,children:a},t)}))})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Name",name:"name",required:!0})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"mrp",children:"MRP"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"mrp",placeholder:"00",name:"mrp",step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"cp",children:"Cost Price"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"cp",placeholder:"00",name:"cp",step:"any"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"unitSelect",children:"Unit"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"units",id:"unitSelect",name:"unit",required:!0}),Object(N.jsx)("datalist",{id:"units",children:a.units.map((function(e,t){var a=e.name.replace(/_/g," ");return Object(N.jsx)("option",{value:e.name,children:a},t)}))})]}),Object(N.jsx)("button",{className:"btn btn-info btn-sm",type:"submit",children:"Apply"})]})]})}var se=a(10);function re(){var e=Object(c.useState)([]),t=Object(S.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)({}),r=Object(S.a)(s,2),i=r[0],l=r[1],u=Object(c.useState)([]),j=Object(S.a)(u,2),b=j[0],m=j[1],p=Object(o.p)().id,h=Object(c.useState)(""),O=Object(S.a)(h,2),x=O[0],f=O[1],g=Object(c.useState)(1),v=Object(S.a)(g,2),y=v[0],w=v[1],C=Object(c.useState)(""),k=Object(S.a)(C,2),P=k[0],D=k[1],E=Object(c.useState)([]),T=Object(S.a)(E,2),L=T[0],A=T[1],F=Object(c.useState)(""),I=Object(S.a)(F,2),R=I[0],U=I[1],q=Object(c.useState)(!1),M=Object(S.a)(q,2),B=M[0],z=M[1],G=Object(c.useState)(0),H=Object(S.a)(G,2),W=H[0],V=H[1],J=Object(c.useState)(0),Q=Object(S.a)(J,2),Z=Q[0],K=Q[1],Y=Object(c.useState)(0),X=Object(S.a)(Y,2),$=X[0],ee=X[1],te=Object(c.useState)(0),ae=Object(S.a)(te,2),ce=ae[0],ne=ae[1],se=Object(c.useState)(0),re=Object(S.a)(se,2),ie=re[0],le=re[1],oe=Object(c.useState)(""),de=Object(S.a)(oe,2),ue=de[0],je=de[1],be=Object(c.useState)([]),me=Object(S.a)(be,2),pe=me[0],he=me[1],Oe=Object(c.useState)(0),xe=Object(S.a)(Oe,2),fe=xe[0],ge=xe[1],ve=Object(c.useState)(""),Ne=Object(S.a)(ve,2),ye=Ne[0],_e=Ne[1];return Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getProductDetails?"+new URLSearchParams({id:p})).then((function(e){return e.json()})).then((function(e){console.log(e),m(e.specsValues),n(e.specField),l(e.specs),f(e.product.catagory),w(e.product.per_peice_quantity),D(e.product.brand_name),A(e.brands),U(e.product.product_name),z(1===e.product.active),V(e.product.mrp),K(e.product.cp),ee(e.product.stock),ne(e.product.min_stock),le(e.product.default_stock),je(e.product.unit),he(e.units),ge(e.product.catagory_specs_id)}))}),[]),Object(c.useEffect)((function(){var e="";a.forEach((function(t,a){e+=t.Field+"::"})),_e(e)}),[a]),Object(N.jsxs)("div",{className:"container",id:"addProductsForm",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsx)("h3",{children:"Edit Product"})}),Object(N.jsxs)("h3",{children:["Enter the ",x,"'s Specification"]}),Object(N.jsxs)(d.a,{method:"POST",children:[a.map((function(e,t){return"specs_id"!=e.Field?Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:e.Field+"Select",children:e.Field}),Object(N.jsx)("input",{type:e.Type,className:"form-control",list:e.Field,id:e.Field+"Select",value:i[e.Field],onChange:function(t){var a=Object(_.a)({},e);a[e.Field]=t.target.value,l(a)},name:e.Field}),Object(N.jsx)("datalist",{id:e.Field,children:b[t].map((function(t,a){return Object(N.jsx)("option",{children:t[e.Field]},a)}))})]},t):Object(N.jsx)("input",{type:"hidden",id:"specs",name:"specs",onChange:function(e){return _e(e.target.value)},value:ye})})),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"quantity_per_peice",children:"Quantity Per Peice"}),Object(N.jsx)("input",{step:"any",type:"number",className:"form-control",id:"quantity_per_peice",placeholder:"1",name:"quantity_per_peice",value:y,onChange:function(e){w(e.target.value)}})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"brandSelect",children:"Brand"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"brands",id:"brandSelect",value:P,name:"brand_name",onChange:function(e){D(e.target.value)}}),Object(N.jsx)("datalist",{id:"brands",children:L.map((function(e,t){return Object(N.jsx)("option",{children:e.brand_name},t)}))})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",placeholder:"Name",name:"name",value:R,onChange:function(e){U(e.target.value)}})]}),Object(N.jsx)("input",{checked:B,type:"radio",value:!0,id:"active",name:"active",onChange:function(e){z("true"===e.target.value)}}),Object(N.jsx)("label",{htmlFor:"active",className:"mr-3",children:"Active"}),Object(N.jsx)("input",{checked:!B,type:"radio",value:!1,id:"inactive",name:"active",onChange:function(e){z("true"===e.target.value)}}),Object(N.jsx)("label",{htmlFor:"inactive",children:"Inactive"}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"mrp",children:"MRP"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"mrp",placeholder:"1000.00",name:"mrp",value:W,onChange:function(e){V(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"cp",children:"Info"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"cp",placeholder:"950.00",name:"cp",value:Z,onChange:function(e){K(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"stock",children:"Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"stock",placeholder:"1",name:"stock",value:$,onChange:function(e){ee(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"min_stock",children:"Enter The Min. Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"min_stock",placeholder:"1",name:"min_stock",value:ce,onChange:function(e){ne(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group ",children:[Object(N.jsx)("label",{htmlFor:"default_stock",children:"Enter The Default Stock"}),Object(N.jsx)("input",{type:"number",className:"form-control",id:"default_stock",placeholder:"950.00",name:"default_stock",value:ie,onChange:function(e){le(e.target.value)},step:"any"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"unitSelect",children:"Unit"}),Object(N.jsx)("input",{type:"text",className:"form-control",list:"units",id:"unitSelect",value:ue,onChange:function(e){je(e.target.value)},name:"unit"}),Object(N.jsx)("datalist",{id:"units",children:pe.map((function(e,t){return Object(N.jsx)("option",{value:e,children:" u "},t)}))})]}),Object(N.jsx)("input",{type:"hidden",name:"product_id",onChange:function(e){},value:p}),Object(N.jsx)("input",{type:"hidden",name:"catagory_specs_id",onChange:function(e){},value:fe}),Object(N.jsx)("input",{type:"hidden",name:"catagory",onChange:function(e){},value:x}),Object(N.jsx)("button",{className:"btn btn-info btn-sm",type:"submit",children:"Apply"})]})]})}var ie=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n=Object(se.a)({catagory:c.get("catagory"),brand_name:c.get("brand_name"),name:c.get("name"),mrp:c.get("mrp"),cp:c.get("cp"),unit:c.get("unit"),specs:c.get("specs"),product_id:c.get("product_id"),quantity_per_peice:c.get("quantity_per_peice"),active:c.get("active"),stock:c.get("stock"),min_stock:c.get("min_stock"),default_stock:c.get("default_stock"),catagory_specs_id:c.get("catagory_specs_id")},"catagory",c.get("catagory")),n.specs.split("::").slice(1,-1).forEach((function(e){n[e]=c.get(e)})),e.next=10,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/editProduct",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:return s=e.sent,e.next=13,s.json();case 13:if(1!=(s=e.sent).done){e.next=19;break}return alert("The Product Has been updated"),e.abrupt("return",Object(O.p)("/products/"+n.product_id));case 19:throw"Cannot Edit The Products Please Contact Admin. MSG: "+s.err;case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var le=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getCategoryList");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(o.k)().data,t=Object(o.n)();return Object(N.jsx)("div",{class:"d-flex container",children:Object(N.jsx)("div",{id:"page-content-wrapper",children:Object(N.jsxs)("div",{class:"copntainer-fluid",children:[Object(N.jsxs)("div",{class:"card",children:[Object(N.jsx)("div",{class:"card-header",children:Object(N.jsxs)("div",{className:H.a.cardHeader,children:[Object(N.jsx)("div",{children:Object(N.jsx)("div",{children:Object(N.jsx)("p",{className:"display-4 card-heading",children:"Catagory"})})}),Object(N.jsx)("div",{children:Object(N.jsx)("button",{onClick:function(){t("/productsCatagory/add")},className:"btn btn-dark",children:"Add Category"})})]})}),Object(N.jsxs)("table",{class:"table table-striped table-hover",children:[Object(N.jsx)("thead",{class:"thead-dark",children:Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"col",children:"Name"}),Object(N.jsx)("th",{scope:"col",children:"Belongs To"})]})}),Object(N.jsx)("tbody",{children:e.map((function(e){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsxs)("tr",{children:[Object(N.jsx)("th",{scope:"row",onClick:function(){t("/productsCatagory/".concat(e.name))},children:a}),Object(N.jsx)("td",{children:e.this_catagory_belongs_to})]})}))})]})]}),Object(N.jsx)("div",{class:"card-footer"})]})})})};function de(e){return Object(N.jsx)("div",{id:"spec-container",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsxs)("label",{htmlFor:"spec_".concat(e.n),children:["Spec ",e.n]}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(e.n),name:"spec_".concat(e.n),required:!0})]}),Object(N.jsxs)("div",{className:"form-group col-md-4",children:[Object(N.jsx)("label",{htmlFor:"spec_".concat(e.n,"_default"),children:"Default"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(e.n,"_default"),name:"default_".concat(e.n),required:!0})]})]})})}function ue(){var e=Object(c.useState)(1),t=Object(S.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([Object(N.jsx)(de,{n:"1"},1)]),r=Object(S.a)(s,2),i=r[0],l=r[1],u=Object(o.k)().data,j=Object(o.n)();return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsx)("h3",{children:"Add Category"})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("input",{hidden:!0,type:"number",name:"no_of_specs",value:a,onChange:function(e){}}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsx)("label",{htmlFor:"catagory_name",children:"Category Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"catagory_name",name:"catagory_name",required:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Category name is required"})]}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"belongs_to",children:"This Category belongs to"}),Object(N.jsxs)("select",{className:"custom-select",name:"belongs_to",id:"belongs_to",required:!0,children:[Object(N.jsx)("option",{value:"null",children:"null"}),u.map((function(e,t){var a=e.name.replace(/_/g," ");return a=a.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})),Object(N.jsx)("option",{value:e.name,children:a},t)}))]})]})})]}),i,Object(N.jsx)("button",{type:"submit",className:"btn btn-primary btn-sm add-button",children:"Add"}),Object(N.jsx)("a",{className:"btn btn-info btn-sm add-button mr-3 mb-3 text-white",onClick:function(){j(-1)},role:"button",children:"Cancel"}),Object(N.jsx)("a",{className:"btn btn-info btn-sm add-button mr-3 mb-3 text-white",role:"button",onClick:function(){var e=Object(w.a)(i);e.push(Object(N.jsx)(de,{n:a+1},a+1)),l(e),n(a+1)},children:"Add Specs"})]})]})}var je=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,l,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:for(c=e.sent,n=c.get("no_of_specs"),s={},r=1;r<=n;r++)s["spec_".concat(r)]=c.get("spec_".concat(r)),s["default_".concat(r)]=c.get("default_".concat(r));return s.name=c.get("catagory_name"),s.belongs_to=c.get("belongs_to"),console.log(s),console.log(a.method),e.next=13,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/catagory/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});case 13:return l=e.sent,e.next=16,l.json();case 16:if(1!=(o=e.sent).done&&"true"!==o.done){e.next=21;break}return e.abrupt("return",Object(O.p)("/productsCatagory"));case 21:throw"Cannot create the product";case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function be(){var e=Object(o.n)(),t=Object(o.k)(),a=t.category,c=t.category_specs;console.log(a),console.log(c);var n=a.name.replace(/_/g," ");n=n.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}));var s=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var c,n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/deleteCatagory/"+a.name);case 2:return c=t.sent,t.next=5,c.json();case 5:n=t.sent,console.log(n),1==n.done||"true"===n.done?e(-1):alert("Cannot delete",n.msg);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("div",{className:"add-heading bg-primary",children:Object(N.jsxs)("h3",{children:["Edit ",n," Category"]})}),Object(N.jsxs)(d.a,{method:"POST",className:"needs-validation",noValidate:!0,children:[Object(N.jsx)("input",{hidden:!0,type:"number",name:"no_of_specs",value:"no_of_specs",onChange:function(e){}}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsx)("label",{htmlFor:"catagory_name",children:"Category Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"catagory_name",value:n,disabled:!0,name:"catagory_name",required:!0}),Object(N.jsx)("div",{className:"invalid-feedback",children:"Category name is required"})]}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsxs)("div",{className:"select-items",children:[Object(N.jsx)("label",{htmlFor:"belongs_to",children:"This Category belongs to"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"belongs_to",value:a.this_catagory_belongs_to,disabled:!0,name:"belongs_to",required:!0})]})})]}),c.map((function(e,t){if(t+=1,"specs_id"!=e.Field)return Object(N.jsx)("div",{id:"spec-container",children:Object(N.jsxs)("div",{className:"row",children:[Object(N.jsxs)("div",{className:"form-group col-md-8",children:[Object(N.jsxs)("label",{htmlFor:"spec_".concat(t),children:["Spec ",t]}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(t),value:e.Field,onChange:function(){},disabled:!0,name:"spec_".concat(t),required:!0})]}),Object(N.jsxs)("div",{className:"form-group col-md-4",children:[Object(N.jsx)("label",{htmlFor:"spec_".concat(t,"_default"),children:"Default"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"spec_".concat(t,"_default"),value:e.Default,onChange:function(){},disabled:!0,name:"default_".concat(t),required:!0})]})]})},t)})),Object(N.jsx)("a",{class:"btn btn-danger btn-sm add-button mr-3 mb-3 text-white",role:"button",onClick:s,children:"Delete"})]})]})}var me=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.request,a=t.params,e.next=3,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/editCatagory/"+a.name);case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var pe=function(){var e=Object(o.n)(),t=Object(c.useState)(""),a=Object(S.a)(t,2),n=a[0],s=a[1],r=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_DISTRIBUTORS_LIST":return Object(_.a)(Object(_.a)({},e),{},{distributorsList:t.value.distributorsList,noOfPages:t.value.noOfPages});case"UPDATE_ALL_DISTRIBUTORS_LIST":return Object(_.a)(Object(_.a)({},e),{},{allDistributorsList:t.allDistributorsList});default:return e}}),{pageNo:0,distributorsList:[],noOfPages:0,allDistributorsList:[]}),d=Object(S.a)(r,2),u=d[0],j=u.pageNo,b=u.distributorsList,m=u.noOfPages,p=u.allDistributorsList,h=d[1];Object(c.useEffect)((function(){fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getAllDistributorsList").then((function(e){return e.json()})).then((function(e){h({type:"UPDATE_ALL_DISTRIBUTORS_LIST",allDistributorsList:e.allDistributorsList})}))}),[]),Object(c.useEffect)((function(){var e=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getDistributorsList?"+new URLSearchParams({pageNo:j}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,h({type:"UPDATE_DISTRIBUTORS_LIST",value:{distributorsList:a.distributorsList,noOfPages:a.noOfPages}});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();try{e()}catch(t){alert("unable to connet to server")}}),[j,h]);var O=Object(N.jsxs)("div",{className:"d-flex justify-content-end",children:[Object(N.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=n.split(" ")[0];"number"==typeof Number(a)?e("/distributors/transaction/"+a):alert("Invalid Id")},className:"form-inline",id:"cForm",children:[Object(N.jsx)("input",{type:"text",className:"form-control mr-2",list:"dist_list",id:"select_dist",name:"dist",value:n,onChange:function(e){s(e.target.value)},autoFocus:!0}),Object(N.jsx)("button",{className:"btn btn-outline-dark btn-sm",children:"Search"})]}),Object(N.jsx)("form",{className:"form-inline",children:Object(N.jsx)("button",{onClick:function(){e("/distributors/add")},type:"button",className:"btn btn-dark btn-sm ml-2",children:"Add Distributors"})}),Object(N.jsx)("datalist",{dir:"rtl",id:"dist_list",children:p.map((function(e){var t=e.name.replace(/_/g," ");return Object(N.jsxs)("option",{children:[e.distributor_id," "," : "," ",t.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))]},e.distributor_id)}))})]});return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)(W,{title:"Distributors List",rowURL:"/distributors/transaction/",headerItems:O,thData:["ID","Name","Address","District","State","Postal Code"],trData:b,dispatch:h,pageNo:j,noOfPages:m})})};var he=function(e){var t=Object(c.useReducer)((function(e,t){switch(t.type){case"l1":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value});case"l2":return Object(_.a)(Object(_.a)({},e),{},{l2:t.value});case"city":return Object(_.a)(Object(_.a)({},e),{},{city:t.value});case"zip":return Object(_.a)(Object(_.a)({},e),{},{zip:t.value});case"state":return Object(_.a)(Object(_.a)({},e),{},{state:t.value});case"name":return Object(_.a)(Object(_.a)({},e),{},{name:t.value});case"id":return Object(_.a)(Object(_.a)({},e),{},{id:t.value});case"country":return Object(_.a)(Object(_.a)({},e),{},{country:t.value});case"inputDisabled":return Object(_.a)(Object(_.a)({},e),{},{inputDisabled:t.value});case"mode":return Object(_.a)(Object(_.a)({},e),{},{mode:t.value});case"edit":return Object(_.a)(Object(_.a)({},e),{},{mode:"edit",inputDisabled:!1});case"read":return Object(_.a)(Object(_.a)({},e),{},{mode:"read",inputDisabled:!0});case"all":return Object(_.a)(Object(_.a)({},e),{},{l1:t.value.l1,l2:t.value.l2,city:t.value.city,zip:t.value.zip,state:t.value.state,name:t.value.name,id:t.value.id,country:t.value.country,mode:"read",inputDisabled:!0});default:return e}}),{l1:"",l2:"",city:"",zip:"",state:"",name:"",id:"",country:"",inputDisabled:!1,mode:"add"}),a=Object(S.a)(t,2),n=a[0],s=n.l1,r=n.l2,i=n.city,l=n.zip,o=n.state,u=n.name,j=n.id,b=n.country,m=n.mode,p=n.inputDisabled,h=a[1];Object(c.useEffect)((function(){e.data&&h({type:"all",value:e.data})}),[]);var O="Add Distributors";return"read"===m&&(O="Edit"),O="read"===m?"Edit":"Save",Object(N.jsxs)("div",{className:"card",children:[Object(N.jsx)("div",{className:"card-header",children:Object(N.jsx)("p",{className:"display-4 card-heading",children:e.title})}),Object(N.jsx)("div",{className:"m-3",children:Object(N.jsxs)(d.a,{action:"/clients/add-client",method:e.method?e.method:"POST",children:[Object(N.jsx)("div",{className:"",children:Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{onChange:function(e){h({type:"name",value:e.target.value})},disabled:p,id:"inputName",label:"Distributors Name",type:"text",name:"name",value:u,placeholder:"Sentury",msg:"Make sure to input full name.",required:!0})})}),Object(N.jsx)("div",{className:"address",children:Object(N.jsxs)("div",{id:"address-section",children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 1",disabled:p,type:"text",value:s,onChange:function(e){h({type:"l1",value:e.target.value})},id:"inputAddress",placeholder:"Enter customer address",name:"address_line_1",required:!0})}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)(I,{label:"Address Line 2",disabled:p,type:"text",value:r,onChange:function(e){h({type:"l2",value:e.target.value})},id:"inputAddress2",placeholder:"Enter customer address line 2",name:"address_line_2"})}),Object(N.jsxs)("div",{className:"form-row",children:[Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"City",disabled:p,type:"text",value:i,onChange:function(e){h({type:"city",value:e.target.value})},id:"inputCity",placeholder:"Enter customer city",name:"city_or_district",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-4",children:Object(N.jsx)(I,{label:"State",disabled:p,type:"text",value:o,onChange:function(e){h({type:"state",value:e.target.value})},id:"inputState",placeholder:"Enter customer state",name:"state",required:!0})}),Object(N.jsx)("div",{className:"form-group col-md-2",children:Object(N.jsx)(I,{label:"Country",disabled:p,type:"text",value:b,onChange:function(e){h({type:"country",value:e.target.value})},id:"inputCountry",placeholder:"Enter customer country",name:"country",required:!0})}),Object(N.jsxs)("div",{className:"form-group col-md-2",children:[Object(N.jsx)(I,{label:"Zip",disabled:p,type:"number",value:l,onChange:function(e){h({type:"zip",value:e.target.value})},id:"inputZip",placeholder:"Enter customer zip",name:"postal_code",required:!0}),Object(N.jsx)("input",{onChange:function(e){},hidden:!0,name:"id",value:""===j||null===j?"":j})]})]})]})}),Object(N.jsx)("button",{onClick:function(t){e.data&&h({type:"all",value:e.data})},hidden:!e.data||"edit"!==m,className:"add-button ml-5 btn btn-dark",type:"reset",children:"Cancel"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-outline-danger add-button submitButton",onClick:function(e){if("read"==m)return e.preventDefault(),void h({type:"edit"})},children:O})]})})]})};function Oe(){return Object(N.jsx)("div",{className:"container",style:{marginTop:"40px"},children:Object(N.jsx)(he,{title:"Add Distributors"})})}var xe=function(){var e=Object(o.p)().id,t=Object(c.useReducer)((function(e,t){switch(t.type){case"UPDATE_PAGENO":return t.value<=e.noOfPages&&t.value>=1?Object(_.a)(Object(_.a)({},e),{},{pageNo:Number(t.value)-1}):Object(_.a)({},e);case"INCREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:++e.pageNo});case"DECREMENT_PAGENO":return Object(_.a)(Object(_.a)({},e),{},{pageNo:--e.pageNo});case"UPDATE_LIST":return Object(_.a)(Object(_.a)({},e),{},{list:t.value.list,noOfPages:t.value.noOfPages,name:t.value.name,details:t.value.details});case"TOGGLE_SHOW_DETAILS":return Object(_.a)(Object(_.a)({},e),{},{showDetails:!e.showDetails});default:return e}}),{pageNo:0,list:[],noOfPages:0,name:"",showDetails:!1}),a=Object(S.a)(t,2),n=a[0],s=n.pageNo,r=n.list,d=n.noOfPages,u=n.name,j=n.showDetails,b=a[1];Object(c.useEffect)((function(){var t=function(){var t=Object(l.a)(Object(i.a)().mark((function t(){var a,c;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getAllDistributorsHistory?"+new URLSearchParams({pageNo:s,id:e}));case 2:return a=t.sent,t.next=5,a.json();case 5:c=t.sent,b({type:"UPDATE_LIST",value:{list:c.list,noOfPages:c.noOfPages,name:c.name,details:c.details}});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();try{t()}catch(a){alert("unable to connet to server")}}),[s,b,e]);Object(o.k)().data;var m=Object(N.jsx)("button",{onClick:function(){b({type:"TOGGLE_SHOW_DETAILS"})},className:"btn btn-dark btn-ms",children:j?"Hide Details":"Show Details"});return Object(N.jsx)("div",{className:"container",style:{paddingBottom:"50px"},children:Object(N.jsx)("div",{style:{display:"block"},children:Object(N.jsx)(W,{title:"".concat(""===u||null===u?"Customer Not Found":u+"s Transactions"),headerItems:m,rowURL:"/",thData:["Sales or Paymet","Date","Debit","Credit"],trData:r,dispatch:b,pageNo:s,noOfPages:d})})})},fe=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params,e.next=3,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/getDistributorsDetails?"+new URLSearchParams({id:a.id}));case 3:return c=e.sent,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var ge=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/loginReact",{credentials:"include"});case 2:return t=e.sent,e.next=5,t.json();case 5:if(!e.sent.authenticated){e.next=10;break}return e.abrupt("return",Object(O.p)("/"));case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,e.next=3,a.formData();case 3:return c=e.sent,n={password:c.get("password"),email:c.get("email")},e.next=7,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/loginReact",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n),credentials:"include"});case 7:return s=e.sent,e.next=10,s.json();case 10:if(!(r=e.sent).success){e.next=19;break}return localStorage.setItem("token",r.token),(l=new Date).setHours(l.getHours()+24),localStorage.setItem("expiration",l.toISOString()),e.abrupt("return",Object(O.p)("/"));case 19:return alert(r.msg),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){return Object(o.n)(),Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"login-form",children:Object(N.jsxs)(d.a,{className:"form-signin",method:"post",children:[Object(N.jsx)("h2",{className:"form-signin-heading",children:"Wellcome Back!"}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(N.jsx)("input",{type:"email",name:"email",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",autoFocus:!0}),Object(N.jsx)("small",{id:"emailHelp",className:"form-text text-muted",children:"We'll never share your email with anyone else."})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(N.jsx)("input",{type:"password",name:"password",className:"form-control",id:"exampleInputPassword1"})]}),Object(N.jsx)("button",{className:"btn btn-lg btn-danger btn-block",type:"submit",children:"Sign in"}),Object(N.jsx)("br",{})]})})})})};var ye=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,c,n,s,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.request,t.params,console.log("singingUp"),e.next=4,a.formData();case 4:return c=e.sent,n={name:c.get("name"),pwd:c.get("pwd"),email:c.get("email"),position:c.get("position")},console.log(n),console.log(a.method),e.next=10,fetch("http://nodejs-erm-express-rds.eba-gvxxjsfd.us-west-2.elasticbeanstalk.com/signUpReact",{method:a.method,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 10:return s=e.sent,e.next=13,s.json();case 13:if(r=e.sent,console.log(r),!r.success){e.next=19;break}return e.abrupt("return",Object(O.p)("/login"));case 19:return alert("Email already already present!"),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_e=function(){return Object(N.jsx)("div",{className:"d-flex",id:"wrapper",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"login-form",children:Object(N.jsxs)(d.a,{className:"form-signin",method:"post",children:[Object(N.jsx)("h2",{className:"form-signin-heading",children:"Wellcome To Royal Plywood"}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"name",children:"Name"}),Object(N.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email address"}),Object(N.jsx)("input",{type:"email",className:"form-control",id:"exampleInputEmail1",name:"email","aria-describedby":"emailHelp"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"exampleInputPassword1",children:"Password"}),Object(N.jsx)("input",{type:"password",name:"pwd",className:"form-control",id:"exampleInputPassword1"})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"position",children:"Select Position"}),Object(N.jsxs)("select",{name:"position",className:"form-control",id:"position",children:[Object(N.jsx)("option",{value:"sales",children:"Sales"}),Object(N.jsx)("option",{value:"manager",children:"Manager"})]})]}),Object(N.jsx)("button",{className:"btn btn-lg btn-primary btn-block",type:"submit",children:"Sign in"}),Object(N.jsx)("br",{}),Object(N.jsxs)("p",{children:["Already a member? ",Object(N.jsx)(d.b,{to:"/login",children:"Login"}),", it's free."]})]})})})})};var we=function(e){var t=401===e.status?"/login":"/",a=401===e.status?"Login":"Home";return Object(N.jsx)("section",{className:"page_404",children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)("div",{className:"row",children:Object(N.jsx)("div",{className:"col-sm-12 ",children:Object(N.jsxs)("div",{className:"col-sm-10 col-sm-offset-1  text-center",children:[Object(N.jsx)("div",{className:"four_zero_four_bg",children:Object(N.jsx)("h1",{className:"text-center ",children:e.status})}),Object(N.jsxs)("div",{className:"contant_box_404",children:[Object(N.jsx)("h3",{className:"h2",children:e.header}),Object(N.jsx)("p",{children:e.msg}),Object(N.jsx)(d.b,{to:t,className:"link_404",children:a})]})]})})})})})};function Se(){var e=Object(o.r)(),t="An error occured!",a="Something went wrong!",c="404";return e.header?(t=e.header,a=e.msg,c=e.msg):e.status?(c=e.status,t=e.statusText,a=""):(c="404",t="Page Not Found!"),Object(N.jsx)(we,{header:t,msg:a,status:c})}function Ce(){return localStorage.removeItem("token"),localStorage.removeItem("expiration"),Object(O.p)("/login")}var ke=function(){var e=Object(d.c)([{path:"/",element:Object(N.jsx)(y,{}),errorElement:Object(N.jsx)(Se,{}),loader:g,children:[{index:!0,element:Object(N.jsx)(F,{})},{path:"/sellCheckout",element:Object(N.jsx)(U,{})},{path:"/sales",element:Object(N.jsx)(V,{})},{path:"/sales/bill/:id",element:Object(N.jsx)(z,{})},{path:"/clients",element:Object(N.jsx)(J,{})},{path:"/clients/transaction/:id",loader:Y,element:Object(N.jsx)(K,{})},{path:"/clients/add-client",action:ce,element:Object(N.jsx)(ae,{})},{path:"/products",element:Object(N.jsx)(ee,{})},{path:"/products/:id",action:ie,element:Object(N.jsx)(re,{})},{path:"/products/addProducts",action:te,element:Object(N.jsx)(ne,{})},{path:"/productsCatagory",loader:le,element:Object(N.jsx)(oe,{})},{path:"/productsCatagory/add",loader:le,action:je,element:Object(N.jsx)(ue,{})},{path:"/productsCatagory/:name",loader:me,element:Object(N.jsx)(be,{})},{path:"/distributors",element:Object(N.jsx)(pe,{})},{path:"/distributors/add",element:Object(N.jsx)(Oe,{})},{path:"/distributors/transaction/:id",loader:fe,element:Object(N.jsx)(xe,{})},{path:"/signUp",action:ye,element:Object(N.jsx)(_e,{})}]},{path:"/login",loader:ge,action:ve,element:Object(N.jsx)(Ne,{})},{path:"logout",action:Ce}]);return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(o.c,{router:e})})},Pe=Object(u.a)({reducer:{cart:D,auth:b}});s.a.render(Object(N.jsx)(r.a,{store:Pe,children:Object(N.jsx)(ke,{})}),document.getElementById("root"))}},[[97,1,3]]]);
//# sourceMappingURL=main.69f42e43.chunk.js.map